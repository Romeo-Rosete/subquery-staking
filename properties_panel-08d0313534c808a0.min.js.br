
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="29ca0426-2df9-5378-9f48-0f2b7439a4f0")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7355],{237086:(e,t,n)=>{"use strict";n.d(t,{jW:()=>H,cI:()=>K,ex:()=>D});var l=n(411855),r=n(188507),a=n(767129),i=n(841368),o=n(169614),s=n(829826),c=n(948986),d=n(656927),p=n(480201),u=n(548891),m=n(487644),h=n(77153),g=n(402791),E=n(573760),_=n(487664),y=n(585219),f=n(131350),v=n(664080),b=n(797811),S=n(113420),w=n(947680),T=n(579038),P=n(127161),C=n(574560),k=n(625829),I=n(205786),N=n(829879),A=n(534766),R=n(757358),O=n(455399),M=n(82131),x=n(258376),L=n(951912);function K(e){return l.createElement(c.p,{name:"live_object_panel"},l.createElement(O.Zk,null,l.createElement(O.fI,{className:M.LO},l.createElement(O.xw,null,l.createElement("div",{className:"live_object_panel--title--9VTOA"},l.createElement(m.B,{svg:L.A}),l.createElement(g.Tx,{id:"fullscreen.live_object_panel.live_object"}))),l.createElement(B,{pasteSources:e.pasteSources,recordingKey:e.recordingKey}))))}async function F(e,t){for(let n=0;n<t;n++)try{let t=await d.Ay.post(e,void 0,{responseType:"arraybuffer"});return new Uint8Array(t.data)}catch(e){console.error(e)}throw Error(`Failed to download bytes from ${e}`)}async function D(e,t,n){try{let e=[];for(let l of t)(0,o.sx)("update_live_object",{...l}),l.srcFile?(e.push(F(`/api/file_proxy/file/${l.srcFile}/canvas?nodes_to_extract=${l.srcNode}&fv=${n}`,2).then(e=>{b.l7.user("update-live-object-remote",()=>v.glU.updateLiveObject(e,l.nodeId,l.srcNode,l.srcFile))})),await Promise.all(e)):b.l7.user("update-live-object-local",()=>v.glU.updateLiveObject(new Uint8Array,l.nodeId,l.srcNode,""))}catch(t){e(E.F.enqueue({message:(0,g.t)("fullscreen.live_object_panel.live_update_error"),error:!0}))}f.Y5.triggerAction("commit"),e(E.F.enqueue({message:(0,g.t)("fullscreen.live_object_panel.live_update_success")}))}function H(e){let t=(0,r.wA)(),n=(0,w.eY)(),a=function(){let e=(0,I.Z)("outline_navigate"),t=(0,C.Yk)();return l.useCallback(n=>{N.wr(),N.Dh([n]);let l=f.Y5.getViewportInfo();e((0,A.QZ)({nodeId:n,alwaysPan:!0,viewportRect:k.r.fromOriginAndSize(l.x,l.y,l.width,l.height-l.y-t)}))},[t,e])}(),{pasteSources:i,liveUpdate:o,isLiveUpdating:c}=e,d=(0,r.d4)(e=>e.mirror.selectionProperties.resettableInstanceOverrides),u=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),m=!1;if(d){if(d.bubbledInstanceOverrides)m=!0;else for(let e of Object.values(d.selectionOverrides))if(e){m=!0;break}}return l.createElement(l.Fragment,null,l.createElement(p.W.Option,{onClick:()=>{if(1!==i.length)return;let e=i[0];e.srcFile?t((0,_.RK)({rawInput:`${window.location.origin}/file/${e.srcFile}?node-id=${e.srcNode}`})):a(e.srcNode)},disabled:1!==i.length,recordingKey:s.Pt(e,"goToOriginal"),key:"goToOriginal"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.go_to_original"})),l.createElement(p.W.Option,{disabled:!m,onClick:()=>{let e=i.map(e=>e.nodeId);b.l7.user("reset-instance-overrides",()=>v.glU.resetSymbolOverridesForNodes(e,v.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS)),f.Y5.commit()},recordingKey:s.Pt(e,"resetAllChanges"),key:"resetAllChanges"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.reset_all_changes"})),l.createElement(p.W.Option,{onClick:()=>o(i),disabled:c,recordingKey:s.Pt(e,"updateLiveObject-menu"),key:"updateLiveObject"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.update_live_object"})),l.createElement(p.W.Separator,{key:"divider"}),l.createElement(p.W.Option,{className:"live_object_panel--menuOption--MSmCN",onClick:()=>{let e=[];for(let t of i){let l=n.get(t.nodeId);l&&(e.push(t.nodeId),l.clearPasteSource())}b.l7.user("detach-instances",()=>v.glU.detachInstances(e)),f.Y5.commit()},recordingKey:s.Pt(e,"detachFromLive"),key:"detachFromLive"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.detach_from_live"}),l.createElement("span",{className:"live_object_panel--shortcut--hBzZv"},(0,P.c1)(u,"detach-instance"))))}function B(e){let{pasteSources:t}=e,n=(0,r.wA)(),{showing:o,toggle:c}=(0,S.B)("live-object-dropdown"),d=(0,r.d4)(e=>e.fileVersion),[p,m]=l.useState(!1),E=l.useRef(null),_=s.Pt(e,"updateLiveObject"),f=s.Pt(e,"liveObjectMenu"),v=l.useCallback(async e=>{m(!0),await D(n,e,d),m(!1)},[d,n]);return l.createElement(l.Fragment,null,p?l.createElement(u.kt,{className:"live_object_panel--spinner--iQ62Q",altIcon:x.A}):l.createElement(a.K,{as:"button",onClick:()=>v(t),onMouseDown:y.dG,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.live_object_panel.update_live_object"),"aria-label":(0,g.t)("fullscreen.live_object_panel.update_live_object"),recordingKey:_},l.createElement(h.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:x.A})),l.createElement("div",{ref:E},l.createElement(O.YW,{selected:o,onClick:c,onMouseDown:y.dG,className:"live_object_panel--iconButton--vrVs2","data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.live_object_panel.live_object_options"),recordingKey:f},l.createElement(i.J,null))),o&&(E.current?l.createElement(R.Cf,{targetRect:E.current.getBoundingClientRect(),propagateCloseClick:!0},l.createElement(H,{pasteSources:t,liveUpdate:v,isLiveUpdating:p,recordingKey:f})):null))}},126885:(e,t,n)=>{"use strict";let l,r,a,i;n.r(t),n.d(t,{PropertiesPanel:()=>uk});var o=n(411855),s=n(629019),c=n.n(s),d=n(169614),p=n(499200),u=n(611464),m=n(732326),h=n(272078),g=n(963039),E=n(271078),_=n(829826),y=n(785341),f=n(143551),v=n(835293),b=n(948986),S=n(451015),w=n(577241),T=n(106309),P=n(714287),C=n(797019);function k(e){return(0,T.TR)()?o.createElement(I,{...e}):o.createElement(o.Fragment,null,e.children)}function I({name:e,trackingEnabled:t,alsoTrack:n,children:l}){let r=(0,S.F)(n),a=(0,T.U2)({name:e,trackingEnabled:t,alsoTrackRef:r,isNamespace:!1,autoTrackable:!1}),{error:i,trackablePath:s}=a,c=(0,T.MF)(()=>(0,T.ET)(s));(0,T.fK)(s,c);let d=(0,w.o3)(w.nt.trackableDebug),p=(0,T.MF)(()=>(0,T.R8)({componentName:"Trackable",name:e,error:i,alsoTrackedProperties:c()}));return l=(0,C.C)({children:l,isDebugMode:d,name:e,color:i?"red":"green",depth:s.length,getTooltipText:p}),o.createElement(P.f.Provider,{value:a},o.createElement("div",{className:"displayContents","data-trackable-name":e},l))}var N=n(42910),A=n(62385),R=n(178041),O=n(467066),M=n(487644),x=n(138611),L=n(345866),K=n(183518),F=n(402791),D=n(876233),H=n(258458),B=n(965923),V=n(586271),U=n(878515),Z=n(61415),G=n(165077),Y=n(585219),z=n(45481),W=n(999231),X=n(131350),Q=n(664080),$=n(449565),j=n(245470),q=n(829879),J=n(292229),ee=n(303896),et=n(509047),en=n(19599),el=n(422710),er=n(327092),ea=n(748673),ei=n(127161),eo=n(170766),es=n(109388),ec=n(188507),ed=n(459593);function ep(e){return o.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-1.146 1.147a.5.5 0 1 1-.707-.708L12 7 8 3 4 7l1.146 1.146a.5.5 0 1 1-.707.708L3.293 7.707a1 1 0 0 1 0-1.414l4-4Zm-2.147 8.353a.5.5 0 0 0 .708.708L7.5 9.707V13.5a.5.5 0 0 0 1 0V9.707l1.646 1.647a.5.5 0 0 0 .708-.708l-2.5-2.5a.5.5 0 0 0-.708 0l-2.5 2.5Z",clipRule:"evenodd"}))}var eu=n(221768),em=n(204556),eh=n(480201),eg=n(77153),eE=n(983245),e_=n(705715),ey=n(579038),ef=n(718314),ev=n(40782),eb=n(757358),eS=n(369700),ew=n(20865);function eT({ref:e,onTextChange:t,text:n}){let[l,r]=(0,o.useState)(!1),a=(0,ew.w)(e);return(0,o.useLayoutEffect)(()=>void(null==t||t()),[t,n]),(0,o.useLayoutEffect)(()=>{var t;r(!!(t=e.current)&&t.clientWidth<t.scrollWidth)},[e,a,n]),l}function eP(e){let{containerClassName:t,isHTMLString:n,onExpandCallback:l,text:r}=e,a=o.useMemo(()=>n?(0,eS.A)(r):r,[n,r]),[i,s]=o.useState(!1),c=o.useRef(null),d=eT({ref:c,onTextChange:o.useCallback(()=>s(!1),[]),text:a}),p=o.useCallback(()=>{l?l(!i):s(!i)},[i,l]),u=i?"Show less":"Show more";return o.createElement("div",{className:`${t} expandable_text_container--container--fauZM`},o.createElement("div",{ref:c,className:i?"":"expandable_text_container--truncatedText--Zh19Y ellipsis--ellipsis--Tjyfa"},a),d&&o.createElement("div",{className:"expandable_text_container--toggleToExpandPrompt--y9zk9",onClick:p},u))}var eC=n(358278),ek=n(709744),eI=n(509952),eN=n(695614),eA=n(216309),eR=n(797811),eO=n(955505),eM=n(974492),ex=n(360448),eL=n(709955),eK=n(455399);let eF="rich_text_asset_description_input--quillInput--w9zzt";function eD({description:e,isViewOnly:t,placeholder:n,onBlur:l,onSubmit:r}){let a=o.useCallback(e=>{e.stopPropagation()},[]);return t&&""===e?null:o.createElement(eK.fI,{className:"rich_text_asset_description_input--textRow--JlCKa component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V",onMouseDown:a,onPointerDown:a},o.createElement("div",{className:t?"rich_text_asset_description_input--labelViewOnly--EBSZ9 rich_text_asset_description_input--label--U3bKd":"rich_text_asset_description_input--label--U3bKd"},o.createElement(F.Tx,{id:"design_systems.component_panel.description"})),o.createElement("div",{className:t?"rich_text_asset_description_input--quillInputViewOnly--Q329g":eF},t?o.createElement(eL.R,{fallback:null,errorFallback:null,quillClassName:"rich_text_asset_description_input--readOnlyEditor--wT16t",value:e}):o.createElement(ex.A,{fallback:null,errorFallback:null,bounds:`.${eF}`,debounceMs:1e3,flushOnBlur:!0,onBlur:l,mountBehavior:"focus",onInputChange:r,placeholder:n,defaultValue:e})))}function eH(e){let{description:t,isViewOnly:n,onSubmitDescription:l}=e,r=(0,J.gl)(t),a=eB(t),i=_.qP("componentDescriptionText","submit",e=>{e!==eB(t)&&(0===(0,eS.A)(e).trim().length?l(""):l(e))}),s=o.useCallback(()=>{X.Y5.commit()},[]);return o.createElement(eD,{description:a,isViewOnly:n,placeholder:r?(0,F.t)("design_systems.component_panel.description_mixed"):(0,F.t)("design_systems.component_panel.description_placeholder"),onBlur:s,onSubmit:i})}function eB(e){return(0,J.gl)(e)?(0,F.t)("design_systems.component_panel.description_mixed"):e}var eV=n(894689),eU=n(838320);let eZ=/^\w+:/;function eG(e){let{links:t,onSubmitLinks:n}=e,[l,r]=o.useState(null),a=o.useCallback(e=>e.keyCode===h.Uz.ENTER&&!e.shiftKey&&(e.currentTarget.blur(),!0),[]),i=o.useCallback(e=>{r(e.target.value)},[r]),{inputRef:s,inputProps:{onChange:c,onFocus:d,onMouseUp:p,onMouseLeave:u,onKeyUp:m}}=(0,eV.X)({onChange:i}),g=null==t?void 0:t.find(e=>e),E=o.useCallback(()=>{if(null!==l){if(l.length<1){n([]),X.Y5.commit();return}n([{uri:l.match(eZ)?l:`https://${l}`}]),X.Y5.commit(),r(null)}},[n,l,r]),y=_.c1(e),f=null===l?null==g?void 0:g.uri:l;return o.createElement(o.Fragment,null,o.createElement("div",{className:"documentation_link_input--label--ATBu1"},o.createElement(F.Tx,{id:"design_systems.component_panel.link"})),o.createElement(eK.fI,{className:"documentation_link_input--row--Ph7Ip component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V"},o.createElement(eU.L,{ref:s,key:"symbol-link",className:"documentation_link_input--documentationLink--3NlJC raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u ellipsis--ellipsis--Tjyfa",value:f||"",placeholder:(0,F.t)("design_systems.component_panel.link_to_documentation"),onFocus:d,onBlur:E,onChange:c,onKeyDown:a,onMouseUp:p,onMouseLeave:u,onKeyUp:m,recordingKey:y("componentSymbolLinks")})))}var eY=n(619258),ez=n(356932),eW=n(2137);let eX="component_link_display--linkWrapper--sxTXs";function eQ({links:e}){let t=null==e?void 0:e[0];if(null==t)return null;let n=o.createElement(o.Fragment,null,o.createElement("div",{className:"component_link_display--favicon--BwLu-"},o.createElement(ez.v,{url:t.uri})),o.createElement("span",{className:"component_link_display--link--l6rH8"},t.uri));return o.createElement("div",{className:"component_link_display--wrapper--CLPXG"},o.createElement("div",{className:"component_link_display--header--fts8b"},o.createElement(F.Tx,{id:"design_systems.component_panel.link"})),(0,eW.G)(t.uri??"")?o.createElement(eY.N,{className:eX,trusted:!1,href:t.uri,target:"_blank"},n):o.createElement("div",{className:eX},n))}let e$="component-controls-picker",ej="instance-controls-picker";function eq(e){return(null==e?void 0:e.id)===e$||(null==e?void 0:e.id)===ej}var eJ=n(485463),e0=n(256296),e5=n(304913),e1=n(959875);function e7(){let e=(0,ec.d4)(e=>{var t;let n=(0,eM.Lg)(e)??"";return(null==(t=e.mirror.sceneGraph.get(n))?void 0:t.simplifyInstancePanels)??!1});return o.createElement("div",{className:e1.cx.bSolid.bt1.colorBorder.pt16.pb28.pl12.pr12.$},o.createElement(eJ.S,{checked:e,label:o.createElement(e0.J,null,(0,F.t)("design_systems.component_panel.simplify_instances")),onChange:()=>eR.l7.user("simplify-instance-panels",()=>Q.glU.setSimplifyInstancePanels(!e)),recordingKey:"simplifyInstancePanelsCheckbox","data-testid":"simplify-instance-panels-checkbox"},o.createElement(F.Tx,{id:"design_systems.component_panel.simplify_instances_help_text"}),o.createElement(o.Fragment,null,"\xa0",o.createElement(e5.CY,{href:"https://help.figma.com/hc/articles/5579474826519-Explore-component-properties#simplified",target:"_blank",trusted:!0},o.createElement(F.Tx,{id:"general.learn_more"})))))}function e2(e){let{descriptionElement:t,menuType:n,description:l,links:r,pickerShown:a}=e,i=(0,ec.d4)(eC.i$),s=a.id===ej,c=(0,ec.d4)(e=>"state-group"===n?[(0,eM.od)(e)].filter(e=>null!=e):(0,eO.F4)(e)),p=o.useCallback(e=>{eR.l7.user("set-description",()=>{for(let t of c)t.setDescriptionRich(e)});let{componentKeys:t,updatedNodeIds:n}=e4(c);(0,d.sx)("component description updated",{updatedNodeIds:n,componentKeys:t,isRichText:!0,length:e.length})},[c]),u=o.useCallback(e=>{for(let t of c)(0,eI.c2)(t.symbolLinks,e)||(eA.wt.reportAnyPropertyChange(["symbolLinks"]),t.symbolLinks=e);let{componentKeys:t,updatedNodeIds:n}=e4(c);(0,d.sx)("component links updated",{updatedNodeIds:n,componentKeys:t})},[c]),m=(null==a?void 0:a.id)===e$&&i!==Q.iCO.STATE;return o.createElement(o.Fragment,null,o.createElement("div",{className:s?"component_controls_menu--descriptionContainerViewOnly--VAeo9 component_controls_menu--descriptionContainer--me8J2":"component_controls_menu--descriptionContainer--me8J2"},t,o.createElement(eH,{key:n,description:l,isViewOnly:s,onSubmitDescription:p,recordingKey:_.Pt(e,"componentDescriptionText")}),a.id===e$?o.createElement(eG,{links:r,onSubmitLinks:u}):o.createElement(eQ,{links:r})),m&&o.createElement(e7,null))}function e4(e){let t=e.map(e=>e.guid),n=t.map(e=>Q.Egt.getAssetKeyForPublish(e)).filter(eN.Vq).map(e=>e.toString());return{updatedNodeIds:t,componentKeys:n}}var e3=n(868879),e6=n(474554),e8=n(120550),e9=n(383987);function te({children:e}){let t=(0,ec.wA)(),n=(0,ec.d4)(e=>e.pickerShown),l=(0,ec.d4)(e=>e.mirror.sceneGraph),r=(0,e9.Tv)(),a=(0,ek.yr)(),i=null==a?void 0:a.find(e=>e),s=new N.Mi(null==n?void 0:n.initialX,null==n?void 0:n.initialY);(0,e3.h)(()=>{let e=(null==n?void 0:n.id)===ej,t=(0,e6._P)(null==i?void 0:i.uri),a=null==r?void 0:r.map(e=>(null==n?void 0:n.id)===e$?Q.Egt.getAssetKeyForPublish(e):(null==n?void 0:n.id)===ej?Q.Egt.getAssetKeyForPublish((0,e6.k4)([e],l)??""):"").filter(eN.Vq).map(e=>e.toString());(0,d.sx)("Component documentation modal opened",{hostname:t,selectedNodeIds:r,componentKeys:a,isInstance:e})});let c=(null==n?void 0:n.id)===ej?(0,F.t)("design_systems.component_panel.component_documentation"):(0,F.t)("design_systems.component_panel.component_controls");return o.createElement(e8.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:s,initialWidth:320,onClose:()=>{t(D.XE())},scrollOverflow:!1,title:c},e)}var tt=n(313888),tn=n(531800);let tl=["component_set","selected_variant"],tr={component_set:{displayName:()=>(0,F.t)("design_systems.component_panel.component_set"),icon:tt.A},selected_variant:{displayName:()=>(0,F.t)("design_systems.component_panel.selected_variant"),icon:tn.A}};function ta(e){var t;let{description:n,links:l,containingStateGroupDescription:r,containingStateGroupLinks:a,isViewOnly:i,recordingKey:s}=e,[c,d]=o.useState((t=l??[],!i||(0,J.gl)(n)||n.length>0||t.length>0?"selected_variant":"component_set")),p=!i||(n||(null==l?void 0:l.length))&&(r||(null==a?void 0:a.length)),u=_.qP(s??"variantDocumentationMenu","changeTab",e=>d(e)),m=(0,ec.d4)(e=>e.pickerShown);return eq(m)?o.createElement(o.Fragment,null,!!p&&o.createElement("div",{className:"variant_documentation_menu--tabContainer--TDuq4",role:"tablist"},tl.map(e=>o.createElement(ti,{key:e,onSetSelectedTab:u,selectedTab:c,tabType:e}))),o.createElement("div",null,o.createElement(e2,{pickerShown:m,menuType:"selected_variant"===c?"selection":"state-group",description:"selected_variant"===c?n:r??"",links:"selected_variant"===c?l:a,recordingKey:_.Pt(e,"componentControlsMenu")}))):null}function ti({selectedTab:e,onSetSelectedTab:t,tabType:n}){let{displayName:l,icon:r}=tr[n],a=o.useCallback(()=>t(n),[t,n]),i=o.useCallback(e=>{e.keyCode===h.Uz.ENTER&&t(n)},[t,n]);return o.createElement("span",{className:e===n?"variant_documentation_menu--tabActive--3IOzf variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd":"variant_documentation_menu--tab--r9UJ6 variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:a,onKeyDown:i,key:n,role:"tab",tabIndex:0},o.createElement(M.B,{className:"variant_documentation_menu--tabIcon--f91ai",svg:r}),l())}function to(e){let{description:t,containingStateGroupDescription:n,containingStateGroupLinks:l}=e,r=(0,ec.d4)(eC.i$),a=(0,ec.d4)(e=>e.pickerShown),i=(0,ek.yr)();return eq(a)?o.createElement(te,null,r===Q.iCO.STATE||r===Q.iCO.STATE_INSTANCE?o.createElement(ta,{description:t,links:i,containingStateGroupDescription:n,containingStateGroupLinks:l,isViewOnly:a.id===ej,recordingKey:_.Pt(e,"variantDocumentationMenu")}):o.createElement(e2,{description:t,links:i,descriptionElement:n?o.createElement(o.Fragment,null,o.createElement(eP,{isHTMLString:!0,containerClassName:"component_controls_picker--stateGroupDescriptionContainer--ggLn7",text:n}),o.createElement("p",{className:"component_controls_picker--header--ELquL"},o.createElement(F.Tx,{id:"design_systems.component_panel.current_variant"}))):void 0,menuType:"selection",pickerShown:a,recordingKey:_.Pt(e,"componentControlsMenu")})):null}var ts=n(294608),tc=n(515573),td=n(108465),tp=n(955766),tu=n(134576),tm=n(54656);let th="instance-property-preview-picker";function tg(e){let t=(0,ec.wA)(),n=(0,ec.d4)(e=>e.pickerShown),l=(0,ec.d4)(tm.Z3),r=(0,ec.d4)(eO.dK);if((null==n?void 0:n.id)!==th)return null;let a=t=>{let n={};for(let e of t){let t=(0,e6.Yi)([e],r)||(0,e6.k4)([e],r);t&&(n[t]?n[t].push(e):n[t]=[e])}return Object.values(n).map(t=>o.createElement(tu.ME,{key:`bubbledInstancePreview.${t[0]}`,guids:t,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:tp.NA.NAME_ONLY,containerWidth:e6.O2.WIDE,shouldHideInstanceTitleButtons:!0,propDimension:e6.OE.ASSIGNMENT,viewOnlyMode:tu.BK.ALL_PROPS,hideErrors:!0,recordingKey:e.recordingKey}))};return o.createElement(e8.vx,{title:(0,F.t)("design_systems.component_properties.instance_property_preview"),initialPosition:new N.Mi(n.initialX,n.initialY),initialWidth:304,headerSize:"small",onClose:()=>{t(D.XE())}},o.createElement("div",{className:"instance_property_preview_picker--container--pG-JM"},l.map((e,t)=>a(e))))}var tE=n(797795),t_=n(772990),ty=n(901004),tf=n(109618),tv=n(849790);function tb(){let e=(0,ec.d4)(e=>e.library.local),t=(0,ec.d4)(eO.qd),n=o.useMemo(()=>{let n=new Set;for(let l of t){let t=(0,en.n5)(l,e);t&&(t.type===t_.PW.COMPONENT||t.type===t_.PW.STATE_GROUP)&&!(0,en.zE)(t)?n.add(t.node_id):t&&t.type===t_.PW.MODULE&&n.add(t.node_id)}return n},[e,t]),l=(0,ec.wA)(),r=o.useCallback(()=>{l(e_.to({type:tv.dD,data:{initiallyCheckedItemIDs:n,entrypoint:ty.RR.PROPERTIES_PANEL}}))},[l,n]);return n.size?o.createElement(tf.z,{onClick:r},(0,F.t)("design_systems.component_panel.publish_new_changes")):null}var tS=n(338998),tw=n(57567);function tT({description:e}){let t=o.useMemo(()=>(0,J.gl)(e)?"":(0,eS.A)(e),[e]),n=(0,tS.Rt)(tS.G1.READY);return""===t?null:n?o.createElement(tw.Ad,{appendedClassName:"asset_description_preview--ui3DescriptionRow--U6fJ7",label:null,input:o.createElement("div",{className:"asset_description_preview--ui3Description--s4mHd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},t)}):o.createElement(eK.fI,null,o.createElement("div",{className:"asset_description_preview--description--1Twh6 ellipsis--ellipsis--Tjyfa"},t))}var tP=n(464123);function tC(e){return 1>=(0,ec.d4)(e=>(0,eC._7)(e))?null:o.createElement(b.p,{name:"create_state_group_panel"},o.createElement(eK.Zk,null,o.createElement(eK.fI,null,o.createElement(eK.xw,null,o.createElement(F.Tx,{id:"design_systems.states_panel.components"}))),o.createElement(tk,{...e})))}function tk(e){let t=(0,ec.d4)(e=>(0,eC._7)(e)),n=e=>{(0,d.sx)("Creating Variant Component",{type:"Merge",numVariants:e}),X.Y5.triggerActionInUserEditScope("create-state-group")};return o.createElement(tf.z,{key:"merge-button",recordingKey:_.Pt(e,"mergeButton"),onClick:()=>n(t)},o.createElement(F.Tx,{id:"design_systems.states_panel.combine_as_variants"}))}var tI=n(82131),tN=n(832039);let tA="component_panel--titleButtons--R-kU7",tR="component_panel--componentControlsButton--O969g";var tO=n(968109),tM=n(999918);function tx(){return(0,ts.R)(e=>{let t=(0,eC.i$)(e),n=(0,eM.od)(e);return{dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,stateGroupSelectionMode:t,containingProductComponent:n,containingStateGroupDescription:t===Q.iCO.STATE?null==n?void 0:n.description:void 0,containingStateGroupLinks:t===Q.iCO.STATE?null==n?void 0:n.symbolLinks:void 0,componentDescription:(0,eM.cv)(e)}})}function tL(e){let t=(0,ec.wA)(),{dropdownShown:n,pickerShown:l}=tx(),r=o.useMemo(()=>(null==n?void 0:n.type)===e6.C4,[n]),a=(null==l?void 0:l.id)===e$,i=tK(e);return o.useCallback(e=>{r&&t(eE.oB()),a?t(D.XE()):i(e,e$,320)},[a,r,t,i])}function tK(e){let t=(0,ec.wA)();return o.useCallback((n,l,r=ef.qo)=>{if(!e)return;let a=es.findDOMNode(e.current),i=(0,ef.cn)(a,r);t(D.u1({id:l,initialX:i.x,initialY:i.y})),t(B.sw()),t(D.Uv())},[t,e])}let tF=o.memo(function(e){let{pickerShown:t,stateGroupSelectionMode:n,containingProductComponent:l,containingStateGroupDescription:r,containingStateGroupLinks:a,componentDescription:i}=tx(),s=(0,tS.Rt)(tS.G1.READY),c=!!(0,ec.d4)(tm.Z3).length,d=(0,ec.wA)(),p=o.useRef(null),u=e=>e.stopPropagation(),m=(null==t?void 0:t.id)===th,h=tK(p),g=tL(p),E=o.useCallback(e=>{m?d(D.XE()):h(e,th,304)},[d,m,h]),y=(0,ec.d4)(td.Dr),f=(0,ec.d4)(td.Ct);return s&&n!==Q.iCO.STATE?null:l||n!==Q.iCO.NON_STATE_COMPONENTS?l&&l.isAlive()?o.createElement(eK.Zk,{ref:p},o.createElement(eK.fI,{className:tI.LO},o.createElement(tD,null),o.createElement("span",{className:tA},n===Q.iCO.STATE&&c&&o.createElement(tE.YW,{selected:(null==t?void 0:t.id)===th,onClick:E,onMouseDown:u,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_properties.instance_property_preview"),svg:tO.A,recordingKey:"instancePropertyPreviewButton"}),o.createElement(tE.YW,{className:tR,selected:(null==t?void 0:t.id)===e$,onClick:g,onMouseDown:u,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.component_controls"),svg:tM.A,recordingKey:"componentControls"}))),o.createElement(tT,{description:i}),o.createElement(to,{containingStateGroupDescription:r,containingStateGroupLinks:a,description:i,recordingKey:_.Pt(e,"componentControlsPicker")}),o.createElement(tg,null),n===Q.iCO.STATE&&o.createElement(tu.e6,{containerWidth:e6.O2.REGULAR,propDimension:e6.OE.DEFINITION,guids:[l.guid],recordingKey:e.recordingKey}),y&&f&&o.createElement(tb,null)):null:o.createElement(tC,{recordingKey:"createStateGroup"})});function tD({interiorSvg:e,alwaysShowParentComponent:t,svgOverride:n,focusedInputOverridesClassName:l,unfocusedInputOverridesClassName:r}){let{stateGroupSelectionMode:a,containingProductComponent:i}=tx();if(!i)return null;let s=a===Q.iCO.STATE&&!t;return o.createElement(tc.E,{name:"component_title_control"},o.createElement(tP.R,{interiorSvg:e,guid:i.guid,value:s?(0,F.t)("design_systems.component_panel.current_variant"):i.name,canEdit:!s,icon:n??o.createElement(M.B,{svg:tt.A,className:tN.Kk}),editAction:"rename-component",focusedInputOverridesClassName:l,unfocusedInputOverridesClassName:r}))}var tH=n(883217),tB=n(767129),tV=n(31524),tU=n(404095),tZ=n(828675),tG=n(55330),tY=((l=tY||{})[l.VERTICAL=0]="VERTICAL",l[l.MIDDLE_CHILD=1]="MIDDLE_CHILD",l[l.LAST_CHILD=2]="LAST_CHILD",l);function tz(e){let{lineConfiguration:t,hideLine:n,wideContainer:l}=e;return o.createElement("div",{className:l?"bubbled_props_line_styles--containerWide--csTgg bubbled_props_line_styles--container--XumJm":"bubbled_props_line_styles--container--XumJm"},!n&&o.createElement("div",{className:"bubbled_props_line_styles--lineContainer--pEgTS"},(()=>{switch(t){case 0:return o.createElement("div",{className:"bubbled_props_line_styles--vertical--pialf bubbled_props_line_styles--_line--Vhv8-"});case 1:return o.createElement(o.Fragment,null,o.createElement("div",{className:"bubbled_props_line_styles--middleChildVertical--PxRp- bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),o.createElement("div",{className:"bubbled_props_line_styles--middleChildHorizontal--ucsHZ bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}));case 2:return o.createElement(o.Fragment,null,o.createElement("div",{className:"bubbled_props_line_styles--lastChildVertical--83Los bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),o.createElement("div",{className:"bubbled_props_line_styles--lastChildHorizontal--kGsHC bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}))}})()),e.children)}let tW="bubbled_instances_list--minusIcon--dY8i-",tX="bubbled_instances_list--instanceIcon--aRlGl",tQ="bubbled_instances_list--instanceName--09LuV",t$="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",tj="bubbled_instances_list--ui3InstanceNameAndIcon--W4S9T component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g",tq="bubbled_instances_list--ui3InstanceRow--in0DL",tJ="bubbled_instances_list--ui3LineContainer--OdBbV",t0="bubbled_instances_list--ui3Line--SIYpX";var t5=n(349307);function t1(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:n,wideContainer:l,scrollableContainer:r}=e,a=(0,ec.d4)(tm.K4),i=(0,tS.Rt)(),[s,d]=(0,o.useState)(!1),p=t?a:null==a?void 0:a.filter(e=>e.isBubbled),u=e=>{eR.l7.user("toggle-props-bubbled",()=>Q.glU.togglePropsAreBubbled(e)),Q.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},m=e=>{Q.Ez5.canvasViewState().temporarilyHoveredNodes.set(e)},h=()=>{Q.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},g=0,E=i&&!t&&!s&&null!=p&&p.length>5,y=E?p.slice(0,4):p;return E&&(g=p.length-4),o.createElement("div",{className:c()({"bubbled_instances_list--scrollableContainer--ob0LQ":r})},null==y?void 0:y.map((r,a)=>{let s=r.connectedGUIDs.slice(0).sort();return o.createElement(tZ.D8,{className:"bubbled_instances_list--instanceSection--tLYN0",key:a,onMouseEnter:()=>m(r.connectedGUIDs),onMouseLeave:h,recordingKey:_.Pt(e,s[0])},i?t?o.createElement(t3,{data:r,showNumHidden:n,onUnbubbleInstance:u,recordingKey:_.Pt(e,"checkbox",s[0]),wideContainer:l}):o.createElement(t2,{data:r,onUnbubbleInstance:u,recordingKey:_.Pt(e,"unbubble",s[0]),wideContainer:l}):o.createElement(o.Fragment,null,o.createElement(tz,{lineConfiguration:tY.VERTICAL,hideLine:0===r.bubbledNestedInstances.length,wideContainer:l},t?o.createElement(t7,{data:r,onUnbubbleInstance:u,showNumHidden:n,wideContainer:l,recordingKey:_.Pt(e,"checkbox",s[0])}):o.createElement(o.Fragment,null,o.createElement(M.B,{className:tX,svg:tO.A}),o.createElement("p",{className:l?t$:tQ},r.name),o.createElement(tE.K0,{className:tW,svg:t5.A,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{u(r.connectedGUIDs[0])},recordingKey:_.Pt(e,"unbubble",s[0])}))),r.bubbledNestedInstances.map((e,t)=>o.createElement("div",{key:t},o.createElement(tz,{lineConfiguration:t===r.bubbledNestedInstances.length-1?tY.LAST_CHILD:tY.MIDDLE_CHILD,wideContainer:l},o.createElement("div",{className:l?t$:tQ},e.name))))))}),i&&!s&&g>0&&o.createElement(tu.t8,{label:(0,F.t)("design_systems.component_properties.show_more_nested_instances_rows",{count:g}),onClick:()=>d(!0)}))}function t7({data:e,onUnbubbleInstance:t,showNumHidden:n,wideContainer:l,recordingKey:r}){return o.createElement("div",{className:l?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7"},o.createElement(tG.S,{label:e.name,checked:e.isBubbled,onChange:()=>{t(e.connectedGUIDs[0])},truncateLabel:{truncate:"line-clamp",lineClamp:2},recordingKey:r}),n&&!!e.numHidden&&o.createElement("div",{className:"bubbled_instances_list--numHidden--fW-Sr"},o.createElement(F.Tx,{id:"design_systems.component_properties.num_hidden",num:e.numHidden})))}function t2({data:e,onUnbubbleInstance:t,recordingKey:n,wideContainer:l}){let{bubbledNestedInstances:r}=e,a=o.createElement(tw.DE,{appendedClassName:tq,label:null,input:o.createElement("div",{className:tj},o.createElement("div",{className:tX},o.createElement(tV.y,null)),o.createElement("p",{className:tQ},e.name)),icon:o.createElement("div",{className:tW},o.createElement(tB.K,{as:"button","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_properties.unbubble_instance"),"aria-label":(0,F.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},onMouseDown:Y.dG,recordingKey:n},o.createElement(tU.f,null)))});return 0===r.length?a:o.createElement(t4,{data:e,row:a,wideContainer:l})}function t4({data:e,row:t,wideContainer:n}){return o.createElement(tu.R$,{row:t,isCollapsedByDefault:!0},e.bubbledNestedInstances.map((e,t)=>o.createElement("div",{key:t},o.createElement(tw.DE,{appendedClassName:tq,label:null,input:o.createElement("div",{className:tj},o.createElement("div",{className:tJ},o.createElement("div",{className:t0})),o.createElement("div",{className:n?t$:tQ},e.name)),icon:null}))))}function t3({data:e,onUnbubbleInstance:t,recordingKey:n,showNumHidden:l,wideContainer:r}){return o.createElement(o.Fragment,null,o.createElement(tw.Ad,{label:null,input:o.createElement(t7,{data:e,onUnbubbleInstance:t,showNumHidden:l,wideContainer:r,recordingKey:n})}),e.bubbledNestedInstances.map((e,t)=>o.createElement("div",{key:t},o.createElement(tw.Ad,{label:null,input:o.createElement("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc"},o.createElement("div",{className:tJ},o.createElement("div",{className:t0})),o.createElement("div",{className:r?t$:tQ},e.name))}))))}function t6(){let e="bubbledPropsPicker",t=(0,ec.d4)(e=>e.pickerShown),n=(0,ec.wA)(),l=new N.Mi(null==t?void 0:t.initialX,null==t?void 0:t.initialY);return(null==t?void 0:t.id)!==e6.Dd?null:o.createElement(e8.vx,{title:(0,F.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:l,initialWidth:e6.wh,headerSize:"small",onClose:()=>{n(D.XE())},recordingKey:e},o.createElement("div",{className:"bubbled_props_picker--container--I6VX-"},o.createElement(t1,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})))}var t8=n(740840),t9=n(765872);let ne="props_panel--addButtonContainer--a58gi",nt="props_panel--addButton--jAtAX draggable_list--addButton--D0q--",nn="props_panel--dropdownRowWithIcon--03FtD",nl="props_panel--dropdownRowWithoutIcon--F8Ra-",nr="props_panel--bubbledInstancesHeading--C26v2";var na=n(633779),ni=n(100562),no=n(501191);function ns({recordingKey:e}){let t=(0,ec.wA)(),{version:n}=(0,em.DP)(),l="ui3"===n,r=(0,ec.d4)(eC.i$),a=(0,ec.d4)(eM.od),i=!(0,ec.d4)(t9.Jp),s=(0,ec.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===e6.C4),c=(0,ec.d4)(e=>!!e.modalShown&&e.modalShown.type===t8.n.type),{componentDescription:d}=tx(),p=(0,ec.d4)(e=>e.pickerShown),u=s||c||(null==p?void 0:p.id)===e6.Dd,m=!!(0,ec.d4)(tm.Z3).length,h=(0,ec.d4)(tm.K4),g=!!(null==h?void 0:h.length),E=o.useRef(null),y=o.useRef(null),f=o.useCallback(e=>{p&&t(D.XE()),s?t(eE.oB()):t(eE.j7({type:e6.C4}))},[t,p,s]),v=o.useCallback(e=>{(0,e6.Pp)(a,!1,e,e6.Fv.ICON),t(e_.to({type:t8.n,data:{propType:e}}))},[t,a]),b=o.useCallback(()=>{a&&(a.isLooseComponent?X.Y5.triggerActionInUserEditScope("create-state-group"):v(Q.J0O.VARIANT))},[v,a]),S=o.useCallback(()=>{let e=es.findDOMNode(y.current),n=e?(0,ef.cn)(e,e6.wh):{};t(D.u1({id:e6.Dd,initialX:null==n?void 0:n.x,initialY:null==n?void 0:n.y}))},[t]),w=[Q.J0O.BOOL,Q.J0O.INSTANCE_SWAP,Q.J0O.TEXT];return a?o.createElement(eK.Zk,{ref:y},o.createElement(l?nd:nc,{isPanelEmpty:i,isAddPropButtonSelected:u,hasBubbledInstances:m,stateGroupSelectionMode:r,selectAddPropOptionRef:E,toggleAddPropDropdown:f}),s&&E.current&&o.createElement(eb.Cf,{targetRect:E.current.getBoundingClientRect(),propagateCloseClick:!0},o.createElement(eh.W.Option,{disabled:!0,className:nl},o.createElement(F.Tx,{id:"design_systems.component_properties.create_new_property"})),o.createElement(eh.W.Option,{className:nn,onClick:b,recordingKey:_.Pt("openCreatePropModal",(0,e6.xb)(Q.J0O.VARIANT))},o.createElement(ev.N,null,o.createElement(eg.U,{svg:ni.A},o.createElement(ed.m,null))),o.createElement(F.Tx,{id:"design_systems.component_properties.across_variants"})),w.map(e=>o.createElement(eh.W.Option,{key:e,className:nn,onClick:()=>v(e),recordingKey:_.Pt("openCreatePropModal",(0,e6.xb)(e))},o.createElement(ev.N,null,o.createElement(eg.U,{svg:(0,e6.qe)(e)},(0,e6.zn)(e,!0))),(0,e6.xb)(e))),g&&o.createElement(o.Fragment,null,o.createElement(eh.W.Separator,null),o.createElement(eh.W.Option,{disabled:!0,className:nl},o.createElement(F.Tx,{id:"design_systems.component_properties.expose_nested_instances"})),o.createElement(eh.W.Option,{className:nn,onClick:S,recordingKey:"openBubbledPropPicker"},o.createElement(ev.N,null,o.createElement(eg.U,{svg:na.A},o.createElement(ep,null))),(0,F.t)("design_systems.component_properties.choose_instances")))),(null==p?void 0:p.id)===e6.Dd&&o.createElement(t6,null),l&&!i?o.createElement(tT,{description:d}):null,o.createElement(tu.e6,{containerWidth:l?e6.O2.RESIZABLE_SIDEBAR:e6.O2.REGULAR,propDimension:e6.OE.DEFINITION,guids:[a.guid],recordingKey:e,enableHidingOverflowRowsInUI3:l}),m&&o.createElement(o.Fragment,null,o.createElement("p",{className:nr},(0,F.t)("design_systems.component_properties.bubbled_instances")),o.createElement(t1,{recordingKey:e}))):null}function nc({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:l,selectAddPropOptionRef:r,toggleAddPropDropdown:a}){return o.createElement(eK.fI,{className:!e||t||n?void 0:"props_panel--panelHeaderRowFaded--r4klF draggable_list--panelHeaderRowFaded--kETRR"},o.createElement(eK.xw,{className:"props_panel--panelTitleText--i7WqG draggable_list--panelTitleText--SwKez"},o.createElement(F.Tx,{id:"design_systems.component_properties.properties"})),l!==Q.iCO.STATE&&o.createElement("div",{ref:r,className:ne},o.createElement(eK.YW,{className:nt,onClick:a,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.create_component_property"),svg:no.A,recordingKey:"openCreatePropModalDropdown"})))}function nd({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:l,selectAddPropOptionRef:r,toggleAddPropDropdown:a}){let{pickerShown:i,containingStateGroupDescription:s,containingStateGroupLinks:c,componentDescription:d}=tx(),p=o.useRef(null),u=tL(p),m=o.createElement(eK.YW,{selected:(null==i?void 0:i.id)===e$,onClick:u,onMouseDown:Y.dG,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.component_controls"),recordingKey:"componentControls"},o.createElement(eu.A,null));return o.createElement(o.Fragment,null,o.createElement(tH.Dl,{ref:p,faded:e&&!t&&!n,titleTx:o.createElement(F.Tx,{id:"design_systems.component_properties.properties"}),leftIcon:m,rightIcon:l!==Q.iCO.STATE?o.createElement("div",{ref:r,className:ne},o.createElement(eK.YW,{className:nt,onClick:a,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.create_component_property"),svg:no.A,recordingKey:"openCreatePropModalDropdown"})):void 0}),o.createElement(to,{containingStateGroupDescription:s,containingStateGroupLinks:c,description:d,recordingKey:"componentControlsPicker"}))}var np=n(10199),nu=n(15110),nm=n(870482),nh=n(462443),ng=n(510326),nE=n(641160);function n_({initialPosition:e,styleNameInputPrefix:t,styleType:n,inheritStyleKeyField:l,onCreate:r,recordingKey:a}){let i=(0,ec.wA)(),s=(0,ec.d4)(e=>e.mirror.selectedStyleProperties),c=(0,ec.d4)(e=>e.mirror.sceneGraphSelection),d=o.useRef(Object.keys(c).length>0),[p,u]=o.useState(!d.current&&void 0),m="ui3"===(0,em.DP)().version,{styleRef:h,createStyle:g}=(0,nu.u)({inheritStyleKeyField:l,isCreatingFromSelection:d.current,trackingOptions:{styleType:n}}),E=_.of(a,"submit",()=>{let e=g();i(D.XE()),i(D.Uv()),i(B.sw()),r&&r(e||"")}),y=(0,ec.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(n){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}});return s.styleType?o.createElement(nh.zK.Provider,{value:nh.zM.CREATE_STYLE},o.createElement(e8.vx,{title:(e=>{switch(e){case"FILL":return(0,F.t)("design_systems.create_style.color");case"TEXT":return(0,F.t)("design_systems.create_style.text");case"EFFECT":return(0,F.t)("design_systems.create_style.effect");case"EXPORT":return(0,F.t)("design_systems.create_style.export");case"GRID":return(0,F.t)("design_systems.create_style.grid");default:return(0,F.t)("design_systems.create_style.create_new_style_generic")}})(s.styleType),headerSize:"small",initialWidth:ng.tA,initialPosition:e,onClose:()=>i(B.sw()),recordingKey:_.Pt("createStyleModal"),dragHeaderOnly:!0},o.createElement("div",{className:nE.FY},o.createElement(nm.O,{type:s.styleType,recordingKey:"createStyleModal",styleNameInputPrefix:t,isInspectPanel:!1,selectedStyleProperties:s,showProperties:p,onEnterPressed:E}),!h&&o.createElement("div",{className:"create_style_modal--errorMessage--8ZpFE"},o.createElement(F.Tx,{id:"design_systems.create_style.an_error_occurred_while_creating_the_style"})),o.createElement(np.AutoLayout,{horizontalAlignItems:d.current?void 0:"end",verticalAlignItems:"center",spacing:d.current?"auto":void 0,padding:m?8:16},d.current&&o.createElement(eK.JU,{className:p?"create_style_modal--fadedShowMorePropertiesLabel--g8ydZ":"create_style_modal--showMorePropertiesLabel--mJpGe",onClick:()=>u(!p)},p?o.createElement(F.Tx,{id:"design_systems.create_style.hide_options"}):o.createElement(F.Tx,{id:"design_systems.create_style.show_more_options"})),o.createElement(e5.$$,{style:{justifySelf:"right"},onClick:E,disabled:!y||!h,tabIndex:0},o.createElement(F.Tx,{id:"design_systems.create_style.create_style"})))))):null}var ny=n(631044),nf=n(667351);function nv(e){let t=(0,ec.wA)(),n=(0,K.dI)(e.selectedStyleProperties.guid),l="",r="",[a,i]=(0,nf.Fk)((e,t)=>{let n=e.get(t);return[(null==n?void 0:n.name)||"",(null==n?void 0:n.styleDescription)||""]},n);return e.externalStyle?(l=e.externalStyle.name||"",r=e.externalStyle.description_rt?(0,eS.A)(e.externalStyle.description_rt):e.externalStyle.description||""):(0,K.dI)(e.selectedStyleProperties.guid)&&(l=a,r=(0,eS.A)(i)),o.createElement(nh.zK.Provider,{value:nh.zM.EDIT_STYLE},o.createElement(nm.O,{type:e.selectedStyleProperties.styleType,recordingKey:e.recordingKey,onEnterPressed:()=>t(B.sw()),styleName:l,styleDescription:r,hideNameDescription:e.hideNameDescription,...e}))}var nb=n(945137),nS=n(762076);function nw({recordingKey:e}){let t=(0,ec.wA)(),{version:n}=(0,em.DP)(),l=(0,ec.d4)(eM._k),r=!(0,ec.d4)(t9.Jp),a=(0,ec.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===e6.C4),i=(0,ec.d4)(e=>!!e.modalShown&&e.modalShown.type===t8.n.type),s=(0,ec.d4)(e=>e.pickerShown),c=a||i||(null==s?void 0:s.id)===e6.Dd,d=!!(0,ec.d4)(tm.Z3).length,p=(0,ec.d4)(tm.K4),u=!!(null==p?void 0:p.length),m=o.useRef(null),h=o.useRef(null),g=o.useCallback(()=>{s&&t(D.XE()),a?t(eE.oB()):t(eE.j7({type:e6.C4}))},[t,s,a]),E=o.useCallback(()=>{let e=es.findDOMNode(h.current),n=e?(0,ef.cn)(e,e6.wh):{};t(D.u1({id:e6.Dd,initialX:null==n?void 0:n.x,initialY:null==n?void 0:n.y}))},[t]);return l&&u?o.createElement(eK.Zk,{ref:h},o.createElement("ui3"===n?nd:nc,{isPanelEmpty:r,isAddPropButtonSelected:c,hasBubbledInstances:d,selectAddPropOptionRef:m,toggleAddPropDropdown:g,stateGroupSelectionMode:void 0}),a&&m.current&&o.createElement(eb.Cf,{targetRect:m.current.getBoundingClientRect(),propagateCloseClick:!0},o.createElement(eh.W.Option,{disabled:!0,className:nl},o.createElement(F.Tx,{id:"design_systems.component_properties.expose_nested_instances"})),o.createElement(eh.W.Option,{className:nn,onClick:E,recordingKey:"openBubbledPropPicker"},o.createElement(ev.N,null,o.createElement(eg.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:na.A})),(0,F.t)("design_systems.component_properties.choose_instances"))),(null==s?void 0:s.id)===e6.Dd&&o.createElement(t6,null),d&&o.createElement(o.Fragment,null,o.createElement("p",{className:nr},(0,F.t)("design_systems.component_properties.bubbled_instances")),o.createElement(t1,{recordingKey:e}))):null}var nT=n(239338),nP=n(36317),nC=n(939732),nk=n(728068);function nI(){return null}var nN=n(76008),nA=n(540368),nR=n(210504),nO=n(794307),nM=n(897138),nx=n(216817),nL=n(483469),nK=n(951784),nF=n(948993),nD=n(24422),nH=n(947680),nB=n(669234),nV=n(597721),nU=n(46160),nZ=n(428748),nG=n(9789),nY=n(507776),nz=n(463420),nW=n(96796),nX=n(237962),nQ=n(410134),n$=n(386455),nj=n(860168);let nq="styles--contextMenu--C-hVT",nJ="styles--showOnRowHover--OUqRT",n0="styles--showOnSelectedRowHover--Lcf7e styles--showOnRowHover--OUqRT",n5="styles--caret--DZmzh";function n1({childLeft:e,childRight:t,deleteSelectedItems:n,forceShowHoverBorder:l,hideStylePreview:r,index:a,inspectStyleSelected:i,isDragging:s,isEditable:c,isRenaming:d,level:p,name:u,nameRef:m,onChildLeftClick:g,onContextMenu:E,onCreateFolder:y,onDoubleClick:f,onHoverChange:v,onMouseDown:b,onMouseMove:S,recordingKey:w,rowRef:T,secondaryName:P,selected:C,selectedSecondary:k,stopRenamingItem:I,tooltipData:N}){let A=o.useRef(null),[R,O]=o.useState(u),[M,x]=o.useState(!1),L=(0,n$.GS)(),K=o.useCallback(e=>{if(e){let t=es.findDOMNode(e);t&&t.select()}},[]);o.useEffect(()=>{O(u)},[u]);let F=o.useCallback(e=>{""===e.trim()?(I(a,u),O(u)):I(a,e)},[a,u,I]),D=(0,_.AF)((0,_.Pt)(w,"text-input"),"change",o.useCallback(e=>{O(e.currentTarget.value)},[O])),H=(0,_.v_)((0,_.Pt)(w,"text-input"),"keydown",e=>{e.keyCode===h.Uz.ESCAPE?(I(a,u),O(u)):e.keyCode===h.Uz.ENTER&&F(e.currentTarget.value)},{recordMetadata:e=>({inputValue:e.currentTarget.value}),playbackMetadata:e=>({currentTarget:{value:e.inputValue}})}),B=(0,_.v_)(w,"keydown",e=>{c&&!d&&(e.keyCode===h.Uz.BACKSPACE||e.keyCode===h.Uz.DELETE)?n():c&&!d&&e.keyCode===h.Uz.G&&(0,h.Fo)(e)?(y(),e.preventDefault()):!d&&e.nativeEvent&&X.Y5.forwardKeyboardEvent(e.nativeEvent)}),V=o.useCallback(()=>{F(R)},[F,R]),U=(0,_.rf)(w,"contextmenu",e=>{E(e)}),Z=(0,_.rf)(w,"mousemove",e=>{S(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),G=(0,_.rf)(w,"mousedown",e=>{b(e),r()}),z=(0,_.rf)(w,"mouseenter",o.useCallback(()=>{x(!0),null==v||v(!0)},[x,v])),W=o.useCallback(()=>{x(!1),null==v||v(!1)},[x,v]),Q=(0,_.rf)(w,"dblclick",o.useCallback(e=>{f(e)},[f])),$=Math.min((p-1)*3,18),j=nj.jNX-4-$,q=l||M&&!s,J=o.createElement("div",{className:d?"styles--rowContentsRenaming--oDTtO styles--rowContents--37JBy":"styles--rowContents--37JBy",key:u,style:{gridColumnEnd:`span ${M&&!d||i?j-(L?7:5):j}`}},d?o.createElement(eK.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"styles--input--LbjR0",onBlur:V,onChange:D,onKeyDown:H,ref:K,spellCheck:!1,value:R}):o.createElement(o.Fragment,null,o.createElement("div",{className:"styles--name--KWZ8d ellipsis--ellipsis--Tjyfa",ref:m,...N},u),P&&o.createElement("div",{className:"styles--textStyle--DiUv4"},P)));return o.createElement(nG.e,{className:k?"styles--rowSelectedSecondaryLightBlue--S-zy- draggable_list--rowSelectedSecondary--yOI1g raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip styles--rowWithBorder--bphZ- styles--row--qsY-0":C?"styles--rowSelectedPrimary--Qpsa1 styles--rowWithBorder--bphZ- styles--row--qsY-0":q?"styles--rowWithHoveredBorder--0vgNj styles--rowWithBorder--bphZ- styles--row--qsY-0":"styles--rowWithBorder--bphZ- styles--row--qsY-0",dragging:s,hideGrabber:!0,onContextMenu:U,onKeyDown:B,onMouseDown:G,onMouseEnter:z,onMouseLeave:W,onMouseMove:Z,onDoubleClick:Q,ref:(0,nQ.A)(A,T),selected:C,selectedSecondary:!1,tabIndex:0},$>0&&o.createElement("span",{style:{gridColumnEnd:`span ${$}`}}),o.createElement("div",{className:"styles--childLeftContainer--Hu61K",onMouseDown:g&&Y.dG,onClick:g},e,L&&J),!L&&J,t)}var n7=n(949207),n2=n(432023),n4=n(660164);function n3({deleteSelectedItems:e,folder:t,folderNameToNestUnder:n,hideStylePreview:l,index:r,isCollapsed:a,isDragging:i,isEditable:s,isRenaming:c,isTemporarilyExpanded:d,level:p,onContextMenu:u,onCreateFolder:m,onMouseDown:h,onMouseMove:g,onRenameItem:E,recordingKey:y,selected:f,selectedSecondary:v,stopRenamingItem:b,temporarilyExpandFolder:S,toggleFolder:w}){let T=(0,ec.wA)(),[P,C]=o.useState(!1),k=o.useRef(null),I=P&&!c&&s;o.useEffect(()=>{if(P&&i&&a){let e=setTimeout(()=>{S(t.name)},1e3);return()=>clearTimeout(e)}},[P,i,a,S,t]);let N=o.useCallback(()=>{var e;let n=(0,nX.Zk)(t.styleTypeSection),l=null==(e=k.current)?void 0:e.getBoundingClientRect();n&&l&&T(B.Zs({rowLeft:l.left,rowTop:l.top,styleType:t.styleTypeSection,styleNameInputPrefix:`${t.name}/`,inheritStyleKeyField:n}))},[k,t.name,t.styleTypeSection,T]);return o.createElement(n1,{deleteSelectedItems:e,forceShowHoverBorder:n===t.name,hideStylePreview:l,index:r,isDragging:i,isEditable:s,isRenaming:c,level:p,name:(0,nV.kH)(t.name),onChildLeftClick:function(){w(!a)},onContextMenu:u,onCreateFolder:m,onDoubleClick:function(){t.styleTypeSection&&E(t.name,!1,t.styleTypeSection)},onHoverChange:C,onMouseDown:h,onMouseMove:g,onRenameItem:E,recordingKey:y,selected:f,selectedSecondary:v,stopRenamingItem:b,rowRef:e=>{e&&(k.current=es.findDOMNode(e))},childLeft:o.createElement(eg.U,{svg:a&&!d?n2.A:n7.A,className:n5},a&&!d?o.createElement(nz.k,{className:n5}):o.createElement(nW.O,{className:n5})),childRight:I&&o.createElement(eK.$4,null,o.createElement(eK.K0,{className:f?n0:nJ,recordingKey:_.Pt(y,"addButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.styles.tooltips.create"),svg:no.A,fallbackSvg:n4.A,onClick:N}))})}var n6=n(613420),n8=n(320453),n9=n(162502);function le({deleteSelectedItems:e,hideStylePreview:t,index:n,isDragging:l,isEditable:r,isRenaming:a,level:i,onContextMenu:s,onCreateFolder:c,onInspectStyle:d,onMouseDown:u,onMouseMove:m,onRenameItem:h,recordingKey:g,selected:E,selectedSecondary:y,stopRenamingItem:f,dsStyle:v,stylePreviewShown:b,updateContextMenuStyleRef:S,updateSelection:w,updateFocusRowRef:T}){var P;let[C,k]=o.useState(!1),I=(0,ec.wA)(),N=o.useRef(null),A=o.useRef(null),R=o.useCallback(()=>{r&&h(v.node_id,!0,v.style_type)},[h,v.node_id,v.style_type,r]),O=b.isShown&&!b.isCreating&&b.style.node_id===v.node_id&&(0,z.EF)(b.style,v),M=C&&!a||O,x=o.useCallback(function(){let e=A.current;if(e){let t=e.getBoundingClientRect();O?I(B.sw()):(I(B.rk({style:v,rowTop:t.top,rowLeft:t.left})),d(v),w({type:v.style_type,folderNames:new Set,styleIds:new Set(v.node_id)}))}I(D.XE())},[I,d,w,v,O]),L=o.useCallback(e=>{(2===e.button||e.ctrlKey)&&S(A.current),u(e),O&&x()},[x,u,O,S]),K=N.current,H=!!K&&K.offsetWidth<K.scrollWidth,V=o.useMemo(()=>!l&&v.description&&H?{"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip":ey.MW.STYLE_INFO,"data-tooltip-style-name":(0,nV.kH)(v.name),"data-tooltip-style-description":v.description,"data-tooltip-max-width":nj.jNX*(0,p.hG)(nj.dGl)}:null,[H,l,v.name,v.description]),U="TEXT"===v.style_type&&(null==(P=v.meta)?void 0:P.style_thumbnail)?v.meta.style_thumbnail:null;return o.createElement(n1,{deleteSelectedItems:e,hideStylePreview:t,index:n,inspectStyleSelected:O,isDragging:l,isEditable:r,isRenaming:a,level:i,name:(0,nV.kH)(v.name),nameRef:N,onContextMenu:s,onCreateFolder:c,onDoubleClick:R,onHoverChange:k,onMouseDown:L,onMouseMove:m,onRenameItem:h,recordingKey:g,rowRef:e=>{if(e){let t=es.findDOMNode(e);T&&T(t),A.current=t}},secondaryName:U&&(0,n6.P$)(U,!0),selected:E,selectedSecondary:y,stopRenamingItem:f,tooltipData:V,childLeft:o.createElement(o.Fragment,null,o.createElement(n8.zi,{dsStyle:v,disableTooltip:!0}),E&&"FILL"===v.style_type&&o.createElement("div",{className:"styles--selectedRing--UniEc"})),childRight:M&&o.createElement(eK.$4,null,o.createElement("div",{style:{gridColumnEnd:"span 1"}}),o.createElement(tE.YW,{className:E?n0:nJ,recordingKey:_.Pt(g,"customButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":r?(0,F.t)("design_systems.styles.edit_style"):(0,F.t)("design_systems.styles.view_style"),selected:O,onMouseDown:Y.dG,onClick:x},o.createElement(eg.U,{svg:n9.A},o.createElement(eu.A,null))))})}function lt({styleType:e,children:t}){let n=!(0,nH.p8)("isReadOnly");return o.createElement("div",{className:"styles--styleTypeSection--jPjTq component_tiles--section--qMua7"},n?o.createElement(ln,{styleType:e,recordingKey:`style-section-header-${e}`}):o.createElement("div",{className:"styles--styleTypeSectionHeader--224lA component_tiles--sectionHeader--eEC6d raw_components--panelTitle--VAQQA"},(0,en.QT)(e)),t)}function ln({styleType:e,recordingKey:t}){let[n,l]=o.useState(!1),r=(0,ec.wA)(),a=o.useRef(null),i=o.useCallback(()=>{var t;let n=(0,nX.Zk)(e),l=null==(t=a.current)?void 0:t.getBoundingClientRect();n&&l&&r(B.Zs({rowLeft:l.left,rowTop:l.top,styleType:e,inheritStyleKeyField:n}))},[a,e,r]);return o.createElement(tZ.D8,{className:"styles--styleTypeSectionRow--wVTIO",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),recordingKey:t,forwardedRef:a},o.createElement(eK.JU,{className:"styles--styleTypeSectionRowLabel--PrKm-"},(0,en.QT)(e)),n&&o.createElement(tE.K0,{className:"styles--styleTypeSectionRowButton--V4Co2 styles--showOnRowHover--OUqRT",recordingKey:_.Pt(t,"addButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.styles.tooltips.create_style_from_section",{kind:(0,en.XV)(e).toLowerCase()}),svg:no.A,fallbackSvg:n4.A,onClick:i}))}lt.displayName="StyleTypeSection";var ll=n(113420),lr=n(59082);let la=eh.W.Dropdown,li=eh.W.Option,lo=eh.W.Separator,ls="styles-by-type-context-menu",lc=.75*(0,p.hG)(nj.uj0);function ld({styleRowRef:e,onEditStyle:t,onRenameItem:n,onCreateFolder:l,onDeleteItems:r,onCutItems:a,onPasteItems:i,styleType:s}){let c=(0,ll.U)(),d=(0,ec.d4)(e=>e.library.localStyleSelection),p=o.useMemo(()=>d&&d.type===s&&(null==c?void 0:c.type)===ls?(0,lr.QA)(d,c.data.uiList):[],[d,c,s]),u=o.useMemo(()=>(0,lr.Ug)(p).map(e=>e.node_id),[p]),m=u.length;return c&&u.length?o.createElement(lp,{styleRowRef:e,selectedItems:p,numStyles:m,dropdownShown:c,onEditStyle:t,onRenameItem:n,onCreateFolder:l,onDeleteItems:r,onCutItems:a,onPasteItems:i}):o.createElement("div",null)}function lp({styleRowRef:e,selectedItems:t,numStyles:n,dropdownShown:l,onEditStyle:r,onRenameItem:a,onCreateFolder:i,onDeleteItems:s,onCutItems:c,onPasteItems:d}){var p;let u=(0,ec.wA)();o.useEffect(()=>(Q.glU.computePastableStyleCount(),()=>{Q.glU.clearPastableStyleCount()}),[]);let m=(0,ec.d4)(e=>e.mirror.appModel.pastableStyleCount),h=!!(null==(p=(0,nB.q5)())?void 0:p.canEdit),g=o.useCallback(()=>{if(!t.length||t[0].type!==t_.PW.STYLE)return;let n=t[0];if(e){let t=e.getBoundingClientRect();u(B.rk({style:n,rowTop:t.top,rowLeft:t.left})),u(D.XE())}r(n)},[u,t,r,e]),E=o.useCallback(()=>{if(!t.length||t[0].type===t_.PW.STYLE)return;let e=t[0];a(e.name,!1,e.styleTypeSection)},[a,t]);if(-1===m)return o.createElement("div",null);if(!h)return n>1?o.createElement("div",null):o.createElement(la,{style:l.data.position,className:nq},o.createElement(li,{recordingKey:"edit-style-option",onClick:g},o.createElement(F.Tx,{id:"design_systems.styles.view_style"})));let _=1===n&&(t[0].type===t_.PW.STYLE?o.createElement(li,{recordingKey:"edit-style-option",onClick:g},o.createElement(F.Tx,{id:"design_systems.styles.edit_style"})):o.createElement(li,{recordingKey:"rename-folder-option",onClick:E},o.createElement(F.Tx,{id:"design_systems.styles.rename_folder"})));return o.createElement(la,{style:l.data.position,className:nq},o.createElement(li,{recordingKey:"create-folder-option",onClick:i},o.createElement(F.Tx,{id:"design_systems.styles.add_new_folder"})),_,o.createElement(li,{recordingKey:"delete-style-option",onClick:s},o.createElement(F.Tx,{id:"design_systems.styles.delete_styles",numStyles:n})),o.createElement(lo,null),o.createElement(li,{recordingKey:"cut-style-option",onClick:c},o.createElement(F.Tx,{id:"design_systems.styles.cut_styles",numStyles:n})),!!m&&o.createElement(li,{recordingKey:"paste-style-option",onClick:d},o.createElement(F.Tx,{id:"design_systems.styles.paste_styles",numStyles:m})))}var lu=n(710752);function lm(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",d:"m6 16-.354-.354a.5.5 0 0 0-.146.355L6 16Zm.004 1.996h-.5a.5.5 0 0 0 .5.5v-.5Zm1.996 0v.5a.5.5 0 0 0 .353-.147L8 17.996Zm5.5-5.496.354-.354-.354.354Zm-2-2 .354-.354-.354.354ZM13 8l-.354.354.354.353.354-.353L13 8Zm3 3-.354-.353-.353.353.354.354L16 11Zm-3.01-3.01.353-.354-.353.354Zm1.02 5.02.354-.353-.354.353ZM5.5 16.001l.004 1.996 1-.003L6.5 16h-1Zm.504 2.495H8v-1H6.004v1Zm2.35-.147 5.5-5.495-.707-.708-5.5 5.496.706.707Zm5.5-6.203-2-2-.708.708 2 2 .708-.708Zm-2.708-2-5.5 5.5.708.708 5.5-5.5-.708-.708Zm-.51.197.51.51.707-.707-.51-.51-.707.708Zm3.728 2.314-.51-.51-.708.707.51.51.708-.707Zm1.98.707.02-.02-.708-.707-.02.02.708.707Zm-5.688-5.728-.02.02.707.708.02-.02-.707-.708Zm2.697.01-.01-.01-.707.707.01.01.707-.707Zm0 .708 2-2-.707-.708-2 2 .708.708Zm3.01 2.303-.01-.01-.707.707.01.01.708-.707Zm1.284-2.01-2 2 .707.707 2-2-.707-.708Zm0-2.293a1.62 1.62 0 0 1 0 2.292l.707.708a2.621 2.621 0 0 0 0-3.708l-.707.708Zm-6.283 1.99a.9.9 0 0 1 1.272 0l.707-.708a1.9 1.9 0 0 0-2.687 0l.707.707Zm5 5a1.9 1.9 0 0 0 0-2.687l-.708.707a.9.9 0 0 1 0 1.272l.708.708Zm-2.708.02a1.9 1.9 0 0 0 2.688 0l-.708-.707a.9.9 0 0 1-1.272 0l-.708.707Zm1.697-7.01a1.621 1.621 0 0 1 2.293 0l.708-.708a2.621 2.621 0 0 0-3.708 0l.707.708Zm-4.01 3.282a.9.9 0 0 1 0-1.272l-.707-.708a1.9 1.9 0 0 0 0 2.688l.707-.708Z"}))}var lh=n(884909),lg=n(304173),lE=n(608974),l_=n(257812),ly=n(319431),lf=n(914110);let lv="local-style-creation-dropdown";function lb(){var e;let t=(0,ec.wA)(),n=(0,o.useContext)(nh.lk),l=!(0,nH.p8)("isReadOnly"),r=o.useRef(null),a=o.useRef(null),i=r.current,s=(0,ll.U)(),c=(null==s?void 0:s.type)===lv,p=null==(e=null==s?void 0:s.data)?void 0:e.targetRect,u="localStyleHeader",m=0===(0,ng.Bs)().length,h=(0,ec.d4)(e=>e.stylePreviewShown.isShown&&e.stylePreviewShown.isCreating),g=o.useMemo(()=>p||(c&&i?i.getBoundingClientRect():null),[p,i,c]),E=()=>{t(eE.oB())},y=()=>{t(eE.j7({type:lv}))},f=e=>{e.stopPropagation(),t(B.YG());let n=r.current;c?E():n&&((0,d.sx)("editor-local-styles-dropdown-show"),y())},v=e=>{var t;E();let l=(0,nX.Zk)(e),r=null==(t=a.current)?void 0:t.getBoundingClientRect();l&&r&&n({styleType:e,inheritStyleKeyField:l,rowLeft:r.left,rowTop:r.top})},b=m&&!c&&!h;return o.createElement(eK.fI,{className:b?"styles--panelHeaderRowFaded--pfgKz styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO draggable_list--panelHeaderRowFaded--kETRR":"styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO",forwardedRef:a},o.createElement(eK.xw,{className:"styles--panelTitleText--v7gXm draggable_list--panelTitleText--SwKez",onMouseDown:e=>b&&f(e),onClick:e=>e.stopPropagation()},o.createElement(F.Tx,{id:"design_systems.styles.local_styles"})),l&&o.createElement(o.Fragment,null,o.createElement(eK.K0,{svg:no.A,fallbackSvg:n4.A,ref:r,onMouseDown:f,onClick:e=>e.stopPropagation(),className:c?"styles--stylesHeaderButtonHighlight--WTeWy raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6":"styles--stylesHeaderButton--jhpA5 draggable_list--addButton--D0q--","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.create_style.create_style"),recordingKey:_.Pt(u,"addButton")}),c&&g&&o.createElement(eb.Cf,{targetRect:g,minWidth:128,disableDropdownScrollContainer:!0,propagateCloseClick:!0},en.og.map(e=>{let{icon:t,label:n}=function(e){switch(e){case"TEXT":return{icon:o.createElement(eg.U,{svg:lf.A},o.createElement(lu.e,null)),label:(0,F.t)("design_systems.styles.dropdown.text")};case"FILL":return{icon:o.createElement(eg.U,{svg:l_.A},o.createElement(lm,null)),label:(0,F.t)("design_systems.styles.dropdown.fill")};case"GRID":return{icon:o.createElement(eg.U,{svg:ly.A},o.createElement(lh.E,null)),label:(0,F.t)("design_systems.styles.dropdown.grid")};case"EFFECT":return{icon:o.createElement(eg.U,{svg:lE.A},o.createElement(lg.n,null)),label:(0,F.t)("design_systems.styles.dropdown.effect")};default:throw(0,nO.j)(e),Error(`Invalid style type: ${e}`)}}(e),l=t=>{t.stopPropagation(),v(e)};return o.createElement(eh.W.Option,{key:e,className:"styles--createStyleDropdownRow--7iCXQ",onClick:l,onPointerUp:l,recordingKey:_.Pt(u,`dropdown-option-${e}`)},o.createElement(ev.N,null,t),n)}))))}let lS="collapsed-style-folders";function lw({scrollContainer:e,recordingKey:t}){let n=(0,ng.Bs)(),l=(0,nH.p8)("isReadOnly");return 0===n.length&&l?null:o.createElement(b.p,{name:"local_styles_panel"},o.createElement(eK.Zk,null,o.createElement(lT,{scrollContainer:e,recordingKey:t})))}function lT({scrollContainer:e,recordingKey:t}){let n=(0,ec.wA)(),l=(0,ec.d4)(e=>e.stylePreviewShown),r=(0,ec.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),a=(0,ec.d4)(e=>e.mirror.appModel.currentTool),i=o.useRef(null),s=(0,ng.Bs)(),c=(0,ec.d4)(e=>e.library.localStyleSelection),[p,u]=o.useState(null),[m,h]=o.useState(null),g=o.useRef(null),[E,y]=o.useState(!1),f=r===Q.m1T.GRADIENT||r===Q.m1T.RASTER||a===Q.NLJ.DROPPER_COLOR;o.useEffect(()=>{let e=()=>{!f&&(n(nF.Bn(null)),l.isShown&&(n(B.sw()),Q.glU.selectStyle(A.n3.INVALID,A.IA.INVALID)))},t=(0,Y.ft)();return t?window.addEventListener("pointerdown",e):window.addEventListener("mousedown",e),()=>{t?window.removeEventListener("pointerdown",e):window.removeEventListener("mousedown",e)}},[n,l.isShown,f]);let{stylesByType:v,foldersAndStylesByType:b}=o.useMemo(()=>{let e=(0,en.Kw)(s),t=new Map;return en.og.map(n=>{let l=e.get(n);if(l){(0,en.LX)(l);let e=(0,lr.lM)(l,n),r=(0,lr.l0)(e);t.set(n,r)}}),{stylesByType:e,foldersAndStylesByType:t}},[s]),S=o.useCallback(e=>{(0,nO.KF)(null!=e.content_hash,"style does not have a hash"),Q.glU.selectStyleByGuid(e.node_id),n(nF.ay({isRenaming:!1})),(0,d.sx)("Style Inspected",{styleType:e.style_type,from:"styleListClick"})},[n]),w=o.useCallback((e,t,n)=>{u(t?e:null),h(t?null:{name:e,styleTypeSection:n})},[]),T=o.useCallback(e=>{if(!e){n(nF.Bn(null));return}let t=new Set;e.styleIds.forEach(n=>{let l=s.find(e=>e.type===t_.PW.STYLE&&e.node_id===n);if(!l)return;let r=(0,nV.In)(l.name);e.folderNames.has(r)||t.add(n)});let l={type:e.type,folderNames:e.folderNames,styleIds:t};n(nF.Bn(l))},[n,s]),P=o.useCallback((e,t,n)=>{if(!c)return;let l=e[t],r=(e,t)=>{let l=(0,nV.ke)(e.name),r=null!=t?t:l.length-1;l[r]=n;let a=(0,lr.Pc)(l.join("/"));eR.l7.user("rename-style",()=>Q.glU.renameNode(e.node_id,a))};if(l.name!==n){if(l.type===t_.PW.STYLE)r(l);else{(0,lr.mx)(t,e).forEach(t=>{let n=e[t];n.type===t_.PW.STYLE&&r(n,l.level-1)});let a=new Set(c.folderNames);a.delete(l.name);let i=(0,nV.In)(l.name)+"/"+n;a.add(i),T({type:c.type,folderNames:a,styleIds:c.styleIds})}}X.Y5.triggerAction("commit"),u(null),h(null)},[c,T]),C=o.useCallback((e,t)=>{t.preventDefault(),t.stopPropagation(),n(eE.j7({type:ls,data:{uiList:e,position:{top:t.clientY,left:Math.min(t.clientX,window.innerWidth-lc)}}}))},[n]),k=o.useCallback(e=>{g.current=e},[]),I=o.useCallback(()=>{y(!0)},[]),N=o.useCallback(()=>{y(!1)},[]);return o.createElement("div",{className:"styles--localStylesPanel--T4Gqs",ref:i},o.createElement(lb,null),en.og.map(n=>{let l=v.get(n);if(!l)return;let r=b.get(n);if(r)return o.createElement(lP,{key:n,recordingKey:_.Pt(t,`style-section-${n}`),styleType:n,storedStyleList:l,styleList:r,updateSelection:T,isDragging:E,onDragStart:I,onDragEnd:N,onInspectStyle:S,onContextMenu:C,updateContextMenuStyleRef:k,renamingStyleID:p,renamingFolder:m,onRenameItem:w,stopRenamingItem:P,styleRowRef:g.current,onEditStyle:S,scrollContainer:e})}))}function lP({styleType:e,storedStyleList:t,styleList:n,renamingStyleID:l,renamingFolder:r,onRenameItem:a,stopRenamingItem:i,onDragStart:s,onDragEnd:c,onInspectStyle:d,onContextMenu:p,updateContextMenuStyleRef:u,updateSelection:m,styleRowRef:h,scrollContainer:E,recordingKey:y}){let f=(0,nB.q5)(),v=!(0,nH.p8)("isReadOnly"),b=(0,ec.wA)(),S=(0,ec.d4)(e=>e.stylePreviewShown),w=(0,ec.d4)(t=>(0,nU.i4)(t,e)),T=(0,ec.d4)(t=>(0,nU.A7)(t,e,n)),[P,C]=o.useState(()=>{if(nY.x4&&f){let t=JSON.parse(nY.x4.getItem(lS)||"{}");if(f.key in t){let n=t[f.key];if(e in n)return new Set(n[e])}else t[f.key]={},nY.x4.setItem(lS,JSON.stringify(t))}return new Set(n.filter(e=>"STYLE_FOLDER"===e.type).map(e=>e.name))}),[k,I]=o.useState([]),[N,R]=o.useState(null),[O,M]=o.useState(null),x=o.useMemo(()=>(0,nM.s)(()=>{b(nD.GT({styleType:e}))},200),[b,e]);o.useEffect(()=>{x()},[x,n]);let L=(0,nx.Z)(P);o.useEffect(()=>{if(!L||!nY.x4||!f||(0,nK._f)(L,P))return;let t=JSON.parse(nY.x4.getItem(lS)||"{}"),n=t[f.key];n&&(n[e]=[...P],nY.x4.setItem(lS,JSON.stringify(t)))},[P,f,L,e]);let K=o.useCallback(e=>!!e&&"STYLE_FOLDER"===e.type,[]),H=o.useCallback((e,t)=>{let l=new Set(e),r=[];n.forEach((e,t)=>{if(l.has(e)&&(r.push(t),"STYLE_FOLDER"===e.type)){let e=(0,lr.mx)(t,n);r.push(...e)}});let a=new Set(r),i=t?n.indexOf(t):n.length,o=[...(0,g.y1)(i).filter(e=>!a.has(e)),...r,...(0,g.y1)(i,n.length).filter(e=>!a.has(e))],s=new Map;return o.forEach((e,t)=>{e!==t&&s.set(e,t)}),s},[n]),V=o.useCallback(()=>{S.isShown&&(b(B.sw()),b(D.XE()),Q.glU.selectStyle(A.n3.INVALID,A.IA.INVALID))},[b,S.isShown]),U=o.useMemo(()=>{if(!N)return null;if("in"===N.type){let e=n[N.index];return e?{folderNameToNestUnder:e.name,dividerStyles:{display:"none"}}:null}if(null==N.index||null==O||!w)return null;let e=(0,lr.QA)(w,n),t=e[0],l=null,r=null;if(0===N.index?r=n[N.index]:N.index===n.length?l=n[N.index-1]:(l=n[N.index-1],r=n[N.index]),(null==l?void 0:l.type)==="STYLE_FOLDER"&&P.has(l.name)&&-1===k.indexOf(l.name))return{folderNameToNestUnder:l.name,dividerStyles:{display:"none"}};if((null==l?void 0:l.type)===t_.PW.STYLE){let e=(0,nV.In)(l.name).split("/");for(let n=0;n<e.length;n++){let l=e.slice(0,n+1).join("/");if(P.has(l)&&-1===k.indexOf(l)){if("STYLE_FOLDER"!==t.type)return{folderNameToNestUnder:l,dividerStyles:{display:"none"}};return{folderNameToNestUnder:(0,nV.In)(l),dividerStyles:{marginLeft:24*Math.min((0,nV.ke)(l).length,8)-8}}}}}let a=0,i=null,o=l?(0,lr.rM)(l):0,s=r?(0,lr.rM)(r):0;if(o<=s)a=s,i=l?l.type===t_.PW.STYLE?(0,nV.In)(l.name):l.name:"";else if((0,nO.KF)(null!=l,"Dragging after an item that doesn't exist"),t.type===t_.PW.STYLE||O>=.5)a=o,i=(0,nV.In)(l.name);else{let e=Math.floor(O/.5*(0,lr.rM)(l));e=Math.max(s-1,e),i=(0,nV.ke)((0,nV.In)(l.name)).slice(0,e).join("/"),a=e+1}let c={marginLeft:24*Math.min(a,8)-8};return l&&e.includes(l)||!(0,lr.Md)(l,t,r)?{folderNameToNestUnder:null,dividerStyles:c}:{folderNameToNestUnder:i,dividerStyles:c}},[P,O,w,N,n,k]),Z=o.useCallback((l,r,a,i)=>{if(!t||!r&&!a||!U)return;let o=U.folderNameToNestUnder;if(null===o)return;let s=[],c=[];l.forEach(e=>{(0,lr.Md)(r,e,a,o)&&("STYLE_FOLDER"===e.type?c.push(e):s.push(e))});let d=s.concat(c);if(!d.length)return;let p=eR.l7.user("reorder-styles",()=>(0,lr.VB)(d,r,a,o,n,t,i||!1)),u=new Set,h=new Set;d.forEach(e=>{let t=(0,lr.t_)(e),n=null==p?void 0:p.get(t);n&&("STYLE_FOLDER"===e.type?u.add(n):h.add(t))}),m({type:e,folderNames:u,styleIds:h});let g=new Set;return P.forEach(e=>{if(o.startsWith(e))return;let t=null==p?void 0:p.get(e);t?g.add(t):g.add(e)}),C(g),V(),i||X.Y5.triggerAction("commit"),H(d,a)},[m,P,U,H,V,t,n,e]),G=o.useCallback((e,t)=>{if("STYLE_FOLDER"!==t.type)return;let l=n.indexOf(t),r=(0,lr.dm)(t).filter(e=>(0,nV.In)(e.name)===t.name);if(!r.length)return Z(e,t,n[l+1]);{let t=r[r.length-1],l=n.indexOf(t);return Z(e,t,n[l+1])}},[Z,n]),Y=(0,nL.xx)((e,t)=>{let l=new Map,r=t.map(e=>e.type===t_.PW.STYLE?e.node_id:e.name);return e.forEach(e=>{let a=r.indexOf(e);-1!==a&&(0,lr.mx)(a,n).forEach(e=>{let n=t[e],r="STYLE_FOLDER"===n.type?n.name:n.node_id,a=l.get(r);a||(a=0),l.set(r,a+1)})}),l}),z=o.useCallback(()=>{if(!w)return;let t=(0,lr.QA)(w,n);if(0===t.length)return;let l=t[0],r=n.indexOf(l),i=r,o=r+1;if(l.type===t_.PW.STYLE&&n[o]&&n[o].type===t_.PW.STYLE){let e=(0,lr.rM)(l);for(let t=r+1;t<n.length;t++){let l=n[t];if("STYLE_FOLDER"===l.type&&l.level===e||(0,lr.rM)(l)<e){i=t-1,o=t;break}t===n.length-1&&(i=t,o=t+1)}}Z(t,n[i],n[o],!0);let s=(0,nV.In)(l.name),c=(0,F.t)("design_systems.create_style.untitled_folder");s&&(c=`${s}/${c}`);let d=(e,t)=>{if(e.type===t_.PW.STYLE){let n=c+"/"+t+(0,nV.kH)(e.name);eR.l7.user("rename-style",()=>{Q.glU.renameNode(e.node_id,n)})}else{let n=t+(0,nV.kH)(e.name)+"/";e.styles.forEach(e=>{d(e,n)}),e.subfolders.forEach(e=>{d(e,n)})}};t.forEach(e=>{d(e,"")}),m({type:e,folderNames:new Set([c]),styleIds:new Set}),a(c,!1,e)},[m,Z,w,a,n,e]),W=o.useCallback((e,t)=>{let l=n[e];"STYLE_FOLDER"===l.type&&C(e=>{let n=new Set(e);return t?n.add(l.name):n.delete(l.name),n})},[n]),$=o.useCallback((e,t)=>{C(l=>{let r=new Set(l),a=n[e];if("STYLE_FOLDER"===a.type){let e=(0,nV.In)(a.name),n=""===e?t:e+"/"+t;P.has(a.name)&&(P.delete(a.name),P.add(n)),(0,lr.KU)(a).forEach(e=>{if(P.has(e.name)){let t=e.name.replace(a.name,"");P.add(n+t),P.delete(e.name)}})}return r}),i(n,e,t)},[i,P,n]),j=o.useCallback(e=>{p(n,e)},[p,n]),q=o.useCallback((e,t,n)=>{R({index:e,type:n?"in":"before"}),M(t>.5?1:Math.round(1e3*t)/1e3)},[]),J=o.useCallback(()=>{C(e=>eR.l7.user("delete-styles",()=>{let t=new Set(e);return(w?(0,lr.QA)(w,n):[]).forEach(e=>{"STYLE_FOLDER"===e.type?((0,lr.a2)(e,(null==f?void 0:f.key)||null),P.delete(e.name),(0,lr.KU)(e).forEach(e=>P.delete(e.name))):(0,lr.Nr)(e,(null==f?void 0:f.key)||null)}),t})),X.Y5.triggerAction("commit"),S.isShown&&(b(B.sw()),b(D.XE()),Q.glU.selectStyle(A.n3.INVALID,A.IA.INVALID)),m(null)},[S.isShown,m,w,n,null==f?void 0:f.key,P,b]),ee=o.useMemo(()=>{let e=w?(0,lr.QA)(w,n):[];return(0,lr.Ug)(e).map(e=>e.node_id)},[w,n]),et=o.useCallback(()=>{Q.glU.cutStyles(ee)},[ee]),en=o.useCallback((e,t)=>{t===nZ.zy.PASTE?Q.glU.pasteStyles():e.shouldPropagate=!0},[]);o.useEffect(()=>{if(!w)return;let e=e=>{e.target&&("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)||et()};return document.addEventListener("cut",e),()=>{document.removeEventListener("cut",e)}},[et,w]);let el=o.useCallback(()=>{Q.glU.pasteStyles()},[]),er=o.useCallback(e=>{I(t=>[...t,e])},[]),ea=o.useCallback(()=>{s()},[s]),ei=_.rf(y,"ondragend",o.useCallback(()=>{R(null),M(null),I([]),c()},[c])),eo=(0,nx.Z)(w);o.useEffect(()=>{eo!==w&&w&&C(e=>{let n=new Set(e);for(let e of w.styleIds.values()){let l=t.find(t=>t.node_id===e);if(!l)continue;let r=(0,nV.ke)(l.name);for(let e=0;e<r.length;e++){let t=r.slice(0,e).join("/");n.delete(t)}}return n})},[w,eo,t]);let es=o.useRef(null),ed=o.useCallback(e=>{es.current=e},[es]),ep=o.useCallback((e,t,i,s,c,p)=>{let h="STYLE_FOLDER"===e.type?e.name:e.node_id,g=!1,E=!1;for(let t of k)if("STYLE_FOLDER"===e.type){if(e.name===t){E=!0;break}e.name.startsWith(t)&&(g=!0)}else if((0,nV.In)(e.name)===t){g=!0;break}if(!E&&!g&&Y(P,n).has(h))return null;if(e.type===t_.PW.STYLE){let n=(0,lr.rM)(e),r=null!=l&&l===e.node_id;return o.createElement(le,{hideStylePreview:V,recordingKey:`style-row-${t}`,index:t,key:e.node_id,isDragging:s,dsStyle:e,selected:i,selectedSecondary:(null==T?void 0:T.styleIds.has(e.node_id))||!1,level:n,stylePreviewShown:S,onContextMenu:j,updateContextMenuStyleRef:u,updateFocusRowRef:i?ed:null,onMouseDown:c,onMouseMove:p,onInspectStyle:d,updateSelection:m,isEditable:v,deleteSelectedItems:J,isRenaming:r,onRenameItem:a,stopRenamingItem:$,onCreateFolder:z})}{let n=null!=r&&r.name===e.name&&r.styleTypeSection===e.styleTypeSection,l=(null==U?void 0:U.folderNameToNestUnder)||null;return o.createElement(n3,{recordingKey:`folder-section-${e.styleTypeSection}-row-${t}`,key:t,index:t,isDragging:s,folder:e,selected:i,selectedSecondary:(null==T?void 0:T.folderNames.has(e.name))||!1,isCollapsed:P.has(e.name),temporarilyExpandFolder:er,isTemporarilyExpanded:E,isRenaming:n,folderNameToNestUnder:l,onRenameItem:a,stopRenamingItem:$,level:e.level,toggleFolder:e=>W(t,e),onContextMenu:j,onCreateFolder:z,onMouseDown:c,onMouseMove:p,isEditable:v,deleteSelectedItems:J,hideStylePreview:V})}},[m,P,J,null==U?void 0:U.folderNameToNestUnder,Y,V,j,z,d,a,r,l,null==T?void 0:T.folderNames,null==T?void 0:T.styleIds,$,n,S,er,k,W,u,v,ed]),eu=o.useCallback(t=>{let l=new Set,r=new Set;t.forEach(e=>{let t=n[e];"STYLE_FOLDER"===t.type?l.add(t.name):r.add(t.node_id)}),m({type:e,folderNames:l,styleIds:r})},[m,n,e]),em=o.useMemo(()=>w?(0,lr.h$)(w,n):[],[w,n]),eh=o.useRef(),eg=o.useRef();return o.useEffect(()=>{eh.current&&em.length?(eh.current(),es.current&&!es.current.contains(document.activeElement)&&es.current.focus()):eg.current&&!em.length&&(eg.current(),es.current=null)},[eh,em,es]),o.createElement(nR.vL,{name:"StyleDraggableList",handleClipboard:en,focusFunctionRef:eh,blurFunctionRef:eg},o.createElement(lt,{styleType:e},o.createElement(lC,{recordingKey:"style-draggable-list",listItems:n,onInsertItemsIn:G,canInsertItemsIn:K,onInsertItemsBetweenValues:Z,onDrag:q,onDragStart:ea,onDragEnd:ei,insertDividerStyle:null==U?void 0:U.dividerStyles,selectedIndices:em,updateSelection:eu,renderListItem:ep,scrollContainer:E,isDragDisabled:!v}),o.createElement(ld,{styleRowRef:h,onDeleteItems:J,onCutItems:et,onPasteItems:el,onRenameItem:a,onEditStyle:d,onCreateFolder:z,styleType:e})))}class lC extends nG.q{}var lk=n(448204),lI=n(793701),lN=n(725396),lA=n(395880);function lR(e){var t,n,l;return(null==(t=e.modalShown)?void 0:t.type)===lA.y.type||(null==(l=null==(n=e.modalShown)?void 0:n.prevModal)?void 0:l.type)===lA.y.type}function lO(){let e=(0,lA.m)(),t=(0,o.useCallback)(()=>{e()},[e]),n=(0,ec.d4)(lR),l=0===(0,lN.Rb)().length&&!n;return o.createElement(b.p,{name:"local_variables_panel"},o.createElement(eK.Zk,null,o.createElement(eK.fI,{className:l?"local_variables_panel--localVariablesPanelRowFaded--atToe local_variables_panel--localVariablesPanelRow--zR8nJ draggable_list--panelHeaderRowFaded--kETRR":"local_variables_panel--localVariablesPanelRow--zR8nJ"},o.createElement(eK.xw,{className:"local_variables_panel--titleText--7rdD7 draggable_list--panelTitleText--SwKez",onClick:t,"data-onboarding-key":"local-variables-panel-title"},o.createElement(F.Tx,{id:"variables.local_variables_panel.local_variables_title"})),o.createElement(tc.E,{name:"variables_modal_button"},o.createElement(tE.YW,{className:"local_variables_panel--openAuthoringModalButton--FiNXt draggable_list--addButton--D0q--",selected:n,recordingKey:(0,_.Pt)("localVariablesPanel","variablesModalButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("variables.local_variables_panel.open_variables_button_tooltip"),svg:n9.A,onClick:t})))))}var lM=n(841368),lx=n(247686),lL=n(95992),lK=n(57522),lF=n(828369);function lD(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 17.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-8.5A.75.75 0 0 1 8.75 8h.5a.75.75 0 0 1 .75.75v8.5Zm5-4a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v4.5Z",clipRule:"evenodd"}),o.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17.5 6a.5.5 0 0 0 0-1h-12a.5.5 0 0 0 0 1h12Z"}))}function lH(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 6.75A.75.75 0 0 0 9.25 6h-.5a.75.75 0 0 0-.75.75v9.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-9.5Zm5 2a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v5.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-5.5Z",clipRule:"evenodd"}),o.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M17.5 11a.5.5 0 0 1 0 1H15v-1h2.5ZM13 11h-3v1h3v-1Zm-7.5 0H8v1H5.5a.5.5 0 0 1 0-1Z",clipRule:"evenodd"}))}function lB(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 6.75A.75.75 0 0 0 9.25 6h-.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-8.5Zm5 4a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-4.5Z",clipRule:"evenodd"}),o.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17.5 18a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}))}function lV(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h8.5Zm-4 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5Z",clipRule:"evenodd"}),o.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M6 17.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 1 0v12Z"}))}function lU(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-9.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h9.5Zm-2 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h5.5Z",clipRule:"evenodd"}),o.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M13 17.5a.5.5 0 0 1-1 0V15h1v2.5Zm0-4.5v-3h-1v3h1Zm-1-7.5V8h1V5.5a.5.5 0 0 0-1 0Z",clipRule:"evenodd"}))}function lZ(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 10A.75.75 0 0 1 6 9.25v-.5A.75.75 0 0 1 6.75 8h8.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-8.5Zm4 5a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-4.5Z",clipRule:"evenodd"}),o.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18 17.5a.5.5 0 0 0 1 0v-12a.5.5 0 0 0-1 0v12Z"}))}var lG=n(635245);function lY(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 15.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-6.5A.75.75 0 0 1 8.75 8h.5a.75.75 0 0 1 .75.75v6.5Zm5-4a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v2.5Z",clipRule:"evenodd"}),o.createElement("path",{fill:"var(--color-icon)",d:"M17.5 6a.5.5 0 0 0 0-1h-12a.5.5 0 0 0 0 1h12Z"}),o.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M5.5 8.5v8.25c0 .414.336.75.75.75h10.5a.75.75 0 0 0 .75-.75V8.5"}))}function lz(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 11.5a.5.5 0 0 0-.5-.5H15V9.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75V11h-3V7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75V11H5.5a.5.5 0 0 0 0 1H8v3.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h3v1.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h2.5a.5.5 0 0 0 .5-.5Z",clipRule:"evenodd"}),o.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M5.5 14.5v2.25c0 .414.336.75.75.75h10.5a.75.75 0 0 0 .75-.75V14.5m0-6V6.25a.75.75 0 0 0-.75-.75H6.25a.75.75 0 0 0-.75.75V8.5"}))}function lW(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75v6.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-6.5Zm5 4a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v2.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-2.5Z",clipRule:"evenodd"}),o.createElement("path",{fill:"var(--color-icon)",d:"M17.5 17a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}),o.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M17.5 14.5V6.25a.75.75 0 0 0-.75-.75H6.25a.75.75 0 0 0-.75.75v8.25"}))}function lX(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h8.5Zm-4 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5Z",clipRule:"evenodd"}),o.createElement("path",{fill:"var(--color-icon)",d:"M6 17.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 1 0v12Z"}),o.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M8.5 5.5h10.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H8.5"}))}function lQ(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 18a.5.5 0 0 0 .5-.5V15h2.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13v-3h4.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13V5.5a.5.5 0 0 0-1 0V8H7.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v3H9.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v2.5a.5.5 0 0 0 .5.5Z",clipRule:"evenodd"}),o.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M15.5 5.5h3.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H15.5m-6 0H6.25a.75.75 0 0 1-.75-.75V6.25a.75.75 0 0 1 .75-.75H9.5"}))}function l$(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 10A.75.75 0 0 1 6 9.25v-.5A.75.75 0 0 1 6.75 8h8.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-8.5Zm4 5a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-4.5Z",clipRule:"evenodd"}),o.createElement("path",{fill:"var(--color-icon)",d:"M18 17.5a.5.5 0 0 0 1 0v-12a.5.5 0 0 0-1 0v12Z"}),o.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M15.5 17.5H5.25a.75.75 0 0 1-.75-.75V6.25a.75.75 0 0 1 .75-.75H15.5"}))}var lj=n(795318),lq=n(43900),lJ=n(471116),l0=n(514198),l5=n(487614),l1=n(565012),l7=n(146708),l2=n(619310),l4=n(467220),l3=n(174574),l6=n(503358),l8=n(496916),l9=n(678045),re=n(180549),rt=n(687886),rn=n(399940),rl=n(391914),rr=n(341152),ra=n(116374),ri=n(283804),ro=n(481928),rs=n(400658),rc=n(175895),rd=n(696875),rp=n(785828),ru=n(258654),rm=n(937476),rh=n(571262),rg=n(609091),rE=n(684391),r_=n(87428),ry=n(122302),rf=n(728642),rv=n(944584);let rb={"align-top":rp.A,"align-vertical-center":rm.A,"align-bottom":l5.A,"align-left":ro.A,"align-horizontal-center":ra.A,"align-right":rc.A,"distribute-horizontal-spacing":lj.A,"distribute-vertical-spacing":lJ.A,"arrange-as-list-Y":rf.A,"arrange-as-list-X":r_.A,"arrange-as-grid":rg.A,"align-top-as-group":rt.A,"align-vertical-center-as-group":rl.A,"align-bottom-as-group":l7.A,"align-left-as-group":l6.A,"align-horizontal-center-as-group":l4.A,"align-right-as-group":l9.A},rS={"align-top":ru.A,"align-vertical-center":rh.A,"align-bottom":l1.A,"align-left":rs.A,"align-horizontal-center":ri.A,"align-right":rd.A,"distribute-horizontal-spacing":lq.A,"distribute-vertical-spacing":l0.A,"arrange-as-list-Y":rv.A,"arrange-as-list-X":ry.A,"arrange-as-grid":rE.A,"align-top-as-group":rn.A,"align-vertical-center-as-group":rr.A,"align-bottom-as-group":l2.A,"align-left-as-group":l8.A,"align-horizontal-center-as-group":l3.A,"align-right-as-group":re.A},rw={"align-top":lD,"align-vertical-center":lH,"align-bottom":lB,"align-left":lV,"align-horizontal-center":lU,"align-right":lZ,"distribute-horizontal-spacing":function(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M6 5.5a.5.5 0 0 1 1 0v12a.5.5 0 0 1-1 0v-12Z"}),o.createElement("path",{fill:"var(--color-icon)",d:"M12.25 15a.75.75 0 0 0 .75-.75v-5.5a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v5.5c0 .414.336.75.75.75h.5Z"}),o.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17 5.5a.5.5 0 0 1 1 0v12a.5.5 0 0 1-1 0v-12Z"}))},"distribute-vertical-spacing":function(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18.5 6a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}),o.createElement("path",{fill:"var(--color-icon)",d:"M9 12.25c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v.5Z"}),o.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18.5 17a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}))},"arrange-as-list-Y":function(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6.75A.75.75 0 0 1 5.75 6h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75A.75.75 0 0 1 5 7.25v-.5Zm0 5a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75a.75.75 0 0 1-.75-.75v-.5ZM5.75 16a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h11.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H5.75Z",clipRule:"evenodd"}))},"arrange-as-list-X":function(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 18a.75.75 0 0 1-.75-.75V5.75A.75.75 0 0 1 6.75 5h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-.5Zm5 0a.75.75 0 0 1-.75-.75V5.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-.5Zm4.25-.75c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V5.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v11.5Z",clipRule:"evenodd"}))},"arrange-as-grid":lG.M,"align-top-as-group":lY,"align-vertical-center-as-group":lz,"align-bottom-as-group":lW,"align-left-as-group":lX,"align-horizontal-center-as-group":lQ,"align-right-as-group":l$};var rT=n(289298);let rP=parseInt("6px"),rC=["align-left","align-horizontal-center","align-right","align-top","align-vertical-center","align-bottom"],rk=["align-left-as-group","align-horizontal-center-as-group","align-right-as-group","align-top-as-group","align-vertical-center-as-group","align-bottom-as-group"],rI=["tidy-up","distribute-vertical-spacing","distribute-horizontal-spacing"],rN=o.memo(function(e){let t=(0,o.useRef)(null),[n,l]=(0,o.useState)(!1),[r,a]=rF(),i=(0,o.useCallback)(e=>{l(e.altKey||e.shiftKey)},[]);(0,o.useEffect)(()=>{function e(){l(!1)}return document.addEventListener("keydown",i),document.addEventListener("keyup",i),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",i),window.removeEventListener("blur",e)}},[i]);let s=(0,lL.vm)(rk),c=function(e){let[t,n]=(0,o.useState)(0);return(0,o.useLayoutEffect)(()=>{n(rD(e.current))},[e]),(0,ew.w)(e,(0,o.useCallback)(()=>{n(rD(e.current))},[e])),t}(t),d=Math.floor(c/(24+rP));d*(24+rP)+24<=c&&++d;let[p,u]=function({visibleActionCount:e,renderGroupAlignButtons:t}){let{version:n}=(0,em.DP)(),l=t?rk:rC,r=[],a=[];if("ui2"===n)r=l,a=rI;else{let t=[...l,...rI];t.length>e?(r=t.slice(0,e-1),a=t.slice(e-1)):r=t}return[r,a]}({visibleActionCount:d,renderGroupAlignButtons:n&&r&&s});return o.createElement(b.p,{name:"align_panel"},o.createElement(eK.Zk,{className:(0,er.Zd)()?void 0:"align_panel--panel--hOaKr",onMouseMove:e=>i(e.nativeEvent),...a},o.createElement(rA,{ref:t},p.map(t=>o.createElement(rL,{key:t,action:t,recordingKey:e.recordingKey})),u.length>0&&o.createElement(rR,{actions:u,recordingKey:e.recordingKey}))))}),rA=o.forwardRef(function(e,t){let{version:n}=(0,em.DP)();return"ui3"===n?o.createElement("div",{ref:t,className:"align_panel--flexibleRow--5gjUF"},e.children):o.createElement(eK.fI,{forwardedRef:t},e.children)});function rR(e){let t=(0,ll.B)("FULLSCREEN_DISTRIBUTE_DROPDOWN"),n=(0,o.useRef)(null),{version:l}=(0,em.DP)(),r=(0,tS.Rt)(),a=(0,lL.yU)(e.actions),i=r?(0,F.t)("fullscreen.properties_panel.tooltip_moreActions"):(0,F.t)("fullscreen.properties_panel.align_panel.more_options");return o.createElement(o.Fragment,null,o.createElement(tc.E,{name:"toggle_align_options_button"},o.createElement(tB.K,{actionOnPointerDown:t.showing,ref:n,"aria-label":i,onClick:()=>{t.toggle({data:{targetRect:n.current.getBoundingClientRect()}})},disabled:"ui2"===l&&!a,recordingKey:_.Pt(e,"distributeDropdown"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":i},"ui2"===l?o.createElement("span",{className:"align_panel--dropdownIconHack--7hoNm"},o.createElement(rK,null),o.createElement(M.B,{svg:rT.A,className:"align_panel--ui3IconColorCompat--51gei"})):o.createElement(rK,null))),t.showing&&o.createElement(tc.E,{name:"dropdown"},o.createElement(eb.Cf,{targetRect:t.data.targetRect,propagateCloseClick:!0},e.actions.map(t=>o.createElement(rO,{key:t,action:t,recordingKey:e.recordingKey})))))}function rO(e){let{action:t}=e,n=(0,lL.Zr)(t),l=(0,ec.d4)(e=>e.mirror.appModel.keyboardShortcuts);return o.createElement(ev.a,{text:(0,lx.A)(t),isEnabled:n,hideCheck:!0,isChecked:!1,onClick:()=>{X.Y5.triggerActionInUserEditScope(t,"tidy-up"===t?{source:"panel"}:null)},key:t,shortcut:(0,ei.c1)(l,t),recordingKey:_.Pt(e,"distributeDropdown",t)},o.createElement(rM,{action:t}))}function rM({action:e}){if("tidy-up"===e)return o.createElement(rx,null);let t=rw[e];return o.createElement(eg.U,{svg:rb[e],fallbackSvg:rS[e]},t&&o.createElement(t,null))}function rx(){let e=(0,lK.kl)("detectableListAxis"),t=(0,lL.Zr)("arrange-as-grid")?"arrange-as-grid":`arrange-as-list-${(0,J._W)(e,"Y")}`,n=rw[t];return o.createElement(eg.U,{svg:rb[t],fallbackSvg:rS[t]},n&&o.createElement(n,null))}function rL(e){let t=(0,lL.Zr)(e.action),n=(0,lF.X)();return o.createElement(tc.E,{name:"align_button",alsoTrack:()=>({alignButtonAction:e.action})},o.createElement(tB.K,{as:"button",disabled:!t,onClick:()=>{X.Y5.triggerActionInUserEditScope(e.action)},onMouseDown:e=>{(null==n?void 0:n.id.startsWith("paint"))&&e.stopPropagation()},"data-tooltip-type":ey.Ib.LOOKUP,"data-tooltip":e.action,"data-tooltip-max-width":"200",recordingKey:_.Pt(e,"alignButton",e.action),key:e.action,"aria-label":e.action},o.createElement(rM,{action:e.action})))}function rK(){let{version:e}=(0,em.DP)(),t=(0,lL.Zr)("tidy-up");return"ui3"===e?o.createElement(lM.J,null):o.createElement(rM,{action:t?"tidy-up":"distribute-vertical-spacing"})}function rF(){let[e,t]=(0,o.useState)(!1);return[e,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)}]}function rD(e){let t=getComputedStyle(e);return parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)}var rH=n(21621),rB=n(266304),rV=n(851469),rU=n(208332),rZ=n(961699),rG=n(943686);function rY({showLibrarySets:e,recordingKey:t}){let n=(0,ec.wA)(),l=(0,n$.GS)(),r=(0,ll.U)(),a=o.useRef(null),i=o.useCallback(()=>{a.current&&n(eE.j7({type:rZ.R,data:{targetRect:a.current.getBoundingClientRect()}}))},[n]),s=r&&r.type===rZ.R;return(0,rU.A1)(e)?o.createElement("div",{ref:a},o.createElement(tE.YW,{recordingKey:_.Pt(t,"applyMode"),selected:!!s,svg:rG.A,dataTestId:"applyModeButton","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":l?(0,F.t)("properties.dropdown.apply_variable_mode"):(0,F.t)("variables.layer_panel.header.button.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:i}),o.createElement(rZ.bt,{showLibrarySets:e,recordingKey:_.Pt(t,"applyModeDropdown")})):null}var rz=n(494304),rW=n(930850),rX=n(521054),rQ=n(664241),r$=n(258376);function rj({recordingKey:e}){let t=(0,m.md)(rz.I7);return(0,rU.Tt)()&&!(0,u.kc)().ds_variables_relax_modes&&t?o.createElement(rJ,{recordingKey:e}):null}let rq="VARIABLES_INCOMPATIBLE_MODES_UPDATE_DROPDOWN";function rJ({recordingKey:e}){let t=(0,ec.wA)(),n=(0,ll.U)(),l=o.useRef(null),r=n&&n.type===rq,a=o.useCallback(()=>{l.current&&t(eE.j7({type:rq,data:{targetRect:l.current.getBoundingClientRect()}}))},[t]),i=o.useCallback(()=>{t(e_.to({type:rX.T,data:{initialTab:t_.Wv.UPDATES,entrypoint:rW.r6.VARIABLE_MODES_ACCEPT_UPDATES_DROPDOWN_OPTION}}))},[t]);return o.createElement(o.Fragment,null,o.createElement("div",{ref:l},o.createElement(tE.YW,{recordingKey:_.Pt(e,"updateIcon"),selected:!!r,svg:r$.A,className:rQ.l_,dataTestId:"updatesModesButton","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("variables.layer_panel.header.update_button_direct.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:a})),r&&(l.current?o.createElement(eb.Cf,{targetRect:l.current.getBoundingClientRect(),maxWidth:226,disableDropdownScrollContainer:!0,propagateCloseClick:!0},o.createElement(o.Fragment,null,o.createElement(eh.W.Option,{className:rQ.Ig,recordingKey:_.Pt(e,"description"),key:"description",disabled:!0},(0,F.t)("variables.layer_panel.header.update_button.dropdown.description")),o.createElement(eh.W.Separator,null),o.createElement(eh.W.Option,{onClick:i,recordingKey:_.Pt(e,"review-update"),key:"review_update"},(0,F.t)("variables.layer_panel.header.update_button_direct.dropdown.option")))):null))}var r0=n(204459),r5=n(998941),r1=n(473823),r7=n(554207),r2=n(921325),r4=n(771963);class r3 extends o.PureComponent{constructor(e){super(e),this.chitRowRef=o.createRef(),this.colorFormatter=rB.TI,this.onColorChange=(e,t)=>{let n=e.a;e.a=1,X.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:n,backgroundEnabled:!0},{shouldCommit:t})},this.onColorChangeWithoutAlpha=(e,t)=>{X.Y5.updateSelectionProperties({backgroundColor:e,backgroundEnabled:!0},{shouldCommit:t})},this.onOpacityChange=(e,t)=>{X.Y5.updateSelectionProperties({backgroundOpacity:e,backgroundEnabled:0!==e},{shouldCommit:t})},this.onBackgroundEnabledChange=e=>X.Y5.updateSelectionProperties({backgroundEnabled:e}),this.onExportBackgroundDisabledChange=e=>{X.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},this.toggleColorPicker=()=>{if(this.props.pickerShown&&this.props.pickerShown.id===Z.k8)this.props.dispatch(D.XE());else{(0,u.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-background-panel-color-picker-show");let e=this.chitRowRef.current?(0,ef.cn)(this.chitRowRef.current):{x:0,y:0};this.props.dispatch(D.u1({id:Z.k8,initialX:e.x,initialY:e.y})),this.props.dispatch(B.sw())}},this.mergeColorAndOpacity=(0,nL.xx)(e=>{let t=(0,J.E7)(e.backgroundColor),n=(0,J.E7)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||J.oV})}get opacity(){return(0,J.hS)(this.props.backgroundOpacity)&&"number"==typeof this.props.backgroundOpacity&&isNaN(this.props.backgroundOpacity)?0:this.props.backgroundOpacity}renderInputWithChit(){return o.createElement("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},o.createElement(r5.J,{color:this.mergeColorAndOpacity(this.props),opacity:this.opacity,onMouseDown:this.toggleColorPicker,recordingKey:_.Pt(this.props,"colorChit"),className:"background_panel--chit--EQGLT paint_panels--chit--twQEy"}),o.createElement(r7.AN,{className:this.props.backgroundEnabled?"background_panel--color--sBAtd paint_panels--colorInput--nSz13":"background_panel--colorHidden--CEpXN paint_panels--colorInputHidden--ZojfD paint_panels--colorInput--nSz13",formatter:this.colorFormatter,property:this.props.backgroundColor,onChange:this.onColorChangeWithoutAlpha,recordingKey:_.Pt(this.props,"color"),noBorderOnFocus:!0}),o.createElement(rV.Pd,{className:"background_panel--opacity--nwSdu paint_panels--opacityInputContainer--oqlsk",inputClassName:this.props.backgroundEnabled?void 0:"background_panel--opacityInputHidden--2-b0t paint_panels--opacityInputHidden--I2GEk",value:this.opacity,onValueChange:this.onOpacityChange,dispatch:this.props.dispatch,noBorderOnFocus:!0,recordingKey:_.Pt(this.props,"opacity")}))}renderVisibilityToggleButton(){return o.createElement("span",{className:"background_panel--visible--2-4Ns"},o.createElement(r4.B,{visible:this.props.backgroundEnabled,onChange:this.onBackgroundEnabledChange,recordingKey:_.Pt(this.props,"visibleToggle")}))}renderSimpleBackground(){return o.createElement("div",null,o.createElement(eK.fI,{className:"background_panel--panelTitleRow--uNINf"},o.createElement(eK.xw,null,o.createElement(F.Tx,{id:"fullscreen.properties_panel.page"})),o.createElement(rj,{recordingKey:"pageLevel"}),o.createElement(rY,{showLibrarySets:!0,recordingKey:"pageLevel"})),"ui2"===this.props.theme.version?this.renderUI2ColorInput():this.renderUI3ColorInput())}renderUI3ColorInput(){return o.createElement(tw.DE,{ref:this.chitRowRef,label:null,input:this.renderInputWithChit(),icon:this.renderVisibilityToggleButton()})}renderUI2ColorInput(){return o.createElement(o.Fragment,null,o.createElement(eK.fI,{forwardedRef:this.chitRowRef},this.renderInputWithChit(),this.renderVisibilityToggleButton()))}render(){var e;return o.createElement(b.p,{name:"background_panel"},o.createElement(eK.Zk,null,this.renderSimpleBackground(),this.props.hasExports&&o.createElement(eK.fI,{className:"background_panel--checkboxLabelRow--r-hmK"},o.createElement(r0.t,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:this.props.exportBackgroundDisabled===J.oV?J.oV:!this.props.exportBackgroundDisabled,onChange:this.onExportBackgroundDisabledChange,recordingKey:_.Pt(this.props,"exportDisableCheckbox")}),o.createElement(eK.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},o.createElement(F.Tx,{id:"fullscreen.properties_panel.show_in_exports"}))),(null==(e=this.props.pickerShown)?void 0:e.id)===Z.k8&&o.createElement(r1.sk,{disabledVariableIds:new Set,title:(0,F.t)("fullscreen.properties_panel.background"),initialPosition:new N.Mi(this.props.pickerShown.initialX,this.props.pickerShown.initialY),color:(0,J.hS)(this.mergeColorAndOpacity(this.props))?(0,J.E7)(this.mergeColorAndOpacity(this.props)):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:this.onColorChange,recordingKey:_.Pt(this.props,"colorPicker")}),o.createElement(r2.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})))}}r3.displayName="BackgroundPanel";let r6=(0,em.SL)(r3);var r8=n(156321),r9=n(511315),ae=n(343798),at=n(159849),an=n(816665),al=n(438806),ar=n(235107);function aa(e){return"HORIZONTAL"===e?ar.A:al.A}class ai{constructor(e){this.isHorizontal="HORIZONTAL"===e}format(e){switch(e){case"MIN":return this.isHorizontal?(0,F.t)("fullscreen.properties_panel.constraints_panel.select.left"):(0,F.t)("fullscreen.properties_panel.constraints_panel.select.top");case"MAX":return this.isHorizontal?(0,F.t)("fullscreen.properties_panel.constraints_panel.select.right"):(0,F.t)("fullscreen.properties_panel.constraints_panel.select.bottom");case"STRETCH":return this.isHorizontal?(0,F.t)("fullscreen.properties_panel.constraints_panel.select.left_and_right"):(0,F.t)("fullscreen.properties_panel.constraints_panel.select.top_and_bottom");case"CENTER":return(0,F.t)("fullscreen.properties_panel.constraints_panel.select.center");case"SCALE":return(0,F.t)("fullscreen.properties_panel.constraints_panel.select.scale");default:return""}}}var ao=n(344525);let as="constraint_select--chevron--vKwBF",ac="constraint_select--input--daUMm",ad=new class{format(e){if("AUTO"===e)return(0,F.t)("fullscreen.auto")}};function ap(e){return"HORIZONTAL"===e?o.createElement(r9.w,null):o.createElement(ae.T,null)}function au(e){let{version:t}=(0,em.DP)(),n=ay();if(e.readOnly&&(0,J.hS)(e.constraint)){let t=new ai(e.axis).format(e.constraint);return o.createElement("div",{className:c()(e.className,"constraint_select--flexContainer--a9ZPi")},o.createElement(M.B,{svg:aa(e.axis),className:ao.Vb}),o.createElement("span",{className:"constraint_select--readOnlyText--uBzWh ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}let l=new ai(e.axis);return"ui3"===t&&n?o.createElement(an.l6,{id:e.id,chevronClassName:as,inputClassName:ac,className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:"AUTO",formatter:ad,ui3Icon:ap(e.axis),svg:aa(e.axis),onChange:at.lQ,disabled:n,recordingKey:_.Pt(e,"select")},o.createElement(an.c$,{key:"AUTO",value:"AUTO",disabled:!0})):o.createElement(an.l6,{id:e.id,chevronClassName:as,inputClassName:ac,className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:e.constraint,formatter:l,ui3Icon:ap(e.axis),svg:aa(e.axis),onChange:t=>{let n="HORIZONTAL"===e.axis?"horizontalConstraint":"verticalConstraint";e.updateConstraints({[n]:t},!0)},disabled:n,recordingKey:_.Pt(e,"select")},["MIN","MAX","STRETCH","CENTER","SCALE"].map(t=>{let l=e.disableStretchScaleConstraints&&["STRETCH","SCALE"].includes(t);return o.createElement(an.c$,{key:t,value:t,recordingKey:_.Pt(e,"select",t),disabled:n||l})}))}let am="constraint_selector--outerRow--vEwHH",ah="constraint_selector--compactOuterRow--lVbKK constraint_selector--outerRow--vEwHH",ag="constraint_selector--hover--QinHp";function aE(e){let[t,n]=(0,o.useState)(null),[l,r]=(0,o.useState)(null),{version:a}=(0,em.DP)(),i=ay(),s="ui3"===a&&i?void 0:e.horizontalConstraint,d="ui3"===a&&i?void 0:e.verticalConstraint,p=e=>["top","bottom"].includes(e)?"VERTICAL":"HORIZONTAL",u=e=>"HORIZONTAL"===e?s:d,m=e=>e.shiftKey||e.metaKey,h=(t,n)=>l=>{if(e.readOnly)return;let r=n;if(m(l)||e.isCompact){let l="MIN"===n?"MAX":"MIN",a=u(t),i="VERTICAL"===t?!e.disableVerticalStretchScaleConstraints:!e.disableHorizontalStretchScaleConstraints;a===n&&i?r="SCALE":a===l&&i?r="STRETCH":"STRETCH"===a&&(r=l)}"VERTICAL"===t?e.updateConstraints({verticalConstraint:r}):e.updateConstraints({horizontalConstraint:r})},g=t=>()=>{e.readOnly||n(t)},E=()=>{n(null)},y=e=>{let t=e.target.parentElement;if(!t)return console.error(`constraint selector inner target element is ${t}`),null;let{top:n,left:l,width:r,height:a}=t.getBoundingClientRect(),i=Math.abs(e.clientX-l-r/2),o=Math.abs(e.clientY-n-a/2);return i<3&&o<3?"HORIZONTAL":i<o?"VERTICAL":"HORIZONTAL"},f=t=>{if(!e.readOnly){if("CENTER"!==d||m(t)){if("CENTER"!==s||m(t)){if("VERTICAL"===y(t)){let n=m(t)&&"CENTER"===d?"SCALE":"CENTER";e.updateConstraints({verticalConstraint:n})}else{let n=m(t)&&"CENTER"===s?"SCALE":"CENTER";e.updateConstraints({horizontalConstraint:n})}}else e.updateConstraints({verticalConstraint:"CENTER"})}else e.updateConstraints({horizontalConstraint:"CENTER"})}},v=t=>{e.readOnly||("CENTER"===d?r("HORIZONTAL"):"CENTER"===s?r("VERTICAL"):r(y(t)))},b=()=>{r(null)},S=e=>c()({"constraint_selector--selected--Eb73C":e,"constraint_selector--disabled--hLCxk":i}),w=(n,l)=>{let r="HORIZONTAL"===p(n)?e.isCompact?"constraint_selector--compactOuterHorizontalHandle--LVIo0 constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":"constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":e.isCompact?"constraint_selector--compactOuterVerticalHandle--bF8mY constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2":"constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2";return c()(r,S(l),{[ag]:t===n&&!i})},T=(t,n)=>{let r="HORIZONTAL"===t?e.isCompact?"constraint_selector--compactInnerHorizontalHandle--voVqQ constraint_selector--_compactInnerHandle--gqwrT constraint_selector--_handle--LH-q2":"constraint_selector--innerHorizontalHandle--Zfxr0 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2":e.isCompact?"constraint_selector--compactInnerVerticalHandle--UTZB- constraint_selector--_compactInnerHandle--gqwrT constraint_selector--_handle--LH-q2":"constraint_selector--innerVerticalHandle--slyp1 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2";return c()(r,S(n),{[ag]:l===t&&!i})},P=t=>{let n=p(t),l=u(n),r=["top","left"].includes(t)?"MIN":"MAX",a=[r,"STRETCH"].includes(l),i="HORIZONTAL"===n?e.isCompact?"constraint_selector--compactOuterHorizontalTarget--5-m-j constraint_selector--outerHorizontalTarget--2Tsd3":"constraint_selector--outerHorizontalTarget--2Tsd3":e.isCompact?"constraint_selector--compactOuterVerticalTarget--0Lb9I constraint_selector--outerVerticalTarget--m0eT7":"constraint_selector--outerVerticalTarget--m0eT7",s=w(t,a);return o.createElement(tZ.D8,{className:i,recordingKey:_.Pt(e,"constraint",t),onMouseDown:h(n,r),onMouseEnter:g(t),onMouseLeave:E},o.createElement("div",{className:s}))},C=t=>{let n="centerX"===t?"HORIZONTAL":"VERTICAL",l=u(n);return o.createElement(tZ.D8,{className:T(n,"CENTER"===l),recordingKey:_.Pt(e,"constraint",t)})};return o.createElement("div",{className:e.isCompact?"constraint_selector--compactSelectorContainer--tn5PR constraint_selector--selectorContainer--stEPY":"constraint_selector--selectorContainer--stEPY"},o.createElement("div",{className:e.isCompact?ah:am},P("top")),o.createElement("div",{className:"constraint_selector--innerRow--Sq9bp"},P("left"),(()=>{let t=C("centerX"),n=C("centerY");return o.createElement("div",{className:e.isCompact?"constraint_selector--compactInnerTarget--RzKnh constraint_selector--innerTarget--8C-rg":"constraint_selector--innerTarget--8C-rg",onMouseDown:f,onMouseMove:v,onMouseLeave:b},"CENTER"===s?o.createElement(o.Fragment,null,n,t):o.createElement(o.Fragment,null,t,n))})(),P("right")),o.createElement("div",{className:e.isCompact?ah:am},P("bottom")))}function a_(){return(0,ts.R)(e=>{var t;let n=e.mirror.selectionProperties;return{openFileKey:null==(t=e.openFile)?void 0:t.key,stackMode:n.stackMode,stackLayoutSizeOptions:n.stackLayoutSizeOptions,stackHorizontalSize:n.stackHorizontalSize,stackVerticalSize:n.stackVerticalSize,stackPositioning:n.stackPositioning,someConstraintItemsSelected:n.someNodesAreConstraintItems,nodesAreAllInsideStacks:n.nodesAreAllInsideStacks,horizontalConstraint:n.horizontalConstraint,verticalConstraint:n.verticalConstraint,scrollBehavior:n.scrollBehavior,allHaveScrollableFrameAsParent:n.allHaveScrollableFrameAsParent,hasHorizontallyScrollingParent:n.hasHorizontallyScrollingParent,hasVerticallyScrollingParent:n.hasVerticallyScrollingParent,isInstanceSublayerSelected:!!n.isInstanceSublayerSelected,hasMinOrMaxWidth:null!=n.minWidth||null!=n.maxWidth,hasMinOrMaxHeight:null!=n.minHeight||null!=n.maxHeight}})}function ay(){let e=a_(),{version:t}=(0,em.DP)();return e.isInstanceSublayerSelected||"ui3"===t&&e.nodesAreAllInsideStacks&&"AUTO"===e.stackPositioning||!1}function af(e){let t=(0,ec.wA)(),{version:n}=(0,em.DP)(),l=a_(),r=e=>{if(("HORIZONTAL"===e?l.stackHorizontalSize:l.stackVerticalSize)===et.mKm.FILL_CONTAINER||"NONE"!==l.stackMode&&("HORIZONTAL"===e?l.hasMinOrMaxWidth:l.hasMinOrMaxHeight))return!0;if(l.scrollBehavior!==J.oV&&"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"!==l.scrollBehavior)return!1;let t="HORIZONTAL"===e?l.hasHorizontallyScrollingParent:l.hasVerticallyScrollingParent;return!!(0,J.E7)(t)},a=(t,n=!1)=>{l.isInstanceSublayerSelected||((0,d.sx)("Constraint Changed",{fileKey:e.openFileKey,source:n?"dropdown":"panel",...t}),X.Y5.updateSelectionProperties(t))},i=r("HORIZONTAL"),s=r("VERTICAL"),c=o.createElement(tc.E,{name:"constraint_selector"},o.createElement(aE,{horizontalConstraint:l.horizontalConstraint,verticalConstraint:l.verticalConstraint,someConstraintItemsSelected:l.someConstraintItemsSelected,updateConstraints:a,disableHorizontalStretchScaleConstraints:i,disableVerticalStretchScaleConstraints:s,dispatch:t,recordingKey:_.Pt(e,"constraintSelector"),readOnly:e.readOnly})),p=o.createElement(tc.E,{name:"width_select"},o.createElement(au,{id:"width-select",className:"constraints_panel--stackWidthDropdown--mbkWx constraints_panel--_sizeDropdown--1d1H2",axis:"HORIZONTAL",constraint:l.horizontalConstraint,updateConstraints:a,someConstraintItemsSelected:l.someConstraintItemsSelected,disableStretchScaleConstraints:i,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:_.Pt(e,"width"),readOnly:e.readOnly})),u=o.createElement(tc.E,{name:"height_select"},o.createElement(au,{id:"height-select",className:"constraints_panel--stackHeightDropdown--Aj-c5 constraints_panel--_sizeDropdown--1d1H2",axis:"VERTICAL",constraint:l.verticalConstraint,updateConstraints:a,someConstraintItemsSelected:l.someConstraintItemsSelected,disableStretchScaleConstraints:s,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:_.Pt(e,"height"),readOnly:e.readOnly}));return"ui3"===n?o.createElement("div",{className:"constraints_panel--ui3Container--xPomZ"},c,o.createElement("div",{className:"constraints_panel--ui3Selects--ira8c"},p,u)):o.createElement(eK.fI,{heightMultiplier:2,className:"constraints_panel--container--bilN5"},c,p,u)}function av(e){let t=a_();return e.readOnly?o.createElement(af,{...e}):t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning?null:o.createElement(eK.Zk,null,o.createElement(eK.fI,null,o.createElement(eK.xw,{extended:!0},o.createElement(F.Tx,{id:"fullscreen.properties_panel.constraints_panel.constraints"}))),o.createElement(af,{...e}))}function ab(e){return o.createElement(b.p,{name:"constraints_panel"},o.createElement(av,{...e}))}var aS=n(371875),aw=n(405622);function aT(e){let t=(0,tS.Rt)(tS.G1.READY),{productComponent:n}=e;return t||("SYMBOL"!==n.type||n.isState)&&!n.isStateGroup?null:o.createElement(b.p,{name:"containing_assets_panel"},o.createElement(eK.Zk,null,o.createElement(eK.fI,null,o.createElement(eK.xw,{className:aS.Dn},o.createElement(F.Tx,{id:"design_systems.component_panel.parent_component"}))),o.createElement(tc.E,{name:"select_component_button"},o.createElement(eK.fI,{className:aS.D9,onClick:()=>{q.tJ([n.guid])},recordingKey:"containingComponentPanel.jumpTo"},o.createElement(M.B,{svg:tt.A,className:aS.Vo}),o.createElement("div",{className:aS.TQ},n.name),o.createElement("div",{className:aS.UD},o.createElement(M.B,{"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.select_component"),svg:aw.A,className:aS.dC}))))))}function aP(){let e=(0,ts.R)(eM.Lg);return(0,nf.Jk)(e)}function aC(e){let t=Object.keys(e);return(0,nf.Fk)((e,t)=>t.every(t=>{let n=e.get(t);return n&&"SYMBOL"===n.type&&n.isState}),t)}function ak(){let e=aP();return e?o.createElement(aT,{productComponent:e}):null}function aI(e){let t=aC(e.selection),n=!e.scaleShouldHideOtherPanels&&(!e.shownPanels[Q.ibQ.COMPONENT_ITEM]||t),l=(0,o.useRef)(new ea.H4(()=>o.createElement(ak,{key:"containingAssets"})));return o.createElement(o.Fragment,null,l.current.render(n))}var aN=n(620059),aA=n(472497),aR=n(667777),aO=n(487383),aM=n(180927),ax=n(849359),aL=n(731939);function aK(e){let t=(0,nB.q5)(),n=(0,aL.usePermissionsState)(),l=(0,en.IW)(e.stylePreviewShown),r=(0,ax.$Q)(null==l?void 0:l.file_key).data;if(!l||!r)return null;let a=(0,aO.to)(r);return a=(0,aA.dR)(a,{"node-id":encodeURIComponent((0,aM.E)(l.node_id))}),o.createElement(b.p,{name:"external_style_options"},o.createElement(eK.Zk,{key:"external-style-options"},(0,aR.J)({openFile:t,permissionsState:n,user:e.user,sourceLibraryFile:r})&&o.createElement(eK.fI,null,o.createElement(e5.N_,{className:nE.lf,href:a,target:"_blank",trusted:!0},o.createElement(F.Tx,{id:"fullscreen.properties_panel.go_to_style_definition_to_edit"})))))}var aF=n(766503),aD=n(532851),aH=n(648626);let aB="frame_presets--presetHeader--TKb-G";var aV=n(969537);class aU extends _.o6{constructor(){super(...arguments),this.toggleSection=e=>{this.props.expandedFramePresetType===e&&(e=Q.EYD.NONE),(0,$.UK)().expandedFramePresetType.set(e)},this.onSelectPreset=e=>{eR.l7.user("select-frame-preset",()=>{let t=`${e.name} -`;Q.glU.createFrame(t,e.width,e.height),this.props.dispatch(D.sx({name:"Frame Size Preset Chosen",params:{method:"Frame Tool Preset List",deviceName:e.name}})),Q.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){return o.createElement(b.p,{name:"frame_presets"},o.createElement("div",null,o.createElement(eK.fI,null,o.createElement(eK.xw,null,o.createElement(F.Tx,{id:"proto.frame_preset_panel.frame"}))),o.createElement(aZ,{name:(0,F.t)("proto.frame_preset_panel.phone"),expanded:this.props.expandedFramePresetType===Q.EYD.PHONE,onMouseDown:this.toggleSection.bind(this,Q.EYD.PHONE),recordingKey:_.Pt(this.props,"phoneToggle")}),this.props.expandedFramePresetType===Q.EYD.PHONE&&o.createElement(aG,{framePresets:aH.sE.phonePresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"phoneRows")}),o.createElement(aZ,{name:(0,F.t)("proto.frame_preset_panel.tablet"),expanded:this.props.expandedFramePresetType===Q.EYD.TABLET,onMouseDown:this.toggleSection.bind(this,Q.EYD.TABLET),recordingKey:_.Pt(this.props,"framePresetPanel","tabletToggle")}),this.props.expandedFramePresetType===Q.EYD.TABLET&&o.createElement(aG,{framePresets:aH.sE.tabletPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"tabletRows")}),o.createElement(aZ,{name:(0,F.t)("proto.frame_preset_panel.desktop"),expanded:this.props.expandedFramePresetType===Q.EYD.DESKTOP,onMouseDown:this.toggleSection.bind(this,Q.EYD.DESKTOP),recordingKey:_.Pt(this.props,"desktopToggle")}),this.props.expandedFramePresetType===Q.EYD.DESKTOP&&o.createElement(aG,{framePresets:aH.sE.desktopPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"desktopRows")}),o.createElement(aZ,{name:(0,F.t)("proto.frame_preset_panel.presentation"),expanded:this.props.expandedFramePresetType===Q.EYD.PRESENTATION,onMouseDown:this.toggleSection.bind(this,Q.EYD.PRESENTATION),recordingKey:_.Pt(this.props,"presentationToggle")}),this.props.expandedFramePresetType===Q.EYD.PRESENTATION&&o.createElement(aG,{framePresets:aH.sE.presentationPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"presentationRows")}),o.createElement(aZ,{name:(0,F.t)("proto.frame_preset_panel.watch"),expanded:this.props.expandedFramePresetType===Q.EYD.WATCH,onMouseDown:this.toggleSection.bind(this,Q.EYD.WATCH),recordingKey:_.Pt(this.props,"watchToggle")}),this.props.expandedFramePresetType===Q.EYD.WATCH&&o.createElement(aG,{framePresets:aH.sE.watchPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"watchRows")}),o.createElement(aZ,{name:(0,F.t)("proto.frame_preset_panel.paper"),expanded:this.props.expandedFramePresetType===Q.EYD.PAPER,onMouseDown:this.toggleSection.bind(this,Q.EYD.PAPER),recordingKey:_.Pt(this.props,"paperToggle")}),this.props.expandedFramePresetType===Q.EYD.PAPER&&o.createElement(aG,{framePresets:aH.sE.paperPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"paperRows")}),o.createElement(aZ,{name:(0,F.t)("proto.frame_preset_panel.social_media"),expanded:this.props.expandedFramePresetType===Q.EYD.SOCIALMEDIA,onMouseDown:this.toggleSection.bind(this,Q.EYD.SOCIALMEDIA),recordingKey:_.Pt(this.props,"socialMediaToggle")}),this.props.expandedFramePresetType===Q.EYD.SOCIALMEDIA&&o.createElement(aG,{framePresets:aH.sE.socialMediaPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"socialMediaRows")}),o.createElement(aZ,{name:(0,F.t)("proto.frame_preset_panel.figma_community"),expanded:this.props.expandedFramePresetType===Q.EYD.FIGMA,onMouseDown:this.toggleSection.bind(this,Q.EYD.FIGMA),recordingKey:_.Pt(this.props,"figmaToggle")}),this.props.expandedFramePresetType===Q.EYD.FIGMA&&o.createElement(aG,{framePresets:aH.sE.figmaPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"figmaRows")}),o.createElement(aZ,{name:(0,F.t)("proto.frame_preset_panel.archive"),expanded:this.props.expandedFramePresetType===Q.EYD.ARCHIVE,onMouseDown:this.toggleSection.bind(this,Q.EYD.ARCHIVE),recordingKey:_.Pt(this.props,"archiveToggle")}),this.props.expandedFramePresetType===Q.EYD.ARCHIVE&&o.createElement(aG,{framePresets:aH.sE.archivedPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"archiveRows")})))}}aU.displayName="FramePresetPanel";class aZ extends _.o6{render(){return o.createElement(b.p,{name:"frame_preset_header_panel"},o.createElement(eK.Zk,{onMouseDown:this.props.onMouseDown,recordingKey:this.props.recordingKey,className:this.props.expanded?"frame_presets--presetHeaderExpanded--Qjd4B frame_presets--presetHeader--TKb-G":aB},o.createElement(eK.fI,{className:aB},o.createElement("div",{className:"frame_presets--caretAndName---NO1X"},o.createElement(M.B,{className:this.props.expanded?"frame_presets--caretDown--fFNWX frame_presets--caret--UJlom":"frame_presets--caret--UJlom",svg:this.props.expanded?n7.A:n2.A}),o.createElement("div",{className:"frame_presets--name--54TF2"},this.props.name)))))}}aZ.displayName="FramePresetHeader";class aG extends _.o6{constructor(){super(...arguments),this.onSelectPreset=e=>this.props.onSelectPreset(e)}render(){return o.createElement(b.p,{name:"frame_presets_list_panel"},o.createElement(eK.Zk,{className:"frame_presets--presetList--ayuEn"},this.props.framePresets.map(e=>o.createElement(eK.fI,{className:"frame_presets--presetRow--xaZa5",key:e.name,onMouseDown:this.onSelectPreset.bind(this,e),recordingKey:_.Pt(this.props,e.name)},o.createElement("div",{className:"frame_presets--presetName--q2eD4"},e.i18nName()),o.createElement("div",{className:"frame_presets--presetDimensions--ebk8Q"},e.width,"\u200A\xd7\u200A",e.height," ")))))}}aG.displayName="FramePresetList";class aY extends _.o6{constructor(){super(...arguments),this.state={focusedPreset:void 0},this.formatter={format:e=>e===Q.V$M.FRAME?(0,F.t)("viewer.options_menu.frame"):e===Q.V$M.GROUP?(0,F.t)("viewer.options_menu.group"):e===Q.V$M.SECTION?(0,F.t)("viewer.options_menu.section"):e,isEqual:(e,t)=>e===t},this.onChange=e=>{if("number"==typeof e)e===Q.V$M.SECTION&&this.changeSelectionToSection(),e===Q.V$M.FRAME&&this.getFrameOrGroupOrSectionOrMixed()===Q.V$M.SECTION&&this.changeSelectionSectionToFrame(),this.changeSelectionToFrameOrGroup(e);else{let t=aH.EZ[e];this.setPreset(t)}},this.changeSelectionToSection=()=>{X.Y5.triggerActionInUserEditScope("replace-selected-frame-with-section")},this.changeSelectionSectionToFrame=()=>{X.Y5.triggerActionInUserEditScope("replace-selected-section-with-frame")},this.changeSelectionToFrameOrGroup=e=>{eR.l7.user("change-selection-to-frame-or-group",()=>{Q.glU.changeSelectionToFrameOrGroup(e),Q.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})},this.setPreset=e=>{this.props.dispatch(D.sx({name:"Frame Size Preset Chosen",params:{method:"Transform Panel",deviceName:e.name}})),eR.l7.user("set-frame-preset",()=>{Q.glU.makeSelectedFramesManuallySized(),X.Y5.updateSelectionProperties({width:e.width,height:e.height}),Q.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})},this.getFrameOrGroupOrSectionOrMixed=()=>(0,J.hS)(this.props.resizeToFit)?this.props.resizeToFit?Q.V$M.GROUP:this.props.isSection?Q.V$M.SECTION:Q.V$M.FRAME:J.oV,this.onFocus=e=>{this.setState({focusedPreset:e})},this.renderPresetOption=(e,t)=>{var n,l;return o.createElement(an.c$,{value:e.name,key:t,recordingKey:_.Pt(this.props,e.name),focused:!((null==(n=this.state.focusedPreset)?void 0:n.name)!==e.name)},o.createElement(aW,{framePreset:e,focused:!((null==(l=this.state.focusedPreset)?void 0:l.name)!==e.name)}))}}render(){let e=[],t=this.getFrameOrGroupOrSectionOrMixed(),n=(0,J.hS)(this.props.width)&&(0,J.hS)(this.props.height)?(0,aH.fS)({width:this.props.width,height:this.props.height}):null;(0,J.hS)(t)&&e.push(t),n&&e.push(n.name),0===e.length&&e.push(J.oV);let l=e[0],r=this.props.isWidget,a=!this.props.isSection,i=!this.props.isOrInInstance;return o.createElement(tc.E,{name:"frame_preset_select"},o.createElement(an.l6,{icon:this.props.leftIcon,className:this.props.selectClassName,inputClassName:this.props.inputClassName,chevronClassName:"frame_presets--framePresetDropdownChevron--0rJxs",id:this.props.id,property:l,multipleSelections:e,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:"frame_presets--presetDropdown----7Sd",recordingKey:_.Pt(this.props,"select"),onOptionFocus:this.onFocus,disabled:r},o.createElement(an.c$,{value:Q.V$M.SECTION,recordingKey:_.Pt(this.props,"SECTION"),disabled:!this.props.canBecomeSection}),o.createElement(an.c$,{value:Q.V$M.FRAME,recordingKey:_.Pt(this.props,"FRAME"),disabled:!i||!this.props.canBecomeFrame}),o.createElement(an.c$,{value:Q.V$M.GROUP,recordingKey:_.Pt(this.props,"GROUP"),disabled:!this.props.canBecomeGroup}),a&&o.createElement(an.sK,null),a&&aH.sE.phonePresets.map(this.renderPresetOption),a&&o.createElement(an.sK,null),a&&aH.sE.tabletPresets.map(this.renderPresetOption),a&&o.createElement(an.sK,null),a&&aH.sE.desktopPresets.map(this.renderPresetOption),a&&o.createElement(an.sK,null),a&&aH.sE.presentationPresets.map(this.renderPresetOption),a&&o.createElement(an.sK,null),a&&aH.sE.watchPresets.map(this.renderPresetOption),a&&o.createElement(an.sK,null),a&&aH.sE.paperPresets.map(this.renderPresetOption),a&&o.createElement(an.sK,null),a&&aH.sE.socialMediaPresets.map(this.renderPresetOption),a&&o.createElement(an.sK,null),a&&aH.sE.figmaPresets.map(this.renderPresetOption),a&&o.createElement(an.sK,null),a&&aH.sE.archivedPresets.map(this.renderPresetOption)))}}function az(e){return o.createElement("span",{className:e.className},o.createElement(tE.K0,{onClick:()=>{X.Y5.triggerActionInUserEditScope("resize-to-fit")},recordingKey:e.recordingKey,dataTestId:"resize-to-fit-button","data-tooltip-type":ey.Ib.LOOKUP,"data-tooltip":"resize-to-fit"},o.createElement(eg.U,{svg:aV.A},o.createElement(aF.F,null))))}function aW({focused:e,framePreset:t}){let[n,l]=o.useState(!1);return o.createElement("div",{className:e?"frame_presets--presetOptionFocused--xoc2A":"frame_presets--presetOption--FUHPW"},o.createElement(aD.ph,{text:t.i18nName(),className:"frame_presets--frameName--LztZn",onTruncationChange:e=>{n!==e&&l(e)}}),o.createElement("span",{className:n?"frame_presets--frameDimensions--EoK8C":""},t.width,"\u200A\xd7\u200A",t.height))}aY.displayName="FramePresetDropdown";var aX=n(996582),aQ=n(517868),a$=n(208529),aj=n(985850);let aq=o.forwardRef(function({instanceDescription:e,containingStateGroupLinks:t,containingStateGroupDescription:n,isDescriptionPaneOpen:l,onOpenDescriptionPane:r},a){let i=(0,ek.yr)(),s=o.useMemo(()=>{var l,r,a;return e?(0,eS.A)(e):(null==(l=null==i?void 0:i[0])?void 0:l.uri)?null==(r=null==i?void 0:i[0])?void 0:r.uri:n?(0,eS.A)(n):(null==(a=null==t?void 0:t[0])?void 0:a.uri)??void 0},[e,i,t,n]),c=o.useRef(null),d=eT({ref:c,text:s}),p=o.useCallback(()=>r(!0),[r]),u=o.useMemo(()=>{let r=!!((null==i?void 0:i.length)||(null==t?void 0:t.length)),a=!!(e&&n);return!l&&(d||a||r)},[n,null==t?void 0:t.length,e,l,null==i?void 0:i.length,d]);return null==s?null:o.createElement("div",{className:"instance_description_preview--wrapper--YGSF3 text--fontPos11--2LvXf text--_fontBase--QdLsd",ref:a},o.createElement("div",{className:"instance_description_preview--description--726Xi ellipsis--ellipsis--Tjyfa",ref:c},s),u&&o.createElement("div",{className:"instance_description_preview--showMore--7-DPO",onClick:p,role:"button",tabIndex:0},o.createElement(F.Tx,{id:"design_systems.instance_panel.show_more"})))});var aJ=n(687881);function a0(e){let t=(0,ec.d4)(eM.Lg),{nestedInstances:n}=(0,aj.p)(e);return t&&!n.length?void 0:tp.NA.INSTANCE_SWAP_PICKER}let a5=o.memo(function(e){let{resettableInstanceOverridesMap:t}=e,n=(0,ec.d4)(e=>e.pickerShown),l=(0,ec.d4)(eM.cv),r=(0,ec.d4)(eO.qd),a=(0,ec.d4)(eO.dT),i=(0,ec.d4)(tm.Z3),s=(0,ec.wA)(),{backingSymbolGUID:c,singleBackingStateGroup:d}=(0,a$.$)(a),p=(0,tS.Rt)(),{onlyInstances:u,onlyInstanceSublayers:m}=(0,aj.p)(a),h=o.useRef(null),g=o.useMemo(()=>(null==d?void 0:d.symbolLinks)??[],[d]),E=o.useCallback(e=>{if(e){let e=es.findDOMNode(h.current),t=(0,ef.cn)(e,320);s(D.u1({id:ej,initialX:t.x,initialY:t.y})),s(B.sw()),s(D.Uv())}else s(D.XE())},[s]),y=a0(a);return u||m?o.createElement(eK.Zk,{className:aJ.Mx},!p&&o.createElement(tp.iN,{resettableInstanceOverrides:null==t?void 0:t.selectionOverrides,instanceAndSublayerGUIDs:a,instanceNameDisplayOverride:y,recordingKey:e.recordingKey}),p&&o.createElement(a1,{recordingKey:_.Pt(e,"restore")}),(()=>{let e=(null==n?void 0:n.id)===ej,t=(0,J._W)(l,""),r=c&&(0,J.hS)(c)?(null==d?void 0:d.description)??"":void 0;return o.createElement(o.Fragment,null,e?o.createElement(to,{containingStateGroupLinks:g,containingStateGroupDescription:r,description:t}):null,o.createElement(aq,{instanceDescription:t,containingStateGroupDescription:r,containingStateGroupLinks:g,onOpenDescriptionPane:E,isDescriptionPaneOpen:e,ref:h}))})(),!p&&o.createElement(a1,{recordingKey:_.Pt(e,"restore")}),u&&o.createElement("div",{className:aJ.Og},o.createElement(tu.e6,{containerWidth:p?e6.O2.RESIZABLE_SIDEBAR:e6.O2.REGULAR,propDimension:e6.OE.ASSIGNMENT,guids:r,recordingKey:e.recordingKey,errorBoxFlushWithContainer:!0,enableHidingOverflowRowsInUI3:p})),i.map(n=>o.createElement("div",{key:`bubbledInstance.${n[0]}`,className:aJ.Wf},o.createElement(tu.ME,{containerWidth:p?e6.O2.RESIZABLE_SIDEBAR:e6.O2.REGULAR,propDimension:e6.OE.ASSIGNMENT,guids:n,hideErrors:!0,resettableInstanceOverrides:t&&t.bubbledInstanceOverrides?t.bubbledInstanceOverrides[n[0]]:void 0,instanceAndSublayerGUIDs:n,instanceNameDisplayOverride:tp.NA.NAME_ONLY,shouldHideInstanceTitleButtons:!0,recordingKey:e.recordingKey,forBubbledProps:!0,highlightNodesOnHover:!0,errorBoxFlushWithContainer:!0})))):p?o.createElement(eK.Zk,{className:aJ.Mx}):null});function a1({recordingKey:e}){let{sceneGraphSelection:t,library:n}=(0,ts.R)(e=>({sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library})),l=(0,ec.d4)(eO.dT),{affiliatedStateGroup:r,singleBackingSymbol:a,restoreType:i,stateResetType:s}=(0,a$.$)(l),c=(0,ec.d4)(rz.lm),d=(0,ec.d4)(nB.sS),p=(0,ec.wA)(),u=(0,tS.Rt)();if("STATE_GROUP"===i||"SYMBOL_AS_NON_STATE"===i){let t=u?tf.z:e5.nR,n=o.createElement(t,{className:aJ.Kg,onClick:function(){X.Y5.triggerActionInUserEditScope("restore-symbol-or-state-group")},recordingKey:_.Pt(e,"restoreComponentButton")},o.createElement(F.Tx,{id:"design_systems.instance_panel.restore_component"}));return u?n:o.createElement(eK.fI,{className:aJ.Ki},n)}return"DELETED_LOCAL_STATE"===s||"DELETED_SUBSCRIBED_STATE"===s?o.createElement(aQ.aV,{title:"Missing variant"},o.createElement("div",{className:aJ.AQ},o.createElement(F.Tx,{id:"design_systems.instance_panel.the_selected_variant_is_missing_in_the_component"})),o.createElement("div",{className:aJ.ns},o.createElement(e5.nR,{className:aJ.cZ,onClick:function(){let e;if(d){if("DELETED_SUBSCRIBED_STATE"===s){let t=null==a?void 0:a.componentKey;if(!t)return;e=c.get(t)}else if("DELETED_LOCAL_STATE"===s){let t=null==r?void 0:r.guid;if(!t)return;e=n.local.stateGroups[t]}eR.l7.user("reset-variant",()=>{e&&(0,aX.V4)(e,p,d,t,"Reset Variant Button",!1)})}},recordingKey:_.Pt(e,"resetVariantButton")},o.createElement(F.Tx,{id:"design_systems.instance_panel.reset_to_default"})))):null}var a7=n(535904),a2=n(668e3);function a4(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.5 6.5h-.6c-.84 0-1.26 0-1.58.163a1.5 1.5 0 0 0-.656.656c-.164.32-.164.74-.164 1.581v.6m8-3h.6c.84 0 1.26 0 1.581.163a1.5 1.5 0 0 1 .655.656c.164.32.164.74.164 1.581v.6m-3 8h.6c.84 0 1.26 0 1.581-.163a1.5 1.5 0 0 0 .655-.656c.164-.32.164-.74.164-1.581v-.6m-8 3h-.6c-.84 0-1.26 0-1.581-.163a1.5 1.5 0 0 1-.656-.656c-.163-.32-.163-.74-.163-1.581v-.6"}))}var a3=n(420529),a6=n(833019),a8=n(233392),a9=n(526912),ie=n(812386),it=n(445978);function il(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 6.5a.5.5 0 0 0-1 0v11a.5.5 0 0 0 1 0v-11ZM6 9.104a.75.75 0 0 1 1.28-.53L10 11.292a1 1 0 0 1 0 1.414l-2.72 2.72a.75.75 0 0 1-1.28-.53V9.103Zm1 .603v4.586L9.293 12 7 9.707Zm11-.603a.75.75 0 0 0-1.28-.53L14 11.292a1 1 0 0 0 0 1.414l2.72 2.72a.75.75 0 0 0 1.28-.53V9.103Zm-1 .603v4.586L14.707 12 17 9.707Z",clipRule:"evenodd"}))}function ir(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.5 12.5a.5.5 0 0 0 0-1h-11a.5.5 0 0 0 0 1h11ZM14.896 18a.75.75 0 0 0 .53-1.28L12.708 14a1 1 0 0 0-1.414 0l-2.72 2.72a.75.75 0 0 0 .53 1.28h5.793Zm-.603-1H9.707L12 14.707 14.293 17Zm.603-11a.75.75 0 0 1 .53 1.28L12.708 10a1 1 0 0 1-1.414 0l-2.72-2.72A.75.75 0 0 1 9.103 6h5.793Zm-.603 1H9.707L12 9.293 14.293 7Z",clipRule:"evenodd"}))}var ia=n(993167),ii=n(661217),io=n(64813),is=n(22583),ic=n(45734),id=n(318426),ip=n(619008),iu=n(781779);let im="corner_smoothing--cornerSmoothingInput--diqdz";function ih({initialPosition:e,recordingKey:t,onClose:n}){return o.createElement(e8.vx,{title:(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),initialPosition:e,headerSize:"small",onClose:n,recordingKey:_.Pt(t,"modal")},o.createElement(eK.Id,null,o.createElement("div",{className:"corner_smoothing--modalControl--AXovi"},o.createElement(ig,{recordingKey:t}))))}function ig(e){let{version:t}=(0,em.DP)();return o.createElement("ui3"===t?i_:iE,{...e})}function iE(e){let t=(0,is.DP)(),n=(0,id.Xc)(),l=(0,lK.kl)("cornerSmoothing"),r=(0,is.yM)(),a=o.useCallback((e,t)=>{iy(e.x,t)},[]),i=o.useCallback(e=>{let t=(0,ip.W)(e);iy((0,g.qE)((0,J._W)(l,0)+t/100,0,1),!0)},[l]),s=o.useCallback(e=>{let t=e.getContext("2d");t.fillStyle=(null==r?void 0:r.colorBgSecondary)||iu.z8Z,t.fillRect(0,0,c+n,n)},[null==r?void 0:r.colorBgSecondary,n]),c=138,d=new N.Mi((0,J._W)(l,0),0),p=new io.LN;return o.createElement("div",{className:"corner_smoothing--root--tqWdN"},o.createElement(id.Kf,{hitBoxMargin:8,width:c,height:0,handlePadding:!0,value:d,mouseCallback:a,wheelCallback:at.lQ,keyDownCallback:i,renderCanvas:s,containerClass:"corner_smoothing--sliderContainer--0-rJy",canvasWrapperStyles:"dark"===t?{border:"1px solid var(--color-conditionalborder)"}:{}},o.createElement("div",{className:"corner_smoothing--sliderAnnotationStroke--n6UqC",style:{position:"absolute",width:0,height:18,left:.6*c+.5*n,top:0,borderLeftWidth:1}},o.createElement(eK.UZ,{style:{position:"relative",left:-8,top:20},onClick:()=>{iy(.6,!0)}},o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.i_os"})))),o.createElement(r7.Q7,{recordingKey:_.Pt(e,"modal"),className:im,formatter:p,property:d.x,onChange:e=>{iy(e,!0)}}))}function i_({recordingKey:e}){let t=(0,o.useMemo)(()=>new io.LN,[]),n=(0,J._W)((0,lK.kl)("cornerSmoothing"),0);return o.createElement("div",{className:"corner_smoothing--rootUi3--4yJI2"},o.createElement("div",{className:"corner_smoothing--sliderWrapperUi3--k4Z-O"},o.createElement(ii.A,{"aria-label":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),value:n,onChange:(e,{commit:t})=>iy(e,t),min:0,max:1,step:.01,bigStep:.1,defaultValue:0,rangeAnchor:0,hints:[.6],recordingKey:_.Pt(e,"slider")})),o.createElement(r7.Q7,{recordingKey:_.Pt(e,"modal"),className:im,formatter:t,property:n,onChange:e=>void iy(e,!0)}),o.createElement("div",{className:"corner_smoothing--labelWrapperUi3--Kt9lC"},o.createElement(eK.UZ,{className:"corner_smoothing--labelUi3--fPeZB",onClick:()=>{iy(.6,!0)}},o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.i_os"}))))}function iy(e,t){e=Math.round(100*e)/100,X.Y5.updateSelectionProperties({cornerSmoothing:e},{shouldCommit:t?ic.zk.YES:ic.zk.NO})}var iv=n(691039),ib=n(728314),iS=n(229351),iw=n(736002),iT=((r=iT||{})[r.TOP_LEFT=0]="TOP_LEFT",r[r.BOTTOM_LEFT=1]="BOTTOM_LEFT",r[r.TOP_RIGHT=2]="TOP_RIGHT",r[r.BOTTOM_RIGHT=3]="BOTTOM_RIGHT",r);let iP={0:{svg:iS.A,variableField:"RECTANGLE_TOP_LEFT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.top_left_corner_radius")},2:{svg:iw.A,variableField:"RECTANGLE_TOP_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.top_right_corner_radius")},1:{svg:iv.A,variableField:"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.bottom_left_corner_radius")},3:{svg:ib.A,variableField:"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.bottom_right_corner_radius")}};function iC(e){return iP[e].variableField}var ik=n(92158),iI=n(113394),iN=n(51431),iA=n(723171),iR=n(533173),iO=n(484214),iM=n(453015),ix=n(201245);let iL="independent_corner_radius_view--inputRow--WrZ2t";function iK({topLeftValue:e,topRightValue:t,bottomLeftValue:n,bottomRightValue:l,recordingKey:r,onTopLeftChange:a,onTopRightChange:i,onBottomLeftChange:s,onBottomRightChange:c}){let d=o.useMemo(()=>[iC(iT.TOP_LEFT)],[]),p=o.useMemo(()=>[iC(iT.TOP_RIGHT)],[]),u=o.useMemo(()=>[iC(iT.BOTTOM_LEFT)],[]),m=o.useMemo(()=>[iC(iT.BOTTOM_RIGHT)],[]),h=(0,lN.SG)(d).data??[],g=(0,lN.SG)(p).data??[],E=(0,lN.SG)(u).data??[],y=(0,lN.SG)(m).data??[],f=o.useRef(null),v=o.useRef(null),b=o.useRef(null),S=o.useRef(null),[w,T]=o.useState(null),P=o.useCallback((e,t)=>{t&&T({corner:e,initialPosition:(0,ef.VZ)(t,iO.d9)})},[]),C=o.useCallback(()=>{T(null)},[]);function k(r){switch(r){case iT.TOP_LEFT:return{value:e,variableFields:d,variablesForField:h,inputRef:f,onChange:a};case iT.TOP_RIGHT:return{value:t,variableFields:p,variablesForField:g,inputRef:v,onChange:i};case iT.BOTTOM_LEFT:return{value:n,variableFields:u,variablesForField:E,inputRef:b,onChange:s};case iT.BOTTOM_RIGHT:return{value:l,variableFields:m,variablesForField:y,inputRef:S,onChange:c}}}function I({corner:e,recordingKey:t}){return o.createElement(iD,{variableFields:k(e).variableFields,isPickerOpen:(null==w?void 0:w.corner)===e,onPickerOpen:()=>P(e,k(e).inputRef.current)},o.createElement(iF,{ref:k(e).inputRef,value:k(e).value,variableFields:k(e).variableFields,svg:iP[e].svg,tooltip:iP[e].getTooltip(),disableEntryPoint:0===k(e).variablesForField.length,recordingKey:t,onChange:k(e).onChange}))}return o.createElement("div",null,o.createElement(o.Fragment,null,o.createElement("div",{className:iL},I({corner:iT.TOP_LEFT,recordingKey:_.Pt(r,"rectangleTopLeftCornerRadiusInput")}),I({corner:iT.TOP_RIGHT,recordingKey:_.Pt(r,"rectangleTopRightCornerRadiusInput")})),o.createElement("div",{className:iL},I({corner:iT.BOTTOM_LEFT,recordingKey:_.Pt(r,"rectangleBottomLeftCornerRadiusInput")}),I({corner:iT.BOTTOM_RIGHT,recordingKey:_.Pt(r,"rectangleBottomRightCornerRadiusInput")}))),function(){if(!w)return null;let{corner:e,initialPosition:t}=w,n=(0,J._W)(k(e).value,0);return o.createElement(iH,{corner:e,initialPosition:t,currentFieldValue:n,variableFields:k(e).variableFields,onClose:C})}())}let iF=o.forwardRef(({variableFields:e,value:t,svg:n,tooltip:l,recordingKey:r,disableEntryPoint:a,onChange:i},s)=>{let c=(0,ec.wA)(),{smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:u,scrubMultiplier:m}=(0,ix.Xs)(),{consumedVariable:h}=(0,rU.u3)(e),g=o.useId();return o.createElement(iI.sJ,{ref:s,currentFieldValue:(0,J._W)(t,0),disableEntryPoint:a},o.createElement(rV.$j,{dispatch:c,value:(0,J.gl)(t)?t:t??0,inputClassName:"independent_corner_radius_view--input--c5KCB raw_components--flushLeft--YH-5P",smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:u,scrubMultiplier:.1*m,noBorderOnHover:!0,isTokenizable:!0,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":l,"data-tooltip-proxy-element-id":h?g:void 0,recordingKey:r,onValueChange:i},o.createElement(M.B,{className:"independent_corner_radius_view--inputIcon--9Djlr transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO raw_components--iconInsideBorderFocusWithin--2g7fO",svg:n,"data-tooltip-type":h?ey.Ib.TEXT:void 0,"data-tooltip":h?l:void 0,id:g})))});function iD({variableFields:e,isPickerOpen:t,onPickerOpen:n,children:l}){let{consumedVariable:r}=(0,rU.u3)(e),a=(0,iR.MH)(r),i=(0,lN.u)(a??void 0),s=!!i&&(0,iR.eF)(i),[c,d,p]=(0,iN.JV)(e,Q.rXF.FLOAT);return o.createElement(iA.p.Provider,{value:{boundVariableId:a,isBoundVariableDeleted:s,isShowingBindingUI:t,showBindingUI:n,onVariableSelected:p}},l)}function iH({corner:e,initialPosition:t,currentFieldValue:n,variableFields:l,onClose:r}){let a=(0,ec.wA)(),{updateVariableConsumption:i}=(0,rU.u3)(l),s=o.useCallback(e=>{a((0,ik.Yi)({item:e,callback:e=>{i((0,rU.y$)(Q.rXF.FLOAT,e))}}))},[a,i]);return o.createElement(o.Fragment,null,o.createElement(iN.jp,{fields:[iC(e)],resolvedType:Q.rXF.FLOAT,initialPosition:t,currentFieldValue:n,onVariableSelected:s,onClose:r}),o.createElement(iM.$3,{onClose:r}))}let iB="240px";function iV(e){let t=function(){let e=(0,ts.R)(e=>{let t=e.mirror.selectionProperties;return{angle:t.angle,hasReflection:t.hasReflection,topLeft:t.rectangleTopLeftCornerRadius,topRight:t.rectangleTopRightCornerRadius,bottomRight:t.rectangleBottomRightCornerRadius,bottomLeft:t.rectangleBottomLeftCornerRadius}});return(0,o.useCallback)(t=>{let n=[{corner:0,value:e.topLeft,key:"rectangleTopLeftCornerRadius"},{corner:1,value:e.bottomLeft,key:"rectangleBottomLeftCornerRadius"},{corner:3,value:e.bottomRight,key:"rectangleBottomRightCornerRadius"},{corner:2,value:e.topRight,key:"rectangleTopRightCornerRadius"}],l=n.findIndex(({corner:e})=>e===t);e.hasReflection&&(l+=2),null!=e.angle&&(0,J.hS)(e.angle)&&(Math.abs(e.angle)>=135?l+=2:e.angle>=45?l+=3:e.angle<=-45&&(l+=1));let r=n[l%4];return{value:r.value,setter:(e,t=ic.zk.YES)=>{X.Y5.updateSelectionProperties({[r.key]:e},{shouldCommit:t})}}},[e])}();return o.createElement(k,{name:"independent_corner_radius_modal"},o.createElement(e8.vx,{title:(0,F.t)("fullscreen.properties_panel.transform_panel.corner_radius"),initialPosition:e.initialPosition,headerSize:"small",onClose:e.onClose,recordingKey:_.Pt(e,"modal")},o.createElement("div",{className:"independent_corner_radius_modal--cornerRadiusContent--DPDSk"},o.createElement("div",{className:"independent_corner_radius_modal--cornerRadiusModalContent--sopW9"},o.createElement(iK,{topLeftValue:t(iT.TOP_LEFT).value,topRightValue:t(iT.TOP_RIGHT).value,bottomLeftValue:t(iT.BOTTOM_LEFT).value,bottomRightValue:t(iT.BOTTOM_RIGHT).value,recordingKey:_.Pt(e,"independentCornerRadius"),onTopLeftChange:t(iT.TOP_LEFT).setter,onTopRightChange:t(iT.TOP_RIGHT).setter,onBottomLeftChange:t(iT.BOTTOM_LEFT).setter,onBottomRightChange:t(iT.BOTTOM_RIGHT).setter})),o.createElement(eK.Zk,{className:"independent_corner_radius_modal--cornerSmoothingPanel--fUaKb independent_corner_radius_modal--cornerRadiusModalContent--sopW9"},o.createElement(eK.xw,{className:"independent_corner_radius_modal--cornerSmoothingTitle--WTrG6"},(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing")),o.createElement("div",{className:"independent_corner_radius_modal--cornerSmoothingContainer--DTnrk"},o.createElement(ig,{recordingKey:_.Pt(e,"advanced")}))))))}function iU(e){let{controls:t}=e;return o.createElement("div",{className:"segmented_button--root--BlK0T"},t.map((t,n)=>{let{children:l,...r}=t;return o.createElement(tE.K0,{...r,key:n,className:"segmented_button--button--HF0rV",recordingKey:_.Pt(e,r.recordingKey||"")},o.createElement("span",null,l))}))}var iZ=n(614851),iG=n(595869);let iY=["CORNER_RADIUS"],iz=["RECTANGLE_TOP_LEFT_CORNER_RADIUS","RECTANGLE_TOP_RIGHT_CORNER_RADIUS","RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS","RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"];function iW(e){var t;let n=(0,o.useId)(),l=o.useRef(null),{smallNudgeAmount:r,bigNudgeAmount:a,wheelMultiplier:i}=(0,ix.Xs)(),s=(0,ec.wA)(),[c,d]=(0,lK.lJ)("cornerRadius"),{consumedVariable:p,clearVariableConsumption:u}=(0,rU.u3)(iY),{consumedVariable:m,clearVariableConsumption:h}=(0,rU.u3)(iz),g=(0,iR.MH)(p)??(0,iR.MH)(m),E=(0,lN.u)(g??void 0),y=!!E&&(0,iR.eF)(E),[f,v,b]=(0,iN.JV)(iY,Q.rXF.FLOAT),S=(0,eN.Vq)(c)&&(0,J.hS)(c)?c:void 0,w=0===((null==(t=(0,lN.SG)(iY))?void 0:t.data)??[]).length,T=o.useCallback(()=>{u(),h()},[u,h]),P=o.useCallback(e=>{e?b(e):T()},[b,T]),C=o.useCallback(()=>{l.current&&v(l.current,{currentFieldValue:S})},[v,S]),k=o.useMemo(()=>({isShowingBindingUI:f,showBindingUI:C,boundVariableId:g,isBoundVariableDeleted:y,onVariableSelected:P}),[f,C,g,y,P]),I=(0,F.t)("fullscreen.properties_panel.transform_panel.corner_radius");return o.createElement(tc.E,{name:"corner_radius_input"},o.createElement(iA.p.Provider,{value:k},o.createElement(iI.sJ,{ref:l,inputClassName:e.inputClassName,currentFieldValue:S,disabled:e.disabled,disableEntryPoint:w,recordingKey:_.Pt(e,"cornerRadiusInputVariableWrapper")},o.createElement(rV.$j,{noBorderOnHover:!0,isTokenizable:!0,inputClassName:iZ.hF,value:c,smallNudgeAmount:r,bigNudgeAmount:a,wheelMultiplier:i,onValueChange:e=>{(0,ix.rn)("cornerRadius"),d(e)},dispatch:s,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":I,"data-tooltip-proxy-element-id":E?n:void 0,recordingKey:_.Pt(e,"cornerRadiusInput"),disabled:e.disabled,scrubMultiplier:.1*r,dataTestId:"transform-corner-radius"},o.createElement(M.B,{className:iZ.QK,svg:iG.A,"data-tooltip-type":E?ey.Ib.TEXT:void 0,"data-tooltip":E?I:void 0,id:n})))))}var iX=n(100433);function iQ(e){let[t,n]=(0,lK.lJ)("angle"),{smallNudgeAmount:l,bigNudgeAmount:r,...a}=(0,ix.KG)({key:"angle",setValue:n});return o.createElement(tc.E,{name:"rotation_input"},o.createElement(rV.Zp,{className:iZ.BP,inputClassName:iZ.hF,value:t,disabled:e.disabled,...a,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.rotation"),recordingKey:_.Pt(e,"angleInput")},o.createElement(M.B,{className:iZ.QK,svg:iX.A})))}var i$=n(362679),ij=n(13556),iq=n(502517);function iJ(e){let{version:t}=(0,em.DP)(),n=(0,a3.C)("fpl_dialog_trigger"),[l]=(0,lK.lJ)("rectangleCornerRadiiIndependent"),r=(0,o.useRef)(null),a=(0,lF.k)("corner-smoothing"),i=(0,lL.Zr)("flip-horizontal"),s=(0,lL.Zr)("flip-vertical"),c=(0,lL.Zr)("rotate-90-clockwise"),p=(0,o.useCallback)(()=>{a.hide(),X.Y5.deselectProperty()},[a]),m=e.cornerRadiusDisabled||e.rectangleCornersDisabled,[h,g]=o.useState(null),E=e.rectangleCornersShown&&!!h,y=o.useCallback(()=>{(0,u.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,J._W)(l,!1)}),!E&&r.current?g((0,ef.cn)(r.current,parseInt(iB,10))):g(null)},[l,E]);return"ui2"===t?o.createElement(o.Fragment,null,o.createElement(eK.fI,{forwardedRef:r},o.createElement(iQ,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),e.cornerRadiusShown&&o.createElement(iW,{recordingKey:e.recordingKey,inputClassName:e.angleShown?iZ.sC:iZ.BP,disabled:E||e.cornerRadiusDisabled}),e.cornerRadiusShown&&e.rectangleCornersShown&&o.createElement(o.Fragment,null,n?o.createElement("div",{className:iZ.gb},o.createElement(a7.d,{actionOnPointerDown:!0,toggled:E,disabled:m,recordingKey:_.Pt(e,"rectangleCornerToolIndependentToggle"),"aria-label":(0,F.t)("fullscreen.properties_panel.transform_panel.independent_corners"),onClick:y},o.createElement(eg.U,{svg:iq.A},o.createElement(a4,null)))):o.createElement(ia.m,{toggled:E,svg:iq.A,className:iZ.gb,onMouseDown:y,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:_.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:m})),e.cornerRadiusShown&&!e.rectangleCornersShown&&o.createElement(eK.YW,{svg:i$.A,fallbackSvg:ij.A,className:iZ.gb,onMouseDown:e=>i0(a,r,e),recordingKey:_.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:a.showing,disabled:e.cornerRadiusDisabled})),E&&h&&o.createElement(iV,{initialPosition:h,onClose:y,recordingKey:e.recordingKey}),a.showing&&o.createElement(ih,{initialPosition:a.initialPosition,onClose:p,recordingKey:_.Pt(e,"advanced")})):o.createElement(tw.fn,{ref:r,leftLabel:o.createElement(F.Tx,{id:"properties.label.transform"}),leftInput:o.createElement(iQ,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),rightInput:o.createElement(iU,{controls:[i5("rotate-90-clockwise",o.createElement(it.R,null),c),i5("flip-horizontal",o.createElement(il,null),i),i5("flip-vertical",o.createElement(ir,null),s)]}),rightLabel:null,icon:null})}function i0(e,t,n){n.stopPropagation(),(0,u.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"cornerSmoothing",value:e.showing}),e.toggle(()=>(0,ef.cn)(t.current))}let i5=(e,t,n)=>({"aria-label":e,"data-tooltip":e,"data-tooltip-type":ey.Ib.LOOKUP,children:t,disabled:!n,onClick:()=>{X.Y5.triggerActionInUserEditScope(e)}});function i1(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M13 10.5H7a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5Z"}),o.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M16.5 6a.5.5 0 0 1 .5.5V7h.5a.5.5 0 0 1 0 1H17v5h.5a.5.5 0 0 1 0 1H17v.5a.5.5 0 0 1-1 0V14h-2v-1h2V8h-5v2h-1V8h-.5a.5.5 0 0 1 0-1h.5v-.5a.5.5 0 0 1 1 0V7h5v-.5a.5.5 0 0 1 .5-.5ZM13 13h-2v-2h-1v2h-.5a.5.5 0 0 0 0 1h.5v.5a.5.5 0 0 0 1 0V14h2v-1Z",clipRule:"evenodd"}))}function i7(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M14 16.5a.5.5 0 0 0-1 0h1Zm-1.5.5a.5.5 0 0 0 0 1v-1Zm-5-6a.5.5 0 0 0 0-1v1Zm-1.5.5a.5.5 0 0 0 1 0H6Zm1 5a.5.5 0 0 0-1 0h1Zm.5 1.5a.5.5 0 0 0 0-1v1ZM6 14.5a.5.5 0 0 0 1 0H6Zm1-1a.5.5 0 0 0-1 0h1ZM9.5 17a.5.5 0 0 0 0 1v-1Zm1 1a.5.5 0 0 0 0-1v1Zm-1-8a.5.5 0 0 0 0 1v-1Zm3.5 4.5a.5.5 0 0 0 1 0h-1Zm0 2v.5h1v-.5h-1Zm0 .5h-.5v1h.5v-1Zm-5.5-7H7v1h.5v-1ZM6 11v.5h1V11H6Zm0 5.5v.5h1v-.5H6ZM7 18h.5v-1H7v1Zm0-3.5v-1H6v1h1ZM9.5 18h1v-1h-1v1Zm0-7h.5v-1h-.5v1Zm3.5 3v.5h1V14h-1Zm-7 3a1 1 0 0 0 1 1v-1H6Zm1-7a1 1 0 0 0-1 1h1v-1Zm6 7v1a1 1 0 0 0 1-1h-1Z"}),o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 6a.5.5 0 0 1 .5.5V7h.5a.5.5 0 0 1 0 1H17v5h.5a.5.5 0 0 1 0 1H17v.5a.5.5 0 0 1-1 0V14h-5v.5a.5.5 0 0 1-1 0V14h-.5a.5.5 0 0 1 0-1h.5V8h-.5a.5.5 0 0 1 0-1h.5v-.5a.5.5 0 0 1 1 0V7h5v-.5a.5.5 0 0 1 .5-.5ZM11 8v2h2a1 1 0 0 1 1 1v2h2V8h-5Zm0 3v2h2v-2h-2Z",clipRule:"evenodd"}))}class i2 extends an.c${}class i4 extends an.l6{}let i3=new class{constructor(){this.format=e=>{switch(e){case!0:return(0,F.t)("fullscreen.properties_panel.transform_panel.clip_content");case!1:return(0,F.t)("fullscreen.properties_panel.appearance_panel.show_content");default:return""}}}};function i6(e){let[t,n]=(0,lK.lJ)("frameMaskDisabled"),{version:l}=(0,em.DP)(),r=(0,o.useId)(),a=(0,ec.wA)(),i=(0,ll.U)(),s=(0,o.useCallback)(e=>{(0,u.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"clipContent",clipContentValue:e}),n(!e)},[n]);return"ui2"===l?o.createElement(eK.fI,null,o.createElement(r0.t,{className:iZ.kv,id:r,property:(0,J.gl)(t)?J.oV:!t,onChange:s,recordingKey:_.Pt(e,"clipContentCheckbox")}),o.createElement(eK.JU,{className:iZ.mH,htmlFor:r},o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.clip_content"}))):o.createElement(tw.DE,{label:o.createElement(F.Tx,{id:"fullscreen.properties_panel.appearance_panel.overflow"}),input:o.createElement(i4,{id:"clip-content-select",property:(0,J.gl)(t)?J.oV:!t,onChange:s,formatter:i3,dispatch:a,dropdownShown:i,recordingKey:_.Pt(e,"clipContent"),icon:t?o.createElement(i1,null):o.createElement(i7,null),enablePreview:!0},o.createElement(i2,{value:!0,icon:o.createElement(i7,null),recordingKey:_.Pt(e,"clipContent","true")}),o.createElement(i2,{value:!1,icon:o.createElement(i1,null),recordingKey:_.Pt(e,"clipContent","false")})),icon:null})}var i8=n(491059),i9=n(934325),oe=n(527808);function ot(e){var t,n;let l=(0,ec.wA)(),r=new N.Mi(null==(t=e.pickerShown)?void 0:t.initialX,null==(n=e.pickerShown)?void 0:n.initialY),a=(0,ec.d4)(e=>e.dropdownShown);return o.createElement(e8.vx,{title:(0,F.t)("fullscreen.properties_panel.constraints_panel.constraints"),initialPosition:r,headerSize:"small",onClose:()=>{l(D.XE())}},o.createElement(eK.Id,null,o.createElement(af,{...e,dropdownShown:a})))}var on=n(505838),ol=n(537545),or=n(64111);class oa extends on.I{}class oi extends on.Y{}class oo extends o.PureComponent{constructor(){super(...arguments),this.getProperty=()=>(0,J.hS)(this.props.width)&&(0,J.hS)(this.props.height)?this.props.width>this.props.height?"LANDSCAPE":"PORTRAIT":J.oV,this.onChange=e=>{this.getProperty()!==e&&eR.l7.user("toggle-frame-orientation",()=>{X.Y5.triggerAction("toggle-frame-orientation"),Q.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){let e=this.getProperty(),t=!(0,J.hS)(this.props.resizeToFit)||this.props.resizeToFit;return o.createElement(oa,{className:"orientation_control--orientationControl--JG3io",disabled:t,property:e,onChange:this.onChange,recordingKey:this.props.recordingKey},o.createElement(oi,{value:"PORTRAIT",svg:or.A,tooltip:(0,F.t)("fullscreen.properties_panel.orientation.portrait")}),o.createElement(oi,{value:"LANDSCAPE",svg:ol.A,tooltip:(0,F.t)("fullscreen.properties_panel.orientation.landscape")}))}}oo.displayName="OrientationControl";var os=n(617617),oc=n(669136),od=n(270023),op=n(730447),ou=n(766530),om=n(995225),oh=n(66673),og=n(385076),oE=n(742900),o_=n(682555),oy=n(611730),of=n(552789),ov=n(723472),ob=n(105752),oS=n(445889),ow=n(190152),oT=n(507245);function oP(e){let t=(0,ec.wA)(),n=(0,ll.U)(),l=(0,ec.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions),r=(0,e9.Tv)(),a=!1;e.axis===Q._0v.Y&&r&&function(e){let t=new Set([]);for(let n of e){let l=oE.qo.instance.get(n);if(l&&l.parentGuid&&!t.has(l.parentGuid)&&(t.add(l.parentGuid),function(e,t){let n=e.parentNode,l=!1,r=!0;if(e&&n&&"WRAP"===n.stackWrap)for(let a of n.childrenGuids){t.find(e=>e===a)||(r=!1);let n=oE.qo.instance.get(a);a!==e.guid&&n&&"AUTO"===n.stackChildAlignSelf&&(l=!0)}return l&&!r}(l,e)))return!0}return!1}(r)&&(a=!0);let i=(0,ec.d4)(e=>!!e.mirror.selectionProperties.isInstanceSublayerSelected),s=(0,i8.am)(),d=(0,o.useMemo)(()=>new ok(e.axis),[e.axis]);if(null==l)return null;let[p,u]=oC(e.axis,e.size),m=function(e,t){let n=e===Q._0v.X;switch(t){case Q.mKm.HUG_CONTENT:return n?o.createElement(oc.v,null):o.createElement(od.C,null);case Q.mKm.FILL_CONTAINER:return n?o.createElement(op.G,null):o.createElement(ou.N,null);default:return n?o.createElement(r9.w,null):o.createElement(ae.T,null)}}(e.axis,e.size);if(e.readOnly&&(0,J.hS)(e.size)){let t=oI(e.size);return o.createElement("div",{className:c()(e.className,"stack_sizing_select_v5--flexContainer--nrpIK")},o.createElement(om.t,{svg:p,fallbackSvg:u,className:ao.Vb}),o.createElement("span",{className:"stack_sizing_select_v5--readOnlyText--Ik-gS ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}var h,g=i;for(let e of l)if(e.size===Q.mKm.HUG_CONTENT||e.size===Q.mKm.FILL_CONTAINER){g=!1;break}let E=l.map(t=>{let n=Q.mKm[t.size],l=t.size===Q.mKm.FILL_CONTAINER&&a,r=t.disabled||l,i="no-fill-component"===t.disabledReason?(0,F.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.no_fill_component"):l?(0,F.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.select_all_fill"):void 0;return o.createElement(an.c$,{key:t.size,value:t.size,recordingKey:_.Pt(e.recordingKey,"select",n),disabled:r,tooltip:i,tooltipType:ey.Ib.TEXT,dataTestId:`${n}-${Q._0v[e.axis]}`})}),y=(null==(h=(0,oh.Gq)())?void 0:h.getPrimaryLocale(!0))===og.Xn?150:210;return o.createElement(an.l6,{id:e.id,className:e.className,inputClassName:c()("stack_sizing_select_v5--tightText--xHUXj","stack_sizing_select_v5--stackLayoutSizeInput--aB6Pd"),chevronClassName:"stack_sizing_select_v5--stackLayoutSizeChevron--xh9BG",dropdownShown:n,dispatch:t,property:e.size,formatter:d,svg:p,fallbackSvg:u,ui3Icon:m,onChange:t=>{null!=t&&(eR.l7.user("set-stack-size",()=>Q.Qa7.setStackSizeOnSelection(t,e.axis)),s("Autolayout sizing changed",{axis:e.axis,size:t,source:"dropdown"}))},disabled:g,recordingKey:_.Pt(e,"select"),dropdownWidth:y,dropdownAlignment:e.dropdownAlignment,truncation:"none",onOptionFocus:(t,n)=>e.onHover(t??null,n),onMouseEnter:()=>e.onHover((0,J.hS)(e.size)?e.size:null,"input"),onMouseLeave:()=>e.onHover(null,"input"),tooltip:e.axis===Q._0v.X?(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.horizontal_resizing"):(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.vertical_resizing")},E)}function oC(e,t){let n=e===Q._0v.X;switch(t){case J.oV:return n?[ow.A]:[of.A];case Q.mKm.HUG_CONTENT:return n?[oT.A]:[ov.A];case Q.mKm.FILL_CONTAINER:return n?[ob.A]:[o_.A];default:return n?[ar.A,oS.A]:[al.A,oy.A]}}class ok{constructor(e){this.axis=e}format(e){return null==e?"":oI(e)}formatExtended(e){if(null==e)return{text:""};let[t,n]=oC(this.axis,e);return{text:function(e,t){switch(t){case Q.mKm.FIXED:return e===Q._0v.X?(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_width"):(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_height");case Q.mKm.HUG_CONTENT:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents");case Q.mKm.FILL_CONTAINER:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")}}(this.axis,e)||"",svg:t,fallbackSvg:n}}}function oI(e){switch(e){case Q.mKm.FIXED:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed");case Q.mKm.HUG_CONTENT:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug");case Q.mKm.FILL_CONTAINER:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")}}function oN(e){let t=(0,lK.kl)("stackHorizontalSize"),n=(0,lK.kl)("stackVerticalSize"),l=(0,os.aj)(),{version:r}=(0,em.DP)();return null==t||null==n?null:"ui2"===r?o.createElement(eK.fI,{"data-testid":"stack-sizing-row"},o.createElement(oP,{id:"stack-sizing-width",className:iZ.oH,axis:et._0v.X,size:t,recordingKey:_.Pt(e.recordingKey,"stack-width-sizing"),dropdownAlignment:"left",onHover:e=>l(e,et._0v.X)}),o.createElement(oP,{id:"stack-sizing-height",className:iZ.T1,axis:et._0v.Y,size:n,recordingKey:_.Pt(e.recordingKey,"stack-height-sizing"),dropdownAlignment:"right",onHover:e=>l(e,et._0v.Y)})):o.createElement(tw.fn,{"data-testid":"stack-sizing-row",leftLabel:o.createElement(F.Tx,{id:"properties.label.resizing"}),leftInput:o.createElement(oP,{id:"stack-sizing-width",className:iZ.oH,axis:et._0v.X,size:t,recordingKey:_.Pt(e.recordingKey,"stack-width-sizing"),dropdownAlignment:"left",onHover:e=>l(e,et._0v.X)}),rightInput:o.createElement(oP,{id:"stack-sizing-height",className:iZ.T1,axis:et._0v.Y,size:n,recordingKey:_.Pt(e.recordingKey,"stack-height-sizing"),dropdownAlignment:"right",onHover:e=>l(e,et._0v.Y)}),rightLabel:null,icon:null})}function oA(){let e=!oR();return o.createElement("div",{className:"constraints_preview_icon--container--n518S"},o.createElement(oO,{axis:"HORIZONTAL",disabled:e}),o.createElement("div",{className:oU(90)},o.createElement(oO,{axis:"VERTICAL",disabled:e})),o.createElement(ox,{disabled:e}))}function oR(){let e=a_();return!(e.nodesAreAllInsideStacks&&"AUTO"===e.stackPositioning)}function oO(e){let t=a_(),n="HORIZONTAL"===e.axis?t.horizontalConstraint:t.verticalConstraint,l=(0,J.gl)(t.horizontalConstraint)||(0,J.gl)(t.verticalConstraint);if(l||e.disabled)return o.createElement(oM,{selected:l});switch(n){case"MIN":return o.createElement(o.Fragment,null,o.createElement(oD,{selected:!0}),o.createElement(oD,{rotation:180}));case"MAX":return o.createElement(o.Fragment,null,o.createElement(oD,null),o.createElement(oD,{rotation:180,selected:!0}));case"STRETCH":return o.createElement(o.Fragment,null,o.createElement(oD,{selected:!0}),o.createElement(oD,{rotation:180,selected:!0}));case"CENTER":return o.createElement(o.Fragment,null,o.createElement(oD,null),o.createElement(oD,{rotation:180}));case"SCALE":return o.createElement(o.Fragment,null,o.createElement(oH,{selected:!0}),o.createElement(oH,{rotation:180,selected:!0}));default:return o.createElement(oM,null)}}function oM(e){return o.createElement(o.Fragment,null,o.createElement(oD,{selected:e.selected}),o.createElement(oD,{selected:e.selected,rotation:180}))}function ox(e){let t=a_(),n="CENTER"===t.horizontalConstraint,l="CENTER"===t.verticalConstraint,r=(0,J.gl)(t.horizontalConstraint)||(0,J.gl)(t.verticalConstraint);return n===l||r||e.disabled?o.createElement(oF,{selected:!e.disabled&&(n||r)}):o.createElement("div",{className:oU(l?0:90)},o.createElement(oK,{selected:!0}),o.createElement(oL,{rotation:90}))}function oL(e){return o.createElement("div",{className:oU(e.rotation||0)},o.createElement(oB,null),o.createElement(oB,{rotation:180}))}function oK(e){return o.createElement("svg",{viewBox:"0 0 24 24"},o.createElement(oV,{d:"M 9,12  L 15,12",...e}))}function oF(e){return o.createElement("svg",{viewBox:"0 0 24 24"},o.createElement(oV,{d:"M 9,12  L 15,12  M 12,9 L 12,15",...e}))}function oD(e){return o.createElement("svg",{viewBox:"0 0 24 24"},o.createElement(oV,{d:"M 5.5,9 L 5.5,15",rotation:e.rotation,selected:e.selected}))}function oH(e){return o.createElement("svg",{viewBox:"0 0 24 24"},o.createElement(oV,{d:"M 6.5,10  L 4.5,12 L 6.5,14",...e}))}function oB(e){return o.createElement("svg",{viewBox:"0 0 24 24"},o.createElement(oV,{d:"M 9,12  L 10,12",...e}))}function oV(e){return o.createElement("path",{d:e.d,fill:"none",className:c()("constraints_preview_icon--line--z6ghs",oU(e.rotation||0),{"constraints_preview_icon--selected--GXU2-":e.selected})})}let oU=e=>{switch(e){case 0:return;case 90:return"constraints_preview_icon--rotate90--uayVi constraints_preview_icon--_rotate--2AAty";case 180:return"constraints_preview_icon--rotate180--lqQgR constraints_preview_icon--_rotate--2AAty"}};function oZ(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 9a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V9ZM9 9v6H7V9h2Zm9 0a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V9Zm-1 0v6h-2V9h2Z",clipRule:"evenodd"}),o.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M12 6.5v11"}))}function oG(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6Zm0-1H9V7h6v2Zm0 9a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6Zm0-1H9v-2h6v2Z",clipRule:"evenodd"}),o.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M17.5 12h-11"}))}var oY=n(887130),oz=n(560185),oW=n(30562);function oX(e){let t=(0,ec.wA)(),n=(0,ix.Xs)(),l=(0,lK.kl)("detectedList"),r=(0,lK.kl)("detectableListAxis"),a=(0,J.E7)(l),i=(0,lL.Zr)("arrange-as-grid"),{version:s}=(0,em.DP)(),c=(0,o.useRef)(null);if(!a&&null==c.current&&(!(0,u.kc)().ce_mixed_list_spacing||!i&&null==r))return null;let d=(null==a?void 0:a.canvasSpacingBetweenItemsX)!=null||"X"===r||i||c.current===Q._0v.X,p=(null==a?void 0:a.canvasSpacingBetweenItemsY)!=null||"Y"===r||i||c.current===Q._0v.Y,m=o.createElement(rV.gq,{dispatch:t,value:null==a?J.oV:a.canvasSpacingBetweenItemsX,min:oQ(a,"X"),onValueChange:o$(a,"X"),onScrubBegin:()=>{c.current=Q._0v.X},onScrubEnd:()=>{c.current=null},mixedMathHandler:new oj(Q._0v.X),...n,className:iZ.BP,inputClassName:iZ.hF,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.list_spacing_x"),dataTestId:"list-spacing-x",tooltipForScreenReadersOnly:!0,recordingKey:_.Pt(e,"listSpacingX")},o.createElement(eg.U,{className:iZ.QK,svg:oz.A},o.createElement(oZ,{className:iZ.QK}))),h=o.createElement(rV.gq,{dispatch:t,value:null==a?J.oV:a.canvasSpacingBetweenItemsY,min:oQ(a,"Y"),onValueChange:o$(a,"Y"),onScrubBegin:()=>{c.current=Q._0v.Y},onScrubEnd:()=>{c.current=null},mixedMathHandler:new oj(Q._0v.Y),...n,className:d?iZ.sC:iZ.BP,inputClassName:iZ.hF,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.list_spacing_y"),dataTestId:"list-spacing-y",tooltipForScreenReadersOnly:!0,recordingKey:_.Pt(e,"listSpacingY")},o.createElement(eg.U,{className:iZ.QK,svg:oW.A},o.createElement(oG,{className:iZ.QK})));return"ui2"===s?o.createElement(eK.fI,null,d&&m,p&&h):o.createElement(tw.fn,{leftLabel:o.createElement(F.Tx,{id:"properties.label.spacing"}),leftInput:d?m:h,rightInput:p&&d?h:null,icon:null,rightLabel:null})}function oQ(e,t){return e?e.minItemSize?-e.minItemSize["X"===t?0:1]+1:0:-1/0}let o$=(e,t)=>(n,l)=>{let r="X"===t?"canvasSpacingBetweenItemsX":"canvasSpacingBetweenItemsY";X.Y5.updateSelectionProperties({detectedList:{[r]:Math.max(n,oQ(e,t))}},{shouldCommit:l});let a="number"==typeof(null==e?void 0:e.canvasSpacingBetweenItemsX)&&"number"==typeof(null==e?void 0:e.canvasSpacingBetweenItemsY);l&&oY.FZ.trackFromFullscreen("magic_collections_list_spacing_changed",{source:"panel",spacing_did_change:!e||n!==e[r],was_mixed:!e,type:a?"grid":"list"})};class oj{constructor(e){this.axis=e}getValue(){return Q.glU.getCurrentListSpacing(this.axis)}onChange(e,t,n){let l=e.spacings.map(t);eR.l7.user("update-list-spacing",()=>{Q.glU.setCurrentListSpacing({...e,spacings:l},this.axis),n!==ic.zk.NO&&Q.glU.triggerAction("commit",{})})}}var oq=n(983855),oJ=n(742011);function o0(e){return o.createElement(oJ.ht,null,o.createElement(oq.j,{...e}))}var o5=n(552793),o1=n(870394);let o7=(0,n(543111).d)("ToggleButton",function({onIcon:e,offIcon:t,"aria-label":n,...l},r){let a=o.useId(),i=l.mixed?t:l.checked?e:t;return o.createElement("span",{...o1.r,"data-disabled":!!l.disabled||void 0,className:"toggle-button-module--toggleButton--pMQdh base-icon-button-module--baseIconButton--qZbFM"},o.createElement(o5.F,{className:"toggle-button-module--input--Khcz8",id:a,...l,ref:r}),o.createElement(e0.J,{htmlFor:a,"aria-label":n,className:"toggle-button-module--label--5wggF","data-tooltip":n,"data-tooltip-type":"text"},o.createElement("span",{"aria-hidden":!0,className:"toggle-button-module--icon--9zliY base-icon-button-module--icon--jsZJB"},i)))});function o2(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 8a2 2 0 1 1 4 0v1.5a.5.5 0 0 0 1 0V8a3 3 0 1 0-6 0v1.5a.5.5 0 0 0 1 0V8Zm0 8a2 2 0 1 0 4 0v-1.5a.5.5 0 0 1 1 0V16a3 3 0 1 1-6 0v-1.5a.5.5 0 0 1 1 0V16Zm2.5-6a.5.5 0 0 0-1 0v4a.5.5 0 0 0 1 0v-4Z",clipRule:"evenodd"}))}function o4(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 8a2 2 0 1 1 4 0v1.5a.5.5 0 1 0 1 0V8a3 3 0 0 0-6 0v1.5a.5.5 0 0 0 1 0V8Zm0 8a2 2 0 1 0 4 0v-1.5a.5.5 0 1 1 1 0V16a3 3 0 0 1-6 0v-1.5a.5.5 0 0 1 1 0V16Zm-3.796-2.448a.5.5 0 0 1 .354-.612l.966-.259a.5.5 0 0 1 .259.966l-.966.259a.5.5 0 0 1-.613-.354Zm9.66-2.588a.5.5 0 0 1 .353-.612l.966-.259a.5.5 0 0 1 .259.966l-.966.259a.5.5 0 0 1-.612-.354Zm-9.047-.871a.5.5 0 1 0-.259.966l.966.259a.5.5 0 1 0 .259-.966l-.966-.26Zm9.659 2.588a.5.5 0 1 0-.259.966l.966.259a.5.5 0 1 0 .259-.966l-.966-.259Z",clipRule:"evenodd"}))}var o3=n(277951),o6=n(48453),o8=n(402042),o9=n(505740);function se(e){let[t,n]=(0,lK.lJ)("proportionsConstrained"),l=(0,a3.C)("fpl_toggle_button"),r=(0,tS.Rt)(),a=()=>{(0,u.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"proportionsConstrained",value:!(0,J._W)(t,!1)}),n(!(0,J._W)(t,!1))},i=(0,F.t)("fullscreen.properties_panel.transform_panel.constrain_proportions");return l?o.createElement("div",{className:iZ.xe},o.createElement(tc.E,{name:"dimensions_constrained_toggle"},o.createElement(o7,{disabled:e.disabled,onChange:e=>{(0,u.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"proportionsConstrained",value:e}),n(e)},checked:!!t,mixed:t===J.oV,recordingKey:_.Pt(e,"constrainProportionsToggle"),"aria-label":(0,F.t)("fullscreen.properties_panel.transform_panel.constrain_proportions"),onIcon:o.createElement(eg.U,{svg:o9.A},o.createElement(o2,null)),offIcon:o.createElement(eg.U,{svg:o8.A},o.createElement(o4,null))}))):r?o.createElement(tc.E,{name:"dimensions_constrained_toggle"},o.createElement(tB.K,{disabled:e.disabled,onClick:a,actionOnPointerDown:!0,recordingKey:_.Pt(e,"constrainProportionsToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":i,"aria-label":i},t?o.createElement(o2,null):o.createElement(o4,null))):o.createElement(tc.E,{name:"dimensions_constrained_toggle"},o.createElement(ia.m,{disabled:e.disabled,toggled:(0,J._W)(t,!1),svg:t?o3.A:o6.A,fallbackSvg:t?o9.A:o8.A,className:iZ.gb,onMouseDown:a,recordingKey:_.Pt(e,"constrainProportionsToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":i}))}var st=n(862782),sn=n(618945);function sl(e){let[t,n]=(0,lK.lJ)("stackPositioning"),l=(0,i8.am)();return o.createElement(ia.m,{svg:st.A,fallbackSvg:sn.A,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.absolute_position"),onMouseDown:()=>{eR.l7.user("set-stack-position",()=>{"ABSOLUTE"===t?(n("AUTO"),l("Remove Absolute Position")):(n("ABSOLUTE",ic.zk.NO),Q.glU.bringSelectionToFrontVisually(),Q.glU.triggerAction("commit",{}),l("Add Absolute Position"))})},recordingKey:_.Pt(e,"absolutePosition"),toggled:"ABSOLUTE"===t,disabled:e.disabled,className:iZ.gb,dataTestId:"stack-positioning-toggle"})}function sr(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6a1 1 0 0 1 1-1h2.5a.5.5 0 0 1 0 1H6v2.5a.5.5 0 0 1-1 0V6Zm14 0a1 1 0 0 0-1-1h-2.5a.5.5 0 1 0 0 1H18v2.5a.5.5 0 1 0 1 0V6ZM6 19a1 1 0 0 1-1-1v-2.5a.5.5 0 0 1 1 0V18h2.5a.5.5 0 0 1 0 1H6Zm13-1a1 1 0 0 1-1 1h-2.5a.5.5 0 1 1 0-1H18v-2.5a.5.5 0 1 1 1 0V18ZM12 8a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 12 8Z",clipRule:"evenodd"}))}var sa=n(889267);function si(e){let t=(0,lK.kl)("nodesAreAllInsideStacks"),n=(0,sa.C)(),[l,r]=(0,lK.lJ)("stackPositioning"),a=(0,i8.am)(),i=(0,lK.kl)("isInstanceSublayerSelected");return t&&!n?o.createElement(tE.YW,{disabled:!!i,selected:"ABSOLUTE"===l,"data-tooltip":(0,F.t)("properties.tooltip.ignore_auto_layout"),"data-tooltip-type":ey.Ib.TEXT,recordingKey:_.Pt(e,"absolutePosition"),onMouseDown:()=>{eR.l7.user("set-stack-position",()=>{"ABSOLUTE"===l?(r("AUTO"),a("Remove Absolute Position")):(r("ABSOLUTE",ic.zk.NO),Q.glU.bringSelectionToFrontVisually(),Q.glU.triggerAction("commit",{}),a("Add Absolute Position"))})}},o.createElement(sr,null)):null}function so(e){return o.createElement(oJ.kR,null,o.createElement(oq.j,{...e}))}var ss=n(612374);let sc=(0,ss.r)("relative-x",(e,t)=>Q.glU.setNodeSelectionOffsetWithAnchor(e,Q._0v.X,t)?ic.zk.YES:ic.zk.NO);function sd(e){let[t,n]=(0,lK.lJ)("x"),l=(0,ix.KG)({key:"x",setValue:n}),{version:r}=(0,em.DP)(),a="ui3"===r;return o.createElement(tc.E,{name:"x_input"},o.createElement(rV.gq,{...l,onEvaluateExpressionError:sc,className:iZ.BP,inputClassName:iZ.hF,value:t,disabled:e.disabled,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":a?(0,F.t)("properties.tooltip.xposition"):(0,F.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!a,recordingKey:_.Pt(e.recordingKey,"xInput")},o.createElement("span",{className:`${iZ.QK} svg`},o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.x"}))))}let sp=(0,ss.r)("relative-y",(e,t)=>Q.glU.setNodeSelectionOffsetWithAnchor(e,Q._0v.Y,t)?ic.zk.YES:ic.zk.NO);function su(e){let[t,n]=(0,lK.lJ)("y"),l=(0,ix.KG)({key:"y",setValue:n}),{version:r}=(0,em.DP)(),a="ui3"===r;return o.createElement(tc.E,{name:"y_input"},o.createElement(rV.gq,{...l,onEvaluateExpressionError:sp,className:iZ.BP,inputClassName:iZ.hF,value:t,disabled:e.disabled,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":a?(0,F.t)("properties.tooltip.yposition"):(0,F.t)("fullscreen.properties_panel.transform_panel.y"),tooltipForScreenReadersOnly:!a,recordingKey:_.Pt(e.recordingKey,"yInput")},o.createElement("span",{className:`${iZ.QK} svg`},o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.y"}))))}function sm(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m14.146 11.854 2 2a.5.5 0 0 0 .708-.708L15.707 12H19.5a.5.5 0 0 0 0-1h-3.793l1.147-1.146a.5.5 0 0 0-.708-.708l-2 2a.5.5 0 0 0 0 .708Zm-3.292 0-2 2a.5.5 0 0 1-.708-.708L9.293 12H5.5a.5.5 0 0 1 0-1h3.793L8.146 9.854a.5.5 0 1 1 .708-.708l2 2a.5.5 0 0 1 0 .708ZM13 5.5a.5.5 0 0 0-1 0v12a.5.5 0 0 0 1 0v-12Z",clipRule:"evenodd"}))}function sh(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M19 6.5a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0v-10Zm-13 0a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0v-10Zm10.854 4.646a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L15.293 12H8.707l1.647 1.646a.5.5 0 0 1-.708.708l-2.5-2.5a.5.5 0 0 1 0-.708l2.5-2.5a.5.5 0 0 1 .708.708L8.707 11h6.586l-1.647-1.646a.5.5 0 0 1 .708-.708l2.5 2.5Z",clipRule:"evenodd"}))}function sg(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m11.854 10.854 2-2a.5.5 0 0 0-.708-.708L12 9.293V5.5a.5.5 0 0 0-1 0v3.793L9.854 8.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0Zm0 3.292 2 2a.5.5 0 0 1-.708.708L12 15.707V19.5a.5.5 0 0 1-1 0v-3.793l-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0ZM5.5 12a.5.5 0 0 0 0 1h12a.5.5 0 0 0 0-1h-12Z",clipRule:"evenodd"}))}function sE(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.5 5a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1h-10Zm0 13a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1h-10Zm4.646-10.854a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1-.708.708L12 8.707v6.586l1.646-1.647a.5.5 0 0 1 .708.708l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708L11 15.293V8.707l-1.646 1.647a.5.5 0 0 1-.708-.708l2.5-2.5Z",clipRule:"evenodd"}))}var s_=n(646240),sy=n(946482),sf=n(127124),sv=n(745056);function sb(e){let t=(0,os.Wr)(),n=(0,m.md)(os.Kl),l=(0,m.md)(os.Md),r=(0,os.Fp)(),a=(0,o.useRef)(null),i=!e.visible||!(0,os.tH)(n),s="ui3"===(0,em.DP)().version;if((0,os.Nu)(!i,()=>r("minmax",null,os.qi.YES),a,e.widthHeightRowRef),i)return null;let c=0,d=0,p=[];function u(e){let t=null!=l&&l.widthOrHeight===e.widthOrHeight&&l.minOrMax===e.minOrMax;return o.createElement(sw,{key:`${e.widthOrHeight}-${e.minOrMax}`,minMaxApi:e,shouldFocus:t,recordingKey:`minMaxDropdown.${e.minOrMax}${e.widthOrHeight}`})}function h(e){switch(e.minOrMaxWidthOrHeight){case"minWidth":return o.createElement(F.Tx,{id:"properties.label.min_width"});case"maxWidth":return o.createElement(F.Tx,{id:"properties.label.max_width"});case"minHeight":return o.createElement(F.Tx,{id:"properties.label.min_height"});case"maxHeight":return o.createElement(F.Tx,{id:"properties.label.max_height"})}}n.width.min&&(c++,p.push(t.width.min)),n.width.max&&(c++,p.push(t.width.max)),n.height.min&&(d++,p.push(t.height.min)),n.height.max&&(d++,p.push(t.height.max));let g=p.map(u),E=p.map(h);return c+d===1?s?o.createElement(tw.fn,{ref:a,leftLabel:E[0],leftInput:g[0],rightLabel:null,rightInput:null,icon:null}):o.createElement(eK.fI,{forwardedRef:a},g[0]):1===c&&1===d?s?o.createElement(tw.fn,{ref:a,leftLabel:E[0],leftInput:g[0],rightLabel:E[1],rightInput:g[1],icon:null}):o.createElement(eK.fI,{forwardedRef:a},g):c+d===2?s?o.createElement("div",{ref:a},o.createElement(tw.fn,{ref:a,leftLabel:E[0],leftInput:g[0],rightLabel:null,rightInput:null,icon:null}),o.createElement(tw.fn,{ref:a,leftLabel:E[1],leftInput:g[1],rightLabel:null,rightInput:null,icon:null})):o.createElement("div",{ref:a},o.createElement(eK.fI,null,g[0]),o.createElement(eK.fI,null,g[1])):s?o.createElement("div",{ref:a},o.createElement(tw.fn,{leftLabel:h(t.width.min),leftInput:u(t.width.min),rightLabel:h(t.height.min),rightInput:u(t.height.min),icon:null}),o.createElement(tw.fn,{leftLabel:h(t.width.max),leftInput:u(t.width.max),rightLabel:h(t.height.max),rightInput:u(t.height.max),icon:null})):o.createElement("div",{ref:a},o.createElement(eK.fI,null,u(t.width.min),u(t.height.min)),o.createElement(eK.fI,null,u(t.width.max),u(t.height.max)))}function sS(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt");case"height":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt")}}function sw(e){let{minMaxApi:t,shouldFocus:n}=e,l=(0,lK.kl)("isInstanceSublayerSelected"),r=(0,lK.kl)(t.widthOrHeight),a=(0,lK.kl)(t.minOrMaxWidthOrHeight),i=(0,os.Fp)(),s=(0,o.useRef)(0),c=(0,o.useRef)(new Map),d=(0,s_.Xr)(os.Md),[p,u]=(0,m.fp)(os.Kl),h=(0,tS.Rt)(),g=[];r!==t.value&&g.push(os.vC),g.push(os.Bn);let E=g.map(t=>{let n=(0,J.gl)(r);return o.createElement(an.c$,{recordingKey:_.Pt(e.recordingKey,"select",t),key:t,value:t,disabled:!!l||t===os.vC&&n})}),[y,f]=(0,os.Xb)(t),v=o.useRef(null),b=function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?"MIN_WIDTH":"MAX_WIDTH";case"height":return"min"===e.minOrMax?"MIN_HEIGHT":"MAX_HEIGHT"}}(t);var S=void 0;switch(t.widthOrHeight){case"width":S="min"===t.minOrMax?o.createElement(sm,null):o.createElement(sh,null);break;case"height":S="min"===t.minOrMax?o.createElement(sg,null):o.createElement(sE,null)}let w="width"===t.widthOrHeight?Q._0v.X:Q._0v.Y;o.useEffect(()=>{var e,t;n&&(null==(e=v.current)||e.focus(),null==(t=v.current)||t.select())},[n]);let T=(0,os.VY)(t),{clearVariableConsumption:P}=(0,sv.O)(b,Q.rXF.FLOAT);class C extends sy.M{getValueForNode(e){return Q.Egt.getNodeTransformProperties(e.guid)[t.minOrMaxWidthOrHeight]}setValueForNode(e,n,l){let r={[t.minOrMaxWidthOrHeight]:n};if(l&&c.current.has(e.guid)){let l=c.current.get(e.guid);r[t.widthOrHeight]=l;let a=(0,os.jz)(e,l,n,t.widthOrHeight);a!==l&&(r[t.widthOrHeight]=a),r.sizeChangeIsAutomatic=!0}Q.Egt.setNodeTransformProperties(e.guid,r)}}return o.createElement(sv.S,{id:`minMaxDropdown.${e.minMaxApi.minOrMax}${e.minMaxApi.widthOrHeight}`,options:E,inputRef:v,outerClassName:"width"===t.widthOrHeight?iZ.Kw:iZ.X8,value:t.value,formatter:T,mixedMathHandler:new C,variableField:b,onScrubBegin:()=>{(0,J.gl)(a)?(0,sf.fv)().forEach(e=>{c.current.set(e.guid,e.size[w===Q._0v.X?"x":"y"])}):"number"==typeof r?s.current=r:s.current=0},onScrubEnd:()=>{c.current.clear(),s.current=0},onChange:(e,n=ic.zk.YES)=>{if(P(ic.zk.NO),e===os.vC)"number"==typeof r&&t.set(r||null,ic.zk.NO);else if(e===os.Bn){t.set(null,ic.zk.NO);let e={[t.widthOrHeight]:{...p[t.widthOrHeight],[t.minOrMax]:!1}};u({...p,...e}),d(null)}else("number"==typeof e||null==e)&&t.set(e,ic.zk.NO,s.current);n===ic.zk.YES&&X.Y5.triggerAction("commit")},dropdownWidth:162,dropdownAlignment:"width"===t.widthOrHeight?"left":"right",noBorderOnFocus:!0,iconId:`icon-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,icon:y,ui3Icon:S,fallbackIcon:f,tooltipText:sS(t),showTooltipOnTargetOnly:h,"data-tooltip-max-width":200,onFocus:()=>i("minmax",{axis:w,renderLabels:!0},os.qi.YES),onBlur:()=>{i("minmax",{axis:w,renderLabels:!0},os.qi.YES_ONLY_MIN_MAX),d(null)},onMouseEnter:()=>i("minmax",{axis:w,renderLabels:!0}),onMouseLeave:()=>i("minmax",null),inputTestId:`transform-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,source:"panel",allowEmpty:!0,placeholder:function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_short"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_short");case"height":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_short"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_short")}}(t),omitValueFromDropdown:!0,shouldFocus:n,"aria-label":sS(t),recordingKey:e.recordingKey,openBelowTarget:!0,shiftVariableOptionToAlign:!0})}function sT(e){let t=(0,lL.Zr)("align-left"),n=(0,lL.Zr)("align-horizontal-center"),l=(0,lL.Zr)("align-right"),r=(0,lL.Zr)("align-top"),a=(0,lL.Zr)("align-vertical-center"),i=(0,lL.Zr)("align-bottom"),s=sP(),[c,d]=(0,o.useState)(!1),p=(0,lL.vm)(rk),u=c&&e.isHoveringOverPanel&&p,m=(0,o.useCallback)(e=>{d(e.altKey||e.shiftKey)},[]),h=!(0,lL.yU)(rk),g=!(0,lL.yU)(rI),E=h&&g&&!t&&!n&&!l&&!r&&!a&&!i;if((0,o.useEffect)(()=>{function e(){d(!1)}return document.addEventListener("keydown",m),document.addEventListener("keyup",m),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",m),window.removeEventListener("blur",e)}},[m]),E)return o.createElement(o.Fragment,null);let _=o.createElement(iU,{controls:u?[s("align-left-as-group",o.createElement(lX,null),!0),s("align-horizontal-center-as-group",o.createElement(lQ,null),!0),s("align-right-as-group",o.createElement(l$,null),!0)]:[s("align-left",o.createElement(lV,null),t),s("align-horizontal-center",o.createElement(lU,null),n),s("align-right",o.createElement(lZ,null),l)],recordingKey:e.recordingKey}),y=o.createElement(iU,{controls:u?[s("align-top-as-group",o.createElement(lY,null),!0),s("align-vertical-center-as-group",o.createElement(lz,null),!0),s("align-bottom-as-group",o.createElement(lW,null),!0)]:[s("align-top",o.createElement(lD,null),r),s("align-vertical-center",o.createElement(lH,null),a),s("align-bottom",o.createElement(lB,null),i)],recordingKey:e.recordingKey});return o.createElement(tw.fn,{leftLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_position.label_alignment"}),leftInput:_,rightLabel:null,rightInput:y,icon:o.createElement(rR,{actions:rI})})}let sP=()=>{let e=(0,lF.X)();return o.useCallback((t,n,l)=>({"aria-label":t,"data-tooltip":t,"data-tooltip-type":ey.Ib.LOOKUP,children:n,disabled:!l,onMouseDown:t=>{(null==e?void 0:e.id.startsWith("paint"))&&t.stopPropagation()},onClick:()=>{X.Y5.triggerActionInUserEditScope(t)},recordingKey:t}),[e])};var sC=n(926073),sk=n(91990),sI=n(324799),sN=n(695150),sA=n(708273),sR=n(287126),sO=n(332536);let sM=o.memo(function(e){let t=(0,ix.Df)(),n=(0,ix.Jo)(),l=(0,tS.Rt)(tS.G1.READY),r=(0,lK.kl)("stackMode"),a=null!=r&&"NONE"!==(0,J.E7)(r),i=(0,lK.kl)("nodesAreAllInsideStacks"),s=(0,i9.J2)(Q.Ez5.propertiesPanelState().shownPropertiesPanels),c=l&&!s[Q.ibQ.TRANSFORM_ITEM],d=t.framePresetsItem&&n.transform,p=a||i,u=(0,o.useRef)(null),m=(0,ec.d4)(eO.qd),h=(0,tS.wR)(),[g,E]=rF(),y=o.createElement(o.Fragment,null,!l&&d&&e.propertiesPanelState===ng.GR.DEFAULT_EXPANDED&&o.createElement(sL,{recordingKey:e.recordingKey}),o.createElement(sF,{transformDisabled:!n.transform,recordingKey:e.recordingKey,showFrameFitButton:!d&&!t.sectionItem,pickerShown:e.pickerShown,canEditConstraints:e.canEditConstraints,openFileKey:e.openFileKey}),!l&&o.createElement(o.Fragment,null,o.createElement(sD,{recordingKey:e.recordingKey,forwardedRef:u}),o.createElement(sb,{visible:!!p,widthHeightRowRef:u})),p&&!h&&o.createElement(oN,{recordingKey:_.Pt(e.recordingKey,"autolayoutSizing")}),(t.angle||t.cornerRadius)&&o.createElement(iJ,{key:m.join("-"),cornerRadiusShown:t.cornerRadius,cornerRadiusDisabled:!n.cornerRadius,rectangleCornersShown:t.rectangleCornerRadii,rectangleCornersDisabled:!n.rectangleCornerRadii,angleShown:t.angle,angleDisabled:!n.angle,recordingKey:e.recordingKey}),(t.count||t.starInnerScale)&&!l&&o.createElement(sH,{countShown:t.count,countDisabled:!n.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!n.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&!l&&o.createElement(sB,{arcDataDisabled:!n.arcData,recordingKey:e.recordingKey}),t.fixedFrameOptions&&!l&&o.createElement(i6,{recordingKey:e.recordingKey}),!l&&o.createElement(oX,{recordingKey:e.recordingKey}));return o.createElement(b.p,{name:"transform_panel"},o.createElement(eK.Zk,{"data-onboarding-key":oe.W,"data-non-interactive":!0,...E},l&&o.createElement(tH.iE,{titleTx:o.createElement(F.Tx,{id:"fullscreen.appearance_panel.position"}),icon:o.createElement(si,{recordingKey:e.recordingKey})}),l&&o.createElement(sT,{isHoveringOverPanel:g,recordingKey:"alignPanel.alignButton"}),!c&&y))});function sx(e){let t=(0,lK.kl)("width"),n=(0,lK.kl)("height"),l=(0,lK.kl)("isInstanceSelected"),r=(0,lK.kl)("isInstanceSublayerSelected"),a=(0,lK.kl)("resizeToFit"),i=(0,lK.kl)("canBecomeFrame"),s=(0,lK.kl)("canBecomeGroup"),c=(0,lK.kl)("canBecomeSection"),d=(0,lK.kl)("isSection"),p=(0,lK.kl)("isWidgetSelected"),u=(0,lK.kl)("stackMode"),m=(0,ec.d4)(e=>e.dropdownShown),h=(0,ec.wA)();return o.createElement(aY,{leftIcon:e.leftIcon,selectClassName:e.selectClassName,inputClassName:e.inputClassName,width:t,height:n,resizeToFit:a,stackMode:u,dispatch:h,dropdownShown:m,canBecomeFrame:!!i,canBecomeGroup:!!s,canBecomeSection:!!c,isSection:!!d,isOrInInstance:!!(l||r),isWidget:!!p,id:e.id,recordingKey:e.recordingKey})}let sL=o.memo(function(e){let t=(0,ix.Df)(),n=(0,lK.kl)("width"),l=(0,lK.kl)("height"),r=(0,lK.kl)("resizeToFit"),a=(0,lK.kl)("stackMode"),i=(0,lK.kl)("stackCounterSizing"),s=(0,ec.d4)(e=>(0,ei.Yh)(e.mirror.appModel,"resize-to-fit")),c=null!=a&&"NONE"!==a,d=c&&(0,J.hS)(i)&&"RESIZE_TO_FIT"===i,{version:p}=(0,em.DP)(),u=s?iZ.xP:iZ.iq,m=o.createElement(sx,{id:"frame-preset-dropdown",selectClassName:u,inputClassName:iZ.KG,recordingKey:_.Pt(e,"framePresetDropdown")}),h=o.createElement(az,{className:iZ.gb,recordingKey:_.Pt(e,"frameFitButton")});return"ui3"===p?o.createElement(tw.fn,{leftLabel:null,leftInput:m,rightLabel:null,rightInput:null,icon:t.sectionItem&&(!s||d)?null:h}):o.createElement(eK.fI,null,m,s&&!c&&o.createElement(oo,{width:n,height:l,resizeToFit:r,recordingKey:_.Pt(e,"frameOrientation")}),s&&!d&&o.createElement(o.Fragment,null,h))});function sK(){let e=(0,sC.e)(),t=(0,tS.wR)();return e&&t?o.createElement(F.Tx,{id:"properties.label.resizing"}):o.createElement(F.Tx,{id:"properties.label.dimensions"})}function sF(e){let t="xy-inputs-row",n=(0,lK.kl)("nodesAreAllInsideStacks"),l=(0,lK.kl)("stackPositioning"),r=(0,lK.kl)("isInstanceSublayerSelected"),{version:a}=(0,em.DP)(),i=(0,ec.wA)(),s=o.useRef(null),c=oR(),d=!!n&&"AUTO"===l||e.transformDisabled,p=!!n,u=(0,lL.Zr)("resize-to-fit"),m=e.showFrameFitButton&&u&&!p;if("ui2"===a)return o.createElement(eK.fI,{dataTestId:"x-y-inputs-row"},o.createElement(sd,{disabled:d,recordingKey:e.recordingKey}),o.createElement(su,{disabled:d,recordingKey:e.recordingKey}),m&&o.createElement(az,{className:iZ.gb}),p&&o.createElement(sl,{disabled:!!r,recordingKey:e.recordingKey}));let h=()=>e.pickerShown&&e.pickerShown.id===t?e.pickerShown:null,g=h();return d&&!c?null:o.createElement(o.Fragment,null,o.createElement(tw.fn,{ref:s,"data-testid":"x-y-inputs-row",leftLabel:o.createElement(F.Tx,{id:"properties.label.position"}),leftInput:o.createElement(sd,{disabled:d,recordingKey:e.recordingKey}),rightLabel:null,rightInput:o.createElement(su,{disabled:d,recordingKey:e.recordingKey}),icon:e.canEditConstraints?o.createElement(eK.YW,{onClick:e=>{if(e.stopPropagation(),h())i(D.XE());else{let e=(0,ef.cn)(es.findDOMNode(s.current));i(D.u1({id:t,initialX:e.x,initialY:e.y}))}},onMouseDown:e=>e.stopPropagation(),selected:!!g,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.constraints_panel.constraints"),recordingKey:_.Pt(e,"constraintsButton")},o.createElement(oA,null)):null}),g&&o.createElement(ot,{pickerShown:g,openFileKey:e.openFileKey,recordingKey:_.Pt(e,"constraintsModal")}))}function sD(e){let t=(0,lK.kl)("stackMode"),[n,l]=(0,m.fp)(os.Kl),[r,a]=(0,m.fp)(os.Md),i=null!=t&&"NONE"!==t,s=(0,ix.AY)(),c=(0,os.Fp)(),d=(0,i8.am)(),p=(0,os.hl)(),u=(0,ix.Jo)().size,{widthIsAuto:h,heightIsAuto:g}=(0,ix.M9)(),{version:E}=(0,em.DP)();(0,nH.f4)(()=>{l(os.p3),a(null),c("minmax",null,os.qi.YES)});let _=e=>{d("Expanded min max property",e);let t={...n,[e.widthOrHeight]:{...n[e.widthOrHeight],[e.minOrMax]:!0}},r="min"===e.minOrMax?"max":"min",i=p[e.widthOrHeight][e.minOrMax],o=p[e.widthOrHeight][r];!i&&o&&(t[e.widthOrHeight][r]=!0),l(t),a(e)};return"ui2"===E?o.createElement(eK.fI,{forwardedRef:e.forwardedRef,dataTestId:"width-height-row"},o.createElement(so,{disabled:h||!u,onSizeConstraintClick:e=>{_({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),o.createElement(o0,{disabled:g||!u,onSizeConstraintClick:e=>{_({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),!i&&!s&&o.createElement(se,{disabled:!u,recordingKey:e.recordingKey})):o.createElement(tw.fn,{"data-testid":"x-y-inputs-row",leftLabel:o.createElement(sK,null),leftInput:o.createElement(so,{disabled:h||!u,onSizeConstraintClick:e=>{_({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),rightLabel:null,rightInput:o.createElement(o0,{disabled:g||!u,onSizeConstraintClick:e=>{_({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),icon:i||s?null:o.createElement(se,{disabled:!u,recordingKey:e.recordingKey})})}function sH(e){let{version:t}=(0,em.DP)(),[n,l]=(0,lK.lJ)("count"),[r,a]=(0,lK.lJ)("starInnerScale"),{smallNudgeAmount:i,bigNudgeAmount:s,wheelMultiplier:c,scrubMultiplier:d}=(0,ix.Xs)(),p=(0,ec.wA)(),u=e.countShown&&o.createElement(rV.Ht,{className:iZ.BP,inputClassName:iZ.hF,value:n,disabled:e.countDisabled,smallNudgeAmount:i,wheelMultiplier:c,onValueChange:l,dispatch:p,recordingKey:_.Pt(e,"countInput"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.count"),bigNudgeAmount:10,scrubMultiplier:.1*i,resolution:.01,min:3,max:60},e.starInnerScaleShown&&o.createElement(M.B,{className:iZ.QK,svg:sR.A}),!e.starInnerScaleShown&&o.createElement(M.B,{className:iZ.QK,svg:sI.A})),m=e.starInnerScaleShown&&o.createElement(rV.w2,{className:iZ.sC,inputClassName:iZ.hF,value:r,disabled:e.starInnerScaleDisabled,smallNudgeAmount:i,bigNudgeAmount:s,wheelMultiplier:c,scrubMultiplier:d,onValueChange:a,dispatch:p,recordingKey:_.Pt(e,"starInnerScaleInput"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,min:.001},o.createElement(M.B,{className:iZ.QK,svg:sO.A}));return"ui3"===t&&m?o.createElement(tw.fn,{leftLabel:o.createElement(F.Tx,{id:"properties.label.count"}),leftInput:u,rightLabel:o.createElement(F.Tx,{id:"properties.label.angle"}),rightInput:m,icon:null}):"ui3"===t?o.createElement(tw.fn,{leftLabel:o.createElement(F.Tx,{id:"properties.label.count"}),leftInput:u,rightLabel:null,rightInput:null,icon:null}):o.createElement(eK.fI,{dataTestId:"count-scale-inputs-row"},u,m)}let sB=o.memo(function(e){let[t,n]=(0,lK.lJ)("arcStart"),[l,r]=(0,lK.lJ)("arcSweep"),[a,i]=(0,lK.lJ)("arcRadius"),{smallNudgeAmount:s,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p}=(0,ix.Xs)(),u=(0,ec.wA)(),{version:m}=(0,em.DP)();return"ui3"!==m?o.createElement(eK.fI,null,o.createElement("div",{className:iZ.Cs},o.createElement(M.B,{className:iZ.QK,svg:sk.A}),o.createElement(rV.Zp,{className:iZ.fm,inputClassName:iZ.PK,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:s,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:n,dispatch:u,recordingKey:_.Pt(e,"arcStart"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!0}),o.createElement(rV.w2,{className:iZ.t5,inputClassName:iZ.PK,value:l,smallNudgeAmount:s,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:r,dispatch:u,recordingKey:_.Pt(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!0}),o.createElement(rV.w2,{className:iZ.eC,inputClassName:iZ.PK,value:a,smallNudgeAmount:s,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:i,dispatch:u,recordingKey:_.Pt(e,"arcRatio"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!0}))):o.createElement(tw.DE,{label:o.createElement(F.Tx,{id:"properties.label.arc"}),icon:null,input:o.createElement("div",{className:iZ.Xq},o.createElement(rV.Zp,{className:iZ.fm,inputClassName:iZ.hF,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:s,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:n,dispatch:u,recordingKey:_.Pt(e,"arcStart"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!1},o.createElement(M.B,{className:iZ.QK,svg:sk.A})),o.createElement(rV.w2,{className:iZ.t5,inputClassName:iZ.PK,value:l,smallNudgeAmount:s,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:r,dispatch:u,recordingKey:_.Pt(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!1}),o.createElement(rV.w2,{className:iZ.eC,inputClassName:iZ.PK,value:a,smallNudgeAmount:s,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:i,dispatch:u,recordingKey:_.Pt(e,"arcRatio"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!1}))})});function sV(e){let{bigNudgeAmount:t,smallNudgeAmount:n}=(0,$.sT)();return o.createElement(sU,{...e,bigNudgeAmount:t,smallNudgeAmount:n})}function sU(e){let{smallNudgeAmount:t,bigNudgeAmount:n}=e,l={wheelMultiplier:t,scrubMultiplier:t,smallNudgeAmount:t,bigNudgeAmount:n},r=o.createElement(rV.gq,{className:iZ.BP,inputClassName:iZ.hF,value:e.x,...l,onValueChange:(e,t)=>{X.Y5.updateSelectionProperties({x:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:_.Pt(e,"xInput"),mixedMathCallback:eR.nc.user("apply-mixed-method-for-vector-network",e=>{Q.Egt.applyMixedMathForSelectedVectorNetwork(Q._0v.X,e)})},o.createElement("span",{className:iZ.QK},o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.x"}))),a=o.createElement(rV.gq,{className:iZ.sC,inputClassName:iZ.hF,value:e.y,...l,onValueChange:(e,t)=>{X.Y5.updateSelectionProperties({y:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:_.Pt(e,"yInput"),mixedMathCallback:eR.nc.user("apply-mixed-method-for-vector-network",e=>{Q.Egt.applyMixedMathForSelectedVectorNetwork(Q._0v.Y,e)})},o.createElement("span",{className:iZ.QK},o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.y"}))),i=o.createElement(sY,{handleMirroring:e.handleMirroring,dispatch:e.dispatch,dropdownShown:e.dropdownShown,recordingKey:_.Pt(e,"mirroring"),isUI3:e.isUI3}),s=o.createElement(rV.$j,{className:iZ.BP,inputClassName:iZ.hF,value:e.cornerRadius,...l,onValueChange:(e,t)=>{X.Y5.updateSelectionProperties({cornerRadius:e},{shouldCommit:t})},dispatch:e.dispatch,recordingKey:_.Pt(e,"cornerRadiusInput"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_radius")},o.createElement(M.B,{className:iZ.QK,svg:iG.A}));return o.createElement(b.p,{name:"vector_transform_panel"},o.createElement(eK.Zk,null,o.createElement(eK.fI,null,o.createElement(eK.xw,null,o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.vector"}))),e.isUI3?o.createElement(o.Fragment,null,o.createElement(tw.fn,{leftLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_vector.label_position"}),leftInput:r,rightLabel:null,rightInput:a,icon:null}),o.createElement(tw.DE,{label:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_vector.label_mirroring"}),input:i,icon:null}),o.createElement(tw.fn,{leftLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_vector.label_radius"}),leftInput:s,rightLabel:null,rightInput:null,icon:null})):o.createElement(o.Fragment,null,o.createElement(eK.fI,null,r,a),o.createElement(eK.fI,null,i),o.createElement(eK.fI,null,s))))}class sZ extends an.l6{}class sG extends an.c${}class sY extends o.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>{switch(e){case"NONE":return(0,F.t)("fullscreen.properties_panel.transform_panel.no_mirroring");case"ANGLE":return(0,F.t)("fullscreen.properties_panel.transform_panel.mirror_angle");case"ANGLE_AND_LENGTH":return(0,F.t)("fullscreen.properties_panel.transform_panel.mirror_angle_and_length")}}},this.onChange=e=>X.Y5.updateSelectionProperties({handleMirroring:e})}render(){return o.createElement(sZ,{id:"handle-mirroring-select",className:iZ.GC,inputClassName:iZ.i6,chevronClassName:iZ.r,property:this.props.handleMirroring,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,svg:this.props.isUI3?void 0:sN.A,fallbackSvg:this.props.isUI3?void 0:sA.A,svgClassName:iZ.jC},o.createElement(sG,{value:"NONE",recordingKey:_.Pt(this.props,"NONE")}),o.createElement(sG,{value:"ANGLE",recordingKey:_.Pt(this.props,"ANGLE")}),o.createElement(sG,{value:"ANGLE_AND_LENGTH",recordingKey:_.Pt(this.props,"ANGLE_AND_LENGTH")}))}}function sz(e){return o.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M3.035 8.07A.931.931 0 0 1 3.01 8a.931.931 0 0 1 .026-.07c.044-.102.12-.242.235-.412a5.635 5.635 0 0 1 1.053-1.121C5.257 5.627 6.54 5 8 5s2.743.628 3.677 1.397c.465.383.821.783 1.053 1.121.116.17.191.31.235.413L12.99 8a.957.957 0 0 1-.026.07c-.044.102-.12.242-.235.412a5.637 5.637 0 0 1-1.053 1.121C10.743 10.373 9.46 11 8 11s-2.743-.628-3.677-1.397A5.635 5.635 0 0 1 3.27 8.482a2.449 2.449 0 0 1-.235-.413ZM2 8c0-1 2.5-4 6-4s6 3 6 4-2.5 4-6 4-6-3-6-4Zm6 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}sY.displayName="HandleMirroring";var sW=n(416580),sX=n(162122),sQ=n(567135),s$=n(708525),sj=n(134784),sq=n(314809),sJ=n(700888);let s0=new sq.SU;class s5 extends an.c${}class s1 extends an.l6{}class s7 extends o.PureComponent{render(){var e;let t=this.props.includePassThrough?sJ.j4:sJ.r5;return o.createElement(s1,{id:(e=this.props.id,`blend-mode-select-${e}`),className:this.props.className,inputClassName:this.props.inputClassName,chevronClassName:this.props.chevronClassName,property:this.props.property,formatter:s0,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,willShowDropdown:this.props.willShowDropdown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,dropdownWidth:this.props.isUI3?120:"auto",svg:this.props.isUI3?void 0:(0,sJ.HC)((0,J.E7)(this.props.property)),enablePreview:!0},t.map((e,t)=>"SELECT_DIVIDER"===e?o.createElement(an.sK,{key:t}):o.createElement(s5,{key:t,value:e,recordingKey:_.Pt(this.props,e)})))}}s7.displayName="BlendMode";var s2=n(121102),s4=n(112255),s3=n(73550),s6=n(490393),s8=n(435091),s9=n(424148),ce=n(144919);function ct(e){let{blendMode:t,opacity:n,visible:l}=e,r="ui3"===(0,em.DP)().version,a=o.useRef(null),i=o.useMemo(ie.On,[]),s=o.useMemo(ie.Tn,[]),{dropdownShown:p,isDefReferencedBySelection:m,selectedGUIDs:h,visibilityIsBoundToComponentProp:g}=(0,ts.R)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!i(e,a6.R.VISIBLE),selectedGUIDs:(0,eO.qd)(e),visibilityIsBoundToComponentProp:s(e,(0,eO.qd)(e),a6.R.VISIBLE)})),E=(0,J.gl)(l),y=(0,ec.wA)(),f=o.useCallback((e,t=ic.zk.YES)=>{eA.wt.shouldReportForShouldCommit(t)&&oY.FZ.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),X.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),v=o.useCallback((e,t)=>{X.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!m&&X.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[m]),S=o.useRef(null),[,w]=cl(),{clearVariableConsumption:T}=(0,rU.u3)(["VISIBLE"]),{variableConsumptionMap:P}=(0,rU.R1)(),C=cr(),k=(0,lN.u)(C),I=null==k?void 0:k.name,N=cn();return o.createElement(b.p,{name:"layer_panel"},o.createElement(eK.Zk,null,o.createElement(eK.fI,{className:tI.LO},o.createElement(s2.Tu,{isPanelBodyCollapsedAtom:null},o.createElement(eK.xw,{isPanelBodyCollapsedAtom:null},o.createElement(F.Tx,{id:"fullscreen.layer_panel.layer"})),o.createElement(rj,{recordingKey:"frameLevel"}),!N&&o.createElement(a8.yQ,{nodeField:a6.R.VISIBLE,defaultValue:l,guids:h}),o.createElement(rY,{showLibrarySets:!1,recordingKey:"frameLevel"}))),o.createElement(s2.JH,{isPanelBodyCollapsedAtom:null},o.createElement(eK.fI,null,o.createElement(s7,{id:"layer-blend-mode",className:s8.jK,inputClassName:s8.Df,chevronClassName:s8.ai,property:t,dispatch:y,dropdownShown:p,onChange:f,willShowDropdown:()=>((0,d.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:_.Pt(e,"blendMode"),isUI3:r}),o.createElement(s$.e,{condition:!0,wrapper:t=>o.createElement(iI.sA,{recordingKey:_.Pt(e,"layerOpacityInputWrapper"),fields:["OPACITY"],disabled:!1,resolvedType:Q.rXF.FLOAT,currentFieldValue:(0,J.hS)(n)?n:void 0,inputClassName:c()({[s8.ke]:!0,[s8.TQ]:!0}),hideIcon:!0,inputRef:a,hasBindingContextMenu:!0},t)},o.createElement(rV.Pd,{isTokenizable:!0,value:n,onValueChange:v,mixedMathHandler:ci,dispatch:y,recordingKey:_.Pt(e,"opacity"),forwardedRef:a,noBorderOnHover:!0})),o.createElement(cs,{recordingKey:e.recordingKey})),E&&!m&&o.createElement(eK.fI,{dataTestId:"mixed-visibility-label"},o.createElement(eK.UZ,{className:s6.Pf},o.createElement(F.Tx,{id:"fullscreen.layer_panel.replace_mixed_visibility",svg:o.createElement("div",{className:s8.dY},o.createElement(eg.U,{svg:ce.A},o.createElement(sz,null)))}))),o.createElement("div",{className:s8.I0},o.createElement(a9.L,{nodeField:a6.R.VISIBLE,currentValue:e.visible})),(0,u.kc)().prototype_expressions_nodefields?P.VISIBLE&&o.createElement(sX.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},o.createElement(s4.y3,{targetVariableData:P.VISIBLE.isMixed?void 0:P.VISIBLE,onClick:()=>{w(S.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:P.VISIBLE.isMixed}),o.createElement(tB.K,{onClick:()=>T(),"aria-label":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ey.Ib.TEXT,recordingKey:"detachVisibilityVariable"},o.createElement(eg.U,{svg:s9.A},o.createElement(sW.U,null)))):N&&!g&&o.createElement(sX.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},o.createElement(sj.P,{value:I||(0,F.t)("fullscreen.mixed"),isStandalone:!0,styleOverride:{width:"auto"},isDeleted:!!k&&(0,iR.eF)(k)}),o.createElement(tB.K,{onClick:()=>T(),"aria-label":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ey.Ib.TEXT,recordingKey:"detachVisibilityVariable"},o.createElement(eg.U,{svg:s9.A},o.createElement(sW.U,null)))),o.createElement(r2.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}))))}function cn(){let{consumedVariable:e}=(0,rU.u3)(["VISIBLE"]),t=cr(),n=(0,lN.u)(t);return!!e&&!!n}let cl=()=>(0,iN.JV)(["VISIBLE"],Q.rXF.BOOLEAN,void 0,{requestedTypes:[Q.rXF.BOOLEAN,Q.rXF.FLOAT,Q.rXF.STRING],variableFilters:{[sQ.t.MUST_INCLUDE_ONE_OF]:{[Q.rXF.STRING]:s3.O4},[sQ.t.HIDE_IN_DEFAULT_VIEW]:{[Q.rXF.FLOAT]:!0}},mapVariableIdToTypedValue:iN.eT});function cr(){let e;let{consumedVariable:t}=(0,rU.u3)(["VISIBLE"]);if(t){if((0,J.hS)(t)&&t.type===Q.Z_n.ALIAS)e=t.value;else if((0,J.hS)(t)&&t.type===Q.Z_n.EXPRESSION){for(let n of(0,iR.Pr)(t))if(n.type===Q.Z_n.ALIAS){e=n.value;break}}}return e}class ca extends sy.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){eR.l7.user("set-opacity",()=>{eA.wt.reportAnyPropertyChange(["opacity"]),e.opacity=t})}}let ci=new ca,co=(0,ie.Tn)();function cs(e){let t=o.useCallback(e=>{X.Y5.updateSelectionProperties({visible:e})},[]),n=o.useMemo(ie.On,[]),{isDefReferencedBySelection:l,visibilityIsBoundToComponentProp:r}=(0,ts.R)(e=>({isDefReferencedBySelection:!!n(e,a6.R.VISIBLE),visibilityIsBoundToComponentProp:co(e,(0,eO.qd)(e),a6.R.VISIBLE)})),a=(0,lN.SG)(["VISIBLE"]).data??[],[i]=(0,lK.lJ)("visible"),{consumedVariable:s}=(0,rU.u3)(["VISIBLE"]),c=o.useRef(null),[d,p]=cl(),u=cr(),m=(0,lN.u)(u),h=!!s&&!!m,g=h||r||l,E=!h&&!r&&a.length>0,y=i?(0,F.t)("fullscreen.properties_panel.tooltip_hide"):(0,F.t)("fullscreen.properties_panel.tooltip_show"),f=o.createElement("span",{className:s8.RK},o.createElement(r4.B,{disabled:g,visible:i,onChange:t,recordingKey:_.Pt(e,"visibleToggle")})),v=(0,tS.Rt)();return o.createElement("div",{className:s8.RK},o.createElement(iI.JQ,{ref:c,currentFieldValue:!!(0,J.gl)(i)||i,isActive:d,disabled:!E,recordingKey:_.Pt(e,"visibilityVariableControl"),onPickerOpen:()=>p(c.current),dataTestId:"visibility-variable-control"},v?o.createElement(tE.YW,{selected:!g&&!i,disabled:g,recordingKey:_.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control","data-tooltip":y,"data-tooltip-type":ey.Ib.TEXT},f):f))}function cc(){let{consumedVariable:e,clearVariableConsumption:t}=(0,rU.u3)(["VISIBLE"]),n=cr(),l=(0,lN.u)(n),r=null==l?void 0:l.name,a=!!e&&!!l,i=o.useMemo(ie.Tn,[]),s=(0,ts.R)(e=>i(e,(0,eO.qd)(e),a6.R.VISIBLE));return!a||s?null:o.createElement(tw.DE,{input:o.createElement(sj.P,{value:r||(0,F.t)("fullscreen.mixed"),isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!l&&(0,iR.eF)(l)}),icon:o.createElement(tB.K,{onClick:()=>t(),"aria-label":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ey.Ib.TEXT,recordingKey:"detachVisibilityVariable"},o.createElement(sW.U,null)),label:null})}var cd=n(832358);let cp=new sq.SU;class cu extends an.c${}class cm extends an.l6{renderInput(){return o.createElement(tB.K,{recordingKey:(0,_.Pt)(this.props.recordingKey,"blendMode"),"aria-label":(0,F.t)("properties.dropdown.apply_blend_mode"),onClick:this.onMouseDown,actionOnPointerDown:!0,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("properties.dropdown.apply_blend_mode")},o.createElement(cd.M,{value:this.props.property,normalIsActive:!0}))}}function ch(e){let[t,n]=(0,sJ.sL)(),l=(0,ec.wA)(),r=(0,ll.U)(),a=sJ.j4.map((t,n)=>"SELECT_DIVIDER"===t?o.createElement(an.sK,{key:n}):o.createElement(cu,{key:n,value:t,recordingKey:_.Pt(e,"blendMode",t)}));return o.createElement(cm,{id:"layer-blend-mode-select",className:"selection_blend_mode_icon_button--container--Wv9Hd",dropdownClassName:"selection_blend_mode_icon_button--blendModeSelectDropdown--WcwN1 blend_mode_select--blendModeSelectDropdown--jlg6p",property:t,onChange:n,formatter:cp,dispatch:l,dropdownShown:r,onMouseDown:Y.dG,minTop:6,recordingKey:_.Pt(e,"blendMode"),enablePreview:!0,dropdownAlignment:"right",willShowDropdown:()=>((0,d.sx)("editor-blend-mode-dropdown-show"),Promise.resolve())},a)}function cg(e){let t=(0,ix.Df)(),n=(0,a3.C)("fpl_dialog_trigger"),l=(0,ix.Jo)(),r=(0,lF.k)("corner-smoothing"),[a]=(0,lK.lJ)("rectangleCornerRadiiIndependent"),i=(0,lK.kl)("visible"),s=!l.rectangleCornerRadii,p=t.cornerRadius,[m,h]=o.useState(null),[g]=(0,lK.lJ)("opacity"),E=t.rectangleCornerRadii,y=t.rectangleCornerRadii&&!!m,f=!l.cornerRadius,v=f||s,b=(0,o.useRef)(null),S=o.useRef(null),w=cn(),T=o.useMemo(ie.On,[]),{isDefReferencedBySelection:P,selectedGUIDs:C}=(0,ts.R)(e=>({isDefReferencedBySelection:!!T(e,a6.R.VISIBLE),selectedGUIDs:(0,eO.qd)(e)})),k=o.useCallback((e,t)=>{X.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!P&&X.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[P]),I=(0,o.useCallback)(()=>{r.hide(),X.Y5.deselectProperty()},[r]),N=(0,ec.wA)(),A=o.useCallback(()=>{(0,u.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,J._W)(a,!1)}),!y&&b.current?h((0,ef.cn)(b.current,parseInt(iB,10))):h(null)},[a,y]);return o.createElement(eK.Zk,null,o.createElement(tH.Wv,{titleTx:o.createElement(F.Tx,{id:"fullscreen.appearance_panel.appearance"})},!w&&o.createElement(a8.yQ,{nodeField:a6.R.VISIBLE,defaultValue:i,guids:C}),o.createElement(rj,{recordingKey:"frameLevel"}),o.createElement(rY,{showLibrarySets:!1,recordingKey:"frameLevel"}),o.createElement(cs,null),o.createElement(ch,{recordingKey:e.recordingKey})),o.createElement(tw.fn,{ref:b,leftInput:o.createElement(rV.Pd,{inputClassName:"appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",ui3RightJustifyPercentSign:!1,isTokenizable:!0,value:g,onValueChange:k,mixedMathHandler:cE,dispatch:N,recordingKey:_.Pt(e,"opacity"),forwardedRef:S},o.createElement(a2.N,{className:c()("appearance_panel--inputIcon--GE30W","appearance_panel--opacityIcon--QNhMv")})),rightInput:p?o.createElement(iW,{recordingKey:e.recordingKey,disabled:y||f}):null,icon:p?E?o.createElement(tc.E,{name:"independent_corner_radius_toggle"},n?o.createElement(a7.d,{actionOnPointerDown:!0,toggled:y,onClick:A,"aria-label":(0,F.t)("fullscreen.properties_panel.transform_panel.independent_corners"),disabled:v,recordingKey:_.Pt(e,"rectangleCornerToolIndependentToggle")},o.createElement(a4,null)):o.createElement(eK.YW,{selected:y,onClick:A,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:_.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:v},o.createElement(a4,null))):o.createElement(eK.YW,{onMouseDown:e=>i0(r,b,e),recordingKey:_.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:r.showing,disabled:f},o.createElement(lM.J,null)):null,leftLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_appearance.label_opacity"}),rightLabel:p?o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.corner_radius"}):null}),t.fixedFrameOptions&&o.createElement(i6,{recordingKey:e.recordingKey}),(t.count||t.starInnerScale)&&o.createElement(sH,{countShown:t.count,countDisabled:!l.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!l.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&o.createElement(sB,{arcDataDisabled:!l.arcData,recordingKey:e.recordingKey}),o.createElement(a9.L,{nodeField:a6.R.VISIBLE,currentValue:i}),o.createElement(r2.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),o.createElement(cc,null),y&&m&&o.createElement(iV,{initialPosition:m,onClose:A,recordingKey:_.Pt(e,"advanced")}),r.showing&&o.createElement(ih,{initialPosition:r.initialPosition,onClose:I,recordingKey:_.Pt(e,"advanced")}))}let cE=new ca;var c_=n(237086);let cy="mask_panel--maskTypeDropdown--3Etsx";class cf extends an.l6{}class cv extends an.c${}class cb extends o.PureComponent{constructor(){super(...arguments),this.onMaskTypeChange=(e,t=ic.zk.YES)=>{X.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})},this.maskTypeFormatter={format:e=>{switch(e){case"ALPHA":return(0,F.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,F.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,F.t)("fullscreen.mask_panel.luminance")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,F.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,F.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,F.t)("fullscreen.mask_panel.luminance_extended")}}}},this.stopPropagation=e=>e.stopPropagation()}render(){let e=o.createElement(eK.fI,null,o.createElement(cf,{id:"mask-type-dropdown",className:cy,property:this.props.maskType,formatter:this.maskTypeFormatter,onChange:this.onMaskTypeChange,dispatch:this.props.dispatch,dropdownClassName:cy,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:_.Pt(this.props,"maskType"),enablePreview:!0},o.createElement(cv,{value:"ALPHA",recordingKey:_.Pt(this.props,"maskType","alpha")}),o.createElement(cv,{value:"OUTLINE",recordingKey:_.Pt(this.props,"maskType","outline")}),o.createElement(cv,{value:"LUMINANCE",recordingKey:_.Pt(this.props,"maskType","luminance")})));return o.createElement(b.p,{name:"mask_panel"},o.createElement(eK.Zk,null,o.createElement(eK.fI,null,o.createElement(eK.xw,null,o.createElement(F.Tx,{id:"fullscreen.mask_panel.mask"}))),e))}}cb.displayName="MaskPanel";var cS=n(457206),cw=n(927457),cT=n(536825),cP=n(819785),cC=n(695038);function ck({addProperty:e,children:t,contentsVisibleOrMixed:n,minusDisabled:l,plusDisabled:r,recordingKey:a,removeProperty:i,showButton:s,title:c,dataTestId:d,shouldHideButton:p}){let{version:u}=(0,em.DP)(),m=(0,o.useCallback)(()=>{!1!==n||r||e()},[e,n,r]),h=n===J.oV,g=!h&&!n;null==s&&(s=!0===n?"-":"+");let E="+"===s?o.createElement(tB.K,{as:"button",recordingKey:_.Pt(a,"addButton"),onClick:e,onMouseDown:Y.dG,disabled:r,"aria-label":(0,F.t)("fullscreen.properties_panel.add"),"data-testid":d??""},o.createElement(eg.U,{svg:no.A,fallbackSvg:n4.A},o.createElement(cw.e,null))):o.createElement(tB.K,{as:"button",recordingKey:_.Pt(a,"removeButton"),onClick:i,onMouseDown:Y.dG,disabled:l,"aria-label":(0,F.t)("fullscreen.properties_panel.remove"),"data-testid":d??""},o.createElement(eg.U,{svg:cP.A,fallbackSvg:cC.A},o.createElement(cT.O,null)));return"ui3"===u?o.createElement(o.Fragment,null,c&&o.createElement(tH.iE,{onMouseDown:m,faded:g,titleTx:o.createElement("span",null,c),icon:p?void 0:E}),h&&o.createElement(eK.fI,null,o.createElement(eK.UZ,{className:s6.Pf},o.createElement(F.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!h&&!g&&t):o.createElement(o.Fragment,null,c&&o.createElement(eK.fI,{onMouseDown:m,className:g?s6.et:void 0,recordingKey:_.Pt(a,"panelTitle")},o.createElement(eK.xw,{faded:g,extended:!0},o.createElement("div",{className:s6.yr},c)),o.createElement(eK.$4,null,p?null:E)),h&&o.createElement(eK.fI,null,o.createElement(eK.UZ,{className:s6.Pf},o.createElement(F.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!h&&!g&&t)}class cI extends _.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return o.createElement(b.p,{name:"remove_group_fill_and_stroke_panel"},o.createElement(eK.Zk,null,o.createElement(ck,{title:"Background",addProperty:this.noop,removeProperty:Q.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0},o.createElement(eK.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq"},o.createElement(eK.UZ,{className:"remove_group_fill_and_stroke_panel--label--orOpK"},o.createElement(F.Tx,{id:"fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported"}))))))}}var cN=n(407931),cA=n(534339),cR=n(570573),cO=n(453630),cM=n(918407),cx=n(306413);function cL(e){var t;let n="stroke-settings",[l,r]=(0,m.fp)(cN.GI),a=l.paints||[],i=(0,ec.wA)(),s=o.useContext(nh.zK),c=()=>null!=s,d=o.useRef(null),p=e=>{r({paints:e}),ee.Tm.clearCache()},u=e=>{let{strokeWeight:t,dashPattern:n}=e,l=(0,J.E7)(t);l&&r({strokeWeight:l});let a=(0,J.E7)(n);a&&r({dashPattern:a})},h=e=>{let t=a.filter((t,n)=>!e.has(n));0===t.length&&(t=[a[0]]),p(t)},g=(e,{fromSearch:t}={})=>{i(ik.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},{version:E}=(0,em.DP)(),y=!!l.styleId||a.length>0,f=(null==(t=e.pickerShown)?void 0:t.id)===n,v=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,b=o.createElement(cO.v9,{strokeWeight:l.strokeWeight||cA.qB,onChange:u,recordingKey:_.Pt(e,"weight")}),S=o.createElement(cM.qR,{className:"ui3"===E?void 0:"pencil_tool_panel--dashCap--OD1E2",dashCap:(0,cM.Hd)(l.strokeCap||"ROUND")||"ROUND",onChange:e=>{r({strokeCap:e})},recordingKey:_.Pt(e,"dashCap")}),w=o.createElement(eK.YW,{svg:i$.A,fallbackSvg:ij.A,className:"pencil_tool_panel--advancedStroke--1497y",onClick:()=>{var t;if((null==(t=e.pickerShown)?void 0:t.id)===n)i(D.XE());else{if(!d)return;let e=es.findDOMNode(d.current),t=(0,ef.cn)(e);i(D.u1({id:n,initialX:t.x,initialY:t.y}))}},onMouseDown:e=>e.stopPropagation(),selected:f,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:_.Pt(e,"more")});return o.createElement("div",{className:"pencil_tool_panel--pencilPanelContainer--O-fFF"},o.createElement(eK.Zk,null,o.createElement(cS.W4,{title:(0,F.t)("fullscreen.pencil_tool.stroke"),propertyList:a,onChange:p,currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:Q.rrT.STROKE_PRESET,styleType:"FILL",addProperty:()=>{X.Y5.triggerAction("add-stroke-to-selection")},onDeleteProperty:e=>h(e),onReorder:()=>{ee.Tm.clearCache()},renderProperty:(t,n,l,r,s,d,p,u,m)=>{var y;let f=c()?"preview-paint":"paint",v=ee.Tm.getId(n,Q.rrT.STROKE_PRESET,f),b=a.slice(0,n).some(e=>e.visible);return o.createElement(cS.Gg,{key:`paint-${n}`,id:v,index:n,inheritStyleKeyField:"inheritFillStyleKeyForStroke",singletonRow:1===a.length,selectedPropertyType:Q.rrT.STROKE_PRESET,paint:t,selected:e.stylePickerShown.isShown?(null==(y=e.pickerShown)?void 0:y.id)===v:l,isDragging:r,hasFocus:s,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,onChange:d,onApplyStyle:g,onMouseDown:p,onMouseMove:u,onMouseUp:m,onRemovePaint:a.length>1?()=>h(new Set([n])):void 0,hideVisibilityToggle:1===a.length,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:Q.NLJ.VECTOR_PENCIL,colorFormat:e.colorFormat,dispatch:i,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,editModeType:e.editModeType,defaultColor:ee.Em,library:e.library,openFile:e.openFile,recordingKey:_.Pt(e,n),variableScopes:new Set([Q.j0r.STROKE]),isUI3:"ui3"===E,hasVisiblePaintBelow:b})},recordingKey:e.recordingKey,sceneGraphSelection:e.sceneGraphSelection,library:e.library,modalShown:e.modalShown,openFile:e.openFile,inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:l.styleId||null,inheritStyleID:null,selectedStyleProperties:e.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,onToggleListLayout:()=>{i(D.Y({isListLayout:!e.stylePickerListLayout}))},removeAllProperties:null,onApplyStyle:g,defaultColor:ee.rC}),y&&("ui3"===E?o.createElement(tw.fn,{ref:d,leftLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_stroke.label_weight"}),leftInput:b,rightLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_stroke.label_end_cap"}),rightInput:S,icon:w}):o.createElement(eK.fI,{ref:d},b,S,w))),v&&o.createElement("div",{className:"pencil_tool_panel--hintPanel--917wK"},o.createElement(cR.u,{title:(0,F.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:cx.A,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,F.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})),f&&e.pickerShown&&o.createElement(cM._2,{onChange:u,strokePanelMode:Q.yTM.PENCIL,strokePanelTerminalPointCount:2,strokeCap:l.strokeCap||"ROUND",strokeJoin:"ROUND",maxStrokeWeight:l.strokeWeight||cA.qB,dashPattern:l.dashPattern,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,recordingKey:_.Pt(e,"advanced")}))}function cK(e){let t=(0,$.Ku)(),n=(0,ts.R)(e=>{var t;return{currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,openFileKey:(null==(t=e.openFile)?void 0:t.key)||null,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,selectedStyleProperties:e.mirror.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags}});return o.createElement(cL,{...n,...e,colorFormat:t})}var cF=n(740707),cD=n(808584),cH=n(592177),cB=n(395103),cV=n(773667),cU=n(77307),cZ=n(139689),cG=n(151818),cY=n(461364);let cz={[Q.eVK.TOP_LEFT]:"anchor_point_selector--apTopLeft--jsueH",[Q.eVK.TOP_CENTER]:"anchor_point_selector--apTopMiddle--Wp-kD",[Q.eVK.TOP_RIGHT]:"anchor_point_selector--apTopRight--mbC5X",[Q.eVK.MIDDLE_LEFT]:"anchor_point_selector--apMiddleLeft--G-YlO",[Q.eVK.MIDDLE_CENTER]:"anchor_point_selector--apMiddleMiddle--gut-r",[Q.eVK.MIDDLE_RIGHT]:"anchor_point_selector--apMiddleRight--VZnhH",[Q.eVK.BOTTOM_LEFT]:"anchor_point_selector--apBottomLeft--30X3n",[Q.eVK.BOTTOM_CENTER]:"anchor_point_selector--apBottomMiddle--ySpzF",[Q.eVK.BOTTOM_RIGHT]:"anchor_point_selector--apBottomRight--rXs-P"},cW={[Q.eVK.TOP_LEFT]:"top_left",[Q.eVK.TOP_CENTER]:"top_center",[Q.eVK.TOP_RIGHT]:"top_right",[Q.eVK.MIDDLE_LEFT]:"middle_left",[Q.eVK.MIDDLE_CENTER]:"middle_center",[Q.eVK.MIDDLE_RIGHT]:"middle_right",[Q.eVK.BOTTOM_LEFT]:"bottom_left",[Q.eVK.BOTTOM_CENTER]:"bottom_center",[Q.eVK.BOTTOM_RIGHT]:"bottom_right"};function cX(e){let{value:t,anchorPoint:n,onAnchorPointChange:l,disabled:r,dataTestId:a}=e,i=o.useCallback(()=>{l(t)},[l,t]),s=t===n;return o.createElement("button",{className:`anchor_point_selector--anchorPointButton--JCPGp ${cz[t]}`,onClick:i,disabled:r,"data-testid":a},o.createElement("div",{className:c()("anchor_point_selector--anchorPointButtonInner--LSo9Y",{"anchor_point_selector--apButtonActive--eNX6V":s,"anchor_point_selector--disabled--YCcFc":r}),"data-testid":s?`${a}.active`:void 0}))}let cQ=e=>"INPUT"===e.tagName;function c$(e){let{anchorPoint:t,onAnchorPointChange:n,disabled:l,restoreFocusElements:r}=e,[a,i]=o.useState(document.activeElement),s=e=>{n(e),a&&cQ(a)&&(null==r?void 0:r.includes(a))&&a.focus()};return o.createElement("div",{className:c()("anchor_point_selector--anchorPointSelector--ZC9rv",{"anchor_point_selector--anchorPointSelectorDisabled--JScxh":l}),onMouseDown:()=>{i(document.activeElement)}},o.createElement(o.Fragment,null,o.createElement(cX,{disabled:l,value:Q.eVK.TOP_LEFT,anchorPoint:t,onAnchorPointChange:s,dataTestId:`scale_panel.anchor.${cW[Q.eVK.TOP_LEFT]}`}),o.createElement(cX,{disabled:l,value:Q.eVK.TOP_CENTER,anchorPoint:t,onAnchorPointChange:s,dataTestId:`scale_panel.anchor.${cW[Q.eVK.TOP_CENTER]}`}),o.createElement(cX,{disabled:l,value:Q.eVK.TOP_RIGHT,anchorPoint:t,onAnchorPointChange:s,dataTestId:`scale_panel.anchor.${cW[Q.eVK.TOP_RIGHT]}`})),o.createElement(o.Fragment,null,o.createElement(cX,{disabled:l,value:Q.eVK.MIDDLE_LEFT,anchorPoint:t,onAnchorPointChange:s,dataTestId:`scale_panel.anchor.${cW[Q.eVK.MIDDLE_LEFT]}`}),o.createElement(cX,{disabled:l,value:Q.eVK.MIDDLE_CENTER,anchorPoint:t,onAnchorPointChange:s,dataTestId:`scale_panel.anchor.${cW[Q.eVK.MIDDLE_CENTER]}`}),o.createElement(cX,{disabled:l,value:Q.eVK.MIDDLE_RIGHT,anchorPoint:t,onAnchorPointChange:s,dataTestId:`scale_panel.anchor.${cW[Q.eVK.MIDDLE_RIGHT]}`})),o.createElement(o.Fragment,null,o.createElement(cX,{disabled:l,value:Q.eVK.BOTTOM_LEFT,anchorPoint:t,onAnchorPointChange:s,dataTestId:`scale_panel.anchor.${cW[Q.eVK.BOTTOM_LEFT]}`}),o.createElement(cX,{disabled:l,value:Q.eVK.BOTTOM_CENTER,anchorPoint:t,onAnchorPointChange:s,dataTestId:`scale_panel.anchor.${cW[Q.eVK.BOTTOM_CENTER]}`}),o.createElement(cX,{disabled:l,value:Q.eVK.BOTTOM_RIGHT,anchorPoint:t,onAnchorPointChange:s,dataTestId:`scale_panel.anchor.${cW[Q.eVK.BOTTOM_RIGHT]}`})))}let cj=Q.eVK.MIDDLE_CENTER;var cq=((a=cq||{}).TextInput="text-input",a.Selector="selector",a),cJ=((i=cJ||{}).Select="select",i.Input="input",i.Scrub="scrub",i.Width="width",i.Height="height",i);function c0(e,t){return(0,g.xN)(e,0)?((0,y.x1)("clampScaleValue","scale is 0",{originalValue:e,newValue:t}),1):(0,g.qE)(t/e,.01,100)}var c5=n(336417),c1=n(289637),c7=n(971810),c2=n(660339),c4=n(59466);let c3=[.25,.5,.75,1,2,3,4,5,10];class c6 extends c2.a3{}class c8 extends an.c${}let c9=new class{constructor(){this.MAX_SCALE=100,this.MIN_SCALE=.01}parse(e){let t=(0,c7.q)(e),n=(0,c1.O4)(t,1);if(null!==n.value&&isFinite(n.value)){let t=(0,c7.v)(e);return{value:n.value,anchorPoint:null===t?void 0:t}}throw new io.LS("Could not parse input",n.error)}format(e){if(null==e)return"";let t=parseFloat(e.value.toFixed(2));return`${t}x`}getNudgeAmount(e){return e?1:.5}incrementBy(e,t){return{value:e.value+t,anchorPoint:e.anchorPoint}}snap(e,t){return{value:(0,g.YE)(e.value,t),anchorPoint:e.anchorPoint}}clamp(e){return{value:(0,g.qE)(e.value,this.MIN_SCALE,this.MAX_SCALE),anchorPoint:e.anchorPoint}}isEqual(e,t){return e.value===t.value&&e.anchorPoint===t.anchorPoint}},de=o.forwardRef((e,t)=>{let{disabled:n,scale:l,onScaleChange:r,recordingKey:a,onInputKeyDown:i}=e,s=(0,ec.wA)(),c=(0,ec.d4)(e=>e.dropdownShown),d=_.c1(a),p=c3.map((e,t)=>o.createElement(c8,{key:t,value:{value:e},recordingKey:d("scaleInput",e)})),u={smallNudgeAmount:1,bigNudgeAmount:10,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01,"data-tooltip":"","data-tooltip-type":ey.Ib.TEXT,dispatch:s,value:{value:l},onValueChange:(e,t)=>{r(e.value,cJ.Scrub,t),t&&X.Y5.commit()},scrubbingDisabled:n,formatter:c9};return o.createElement(eK.fI,null,o.createElement(c6,{scrubbableControlProps:u,id:"scale-input-fullscreen.scale_panel.scale",forwardedRef:t,className:"scale_row--scaleCombobox--jimxi",property:{value:l},onKeyDown:i,onChange:(e,t,n)=>{r(e.value,n===c2.G7.Input?cJ.Input:cJ.Select,t??ic.zk.NO,e.anchorPoint),t&&X.Y5.commit()},formatter:c9,dispatch:s,dropdownShown:c,onMouseDown:e=>{e.stopPropagation()},recordingKey:d("scaleInput"),disabled:n,svg:c4.A,svgClassName:iZ.QK,ui3Icon:o.createElement(c5.l,null),dropdownWidth:104,dataTestId:"scale_panel.scale"},p))}),dt="scale_width_height_row--condensedWidthHeightRow--VOTEM",dn="scale_width_height_row--condensedScrubbableInput--XxHxl",dl={smallNudgeAmount:.01,bigNudgeAmount:.1,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01};function dr(e){let{disabled:t,scale:n,property:l,selectionRegionsBounds:r,selectionRegionsOriginalBounds:a,onScaleChange:i,recordingKey:s,forwardedRef:c,onKeyDown:d}=e,p="width"===l?cJ.Width:cJ.Height,u=(0,ec.wA)(),m=_.c1(s),h=function(){if(r&&r.length){let e=r[0][l];return r.every(t=>(0,g.xN)(t[l],e,.005))?e:J.oV}return J.oV}(),E=(0,ix.Xs)(),y=(0,J.gl)(h)?dl:{};return o.createElement(rV.$j,{noBorderOnHover:!0,dispatch:u,forwardedRef:c,className:dn,inputClassName:iZ.hF,disabled:t,floatingPointFormat:{maxNumDigits:4},onKeyDown:d,dataTestId:`scale_panel.${l}`,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":"width"===l?(0,F.t)("fullscreen.properties_panel.transform_panel.width"):(0,F.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:m(`${l}Input.input`),min:(0,J.gl)(h)?.01:1,value:h??0,mixedMathHandler:{getValue:()=>n,onChange:(e,t,n)=>{let l=t(e);Number.isNaN(l)||i((0,g.qE)(l,.01,100),p,n)}},onValueChange:(e,t)=>{!Number.isNaN(e)&&h&&h!==J.oV&&a&&a.length&&i(c0(a[0][l],e),p,t)},...E,...y},o.createElement("span",{className:`${iZ.QK} svg`},"width"===l?o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.w"}):o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})))}function da(e){let{widthRef:t,heightRef:n,onWidthInputKeyDown:l,onHeightInputKeyDown:r,...a}=e;return o.createElement(eK.fI,{className:dt},o.createElement(dr,{...a,property:"width",forwardedRef:t,onKeyDown:l}),o.createElement(dr,{...a,property:"height",forwardedRef:n,onKeyDown:r}))}var di=n(889012),ds=n.n(di);let dc="scale_panel--scalePanelRow--Cbovd";var dd=n(630834);let dp=()=>{X.Y5.triggerAction("set-tool-default")};function du(e){let t=(0,ec.d4)(e=>e.mirror.sceneGraphSelection),n=(0,lK.kl)("selectionRegions"),l=(0,J.E7)(n),r=(0,nx.Z)(l),a=o.useRef(0),[i,s]=(0,o.useState)(void 0),c=(0,nx.Z)(i),d=o.useRef(null),p=(0,lK.kl)("selectionResizable"),m=(0,J._W)(p,!1),h=(0,nH.p8)("activeUserAction"),E=(0,nx.Z)(h),y=(0,i9.J2)(Q.Ez5.propertiesPanelState().shownPropertiesPanels),f=(0,nx.Z)(y),[v,b]=(0,o.useState)(!1),S=o.useRef(null),w=o.useRef(null),T=o.useRef(null),P=(0,nH.p8)("currentTool"),C=(0,nx.Z)(P),k=P!==Q.NLJ.SCALE,I=!m||k,[N,A]=(0,o.useState)(cj),R=(0,i9.J2)(Q.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint),O=_.qP(e.recordingKey??"","anchorPointChange",A),[M,x]=(0,o.useState)(void 0),L=(0,o.useCallback)(e=>{void 0===M?x(e):M!==e&&x(null)},[M]),{trackScaleChangeEvent:K,trackScaleToolDismissed:D,trackAnchorPointChange:H}=function(){let e=(0,i8.am)(),t=(0,o.useCallback)(t=>{e("scale_tool_panel_set_value",{key:"height",...t})},[e]),n=(0,o.useMemo)(()=>ds()(t,3e3),[t]),l=(0,o.useCallback)((e,l)=>l?n(e):t(e),[n,t]),r=(0,o.useCallback)(t=>e("scale_tool_panel_set_value",{key:"width",...t}),[e]),a=(0,o.useMemo)(()=>ds()(r,3e3),[r]),i=(0,o.useCallback)((e,t)=>t?a(e):r(e),[a,r]),s=(0,o.useCallback)(t=>e("scale_tool_panel_set_value",{key:"scale",...t}),[e]),c=(0,o.useMemo)(()=>ds()(s,3e3),[s]),d=(0,o.useCallback)((e,t)=>t?c(e):s(e),[c,s]),p=(0,o.useCallback)(t=>e("scale_tool_panel_dismissed",{...t}),[e]);return{trackScaleChangeEvent:d,trackWidthChangeEvent:i,trackHeightChangeEvent:l,trackAnchorPointChange:(0,o.useCallback)(t=>e("scale_tool_set_anchor_point",{...t}),[e]),trackScaleToolDismissed:p}}();(0,o.useEffect)(()=>{h===Q.QOV.RESIZING&&N!==R&&(L(R),O(R))},[h,N,O,L,R]);let[B,V]=(0,o.useState)(1),[U,Z]=(0,o.useState)(!1),[G,Y]=(0,o.useState)(!1),[z,W]=(0,o.useState)(!0),$=(0,o.useCallback)((e,t)=>{i&&i.length&&(Q.glU.setScale(e,t,i.map(e=>({origin:{x:e.x,y:e.y},size:{x:e.width,y:e.height}})),null!==M),Y(!0),L(t))},[i,M,L]);(0,o.useEffect)(()=>{Z(!0)},[t]),(0,o.useEffect)(()=>{!(null==f?void 0:f[Q.ibQ.SCALE_ITEM])&&(null==y?void 0:y[Q.ibQ.SCALE_ITEM])&&Z(!0)},[y,f]);let j=(0,o.useCallback)(()=>G?(Y(!1),!0):h===Q.QOV.RESIZING||h===Q.QOV.DEFAULT&&E===Q.QOV.RESIZING,[h,G,E]);(0,o.useLayoutEffect)(()=>{if(r&&r.length&&l&&l.length&&r.length===l.length)for(let e=0;e<l.length;e++){let{x:t,y:n,width:a,height:i}=l[e].bounds,{x:o,y:s,width:c,height:d}=r[e].bounds;if(c!==a||d!==i){if(!j()&&!U){Z((0,g.xN)(c,a)!==(0,g.xN)(d,i));break}}else if(o!==t||s!==n){L(null);break}}},[r,l,j,L,U]),(0,o.useLayoutEffect)(()=>{let e=!1;if((0,u.kc)().ce_scale_tool_skew&&l){let t=d.current??l.map(e=>(e.bounds.width||1)/(e.bounds.height||1)),n=Q.glU.getSelectionAngleSum();if(l.length===t.length){d.current=[];for(let r=0;r<l.length;++r){let i=(l[r].bounds.width||1)/(l[r].bounds.height||1);(e||(0,cY.o)(i,t[r],1e-4))&&(0,cY.o)(n,a.current,1e-4)||(e=!0),d.current.push(i),a.current=n}}}(e||U)&&(V(1),O(cj),Q.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint.set(cj),x(void 0),s(Q.glU.getSelectionRegionsBounds().map(({origin:e,size:t})=>({x:e.x,y:e.y,width:t.x,height:t.y}))),b(!1),Z(!1))},[U,l,O,R]),(0,o.useLayoutEffect)(()=>{l&&l.length&&i&&i.length&&(l!==r||(0,u.kc)().ce_scale_tool_skew&&i!==c)&&(z?V(c0(i[0].width,l[0].bounds.width)):W(!0))},[c,l,i,r,z]),(0,o.useEffect)(()=>{let e=P===Q.NLJ.SCALE&&C!==Q.NLJ.SCALE;e&&Object.keys(t).length>0&&e&&[Q.QOV.DEFAULT,Q.QOV.SELECTING_TEXT].includes(h)&&S.current&&(S.current.focus(),S.current.select())},[h,P,C,t]),(0,o.useEffect)(()=>{let e=()=>{S.current&&(b(!1),S.current.focus(),S.current.select())};return cG.h.subscribeScaleToolActivated(e),()=>{cG.h.unsubscribeScaleToolActivated(e)}},[]),(0,o.useEffect)(()=>{let e=e=>{e.target!==S.current&&e.target!==w.current&&e.target!==T.current&&b(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let q=(0,o.useCallback)(e=>{let t="Escape"===e.key,n="Enter"===e.key;!v&&(n||t)&&dp()},[v]);return o.createElement(eK.Zk,{"data-testid":`scale_panel.state.${k?"hidden":I?"disabled":"enabled"}`},o.createElement(eK.fI,{className:dc},o.createElement(eK.xw,null,o.createElement(F.Tx,{id:"fullscreen.scale_panel.scale"})),o.createElement(eK.$4,null,o.createElement(tB.K,{onClick:()=>{dp(),D({selectionCount:Object.keys(t).length})},"aria-label":(0,F.t)("fullscreen.scale_panel.close")},o.createElement(eg.U,{svg:dd.default,fallbackSvg:dd.default},o.createElement(cZ.A,null)))),o.createElement(c$,{restoreFocusElements:[S.current,w.current,T.current].filter(Boolean),anchorPoint:N,onAnchorPointChange:eR.nc.user("change-anchor-point",e=>{e!==N&&(1!==B&&($(1,N),$(B,e)),O(e)),H({anchorPoint:e})}),disabled:I})),o.createElement(de,{scale:B,onInputKeyDown:q,onScaleChange:eR.nc.user("change-scale",(e,t,n,r)=>{V(e),W(!1),void 0!==r&&(0,u.kc)().ee_scale_tool_ap_input?(K({value:e,source:t,anchorPoint:r,anchorPointSource:cq.TextInput}),$(e,r),O(r)):(t===cJ.Select?K({value:e,source:t,anchorPoint:N,anchorPointSource:cq.Selector}):K({value:e,source:t,anchorPoint:N,anchorPointSource:cq.Selector},!0),(0,es.flushSync)(()=>{$(e,N),n&&l&&l.length>1&&Q.glU.logMultiEditActionForSelection("scale_panel_finish",null)}))}),disabled:I,recordingKey:e.recordingKey,ref:S}),o.createElement(da,{scale:B,selectionRegionsBounds:l.map(e=>e.bounds),selectionRegionsOriginalBounds:i,onScaleChange:eR.nc.user("change-scale",(e,t,n)=>{K({value:e,source:t,anchorPoint:N,anchorPointSource:cq.Selector},!0),V(e),W(!1),$(e,N),n&&(l&&l.length>1&&Q.glU.logMultiEditActionForSelection("scale_panel_finish",null),X.Y5.commit())}),widthRef:w,heightRef:T,onHeightInputKeyDown:q,onWidthInputKeyDown:q,disabled:I,recordingKey:e.recordingKey}))}let dm={smallNudgeAmount:.01,bigNudgeAmount:.1,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01};function dh({disabled:e,widthOrHeight:t,scale:n,property:l,onScaleChange:r,onWidthOrHeightChange:a,recordingKey:i,forwardedRef:s,onKeyDown:c}){let d="width"===l?cJ.Width:cJ.Height,p=(0,ec.wA)(),u=(0,ix.Xs)(),m=(0,J.gl)(t)?dm:{},h=_.c1(i);return o.createElement(rV.$j,{noBorderOnHover:!0,dispatch:p,forwardedRef:s,className:dn,inputClassName:iZ.hF,disabled:e,floatingPointFormat:{maxNumDigits:4},onKeyDown:c,dataTestId:`scale_panel.${l}`,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":"width"===l?(0,F.t)("fullscreen.properties_panel.transform_panel.width"):(0,F.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:h(`${l}Input.input`),min:(0,J.gl)(t)?.01:1,value:t||0,mixedMathHandler:{getValue:()=>n,onChange:(e,t,n)=>{let l=t(e);Number.isNaN(l)||r(l,d,n)}},onValueChange:(e,n)=>{!Number.isNaN(e)&&t&&t!==J.oV&&a(e,n)},...u,...m},o.createElement("span",{className:`${iZ.QK} svg`},"width"===l?o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.w"}):o.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})))}function dg({width:e,height:t,onWidthChange:n,onHeightChange:l,onWidthInputKeyDown:r,onHeightInputKeyDown:a,widthInputRef:i,heightInputRef:s,...c}){return o.createElement(eK.fI,{className:dt},o.createElement(dh,{...c,property:"width",widthOrHeight:e,onWidthOrHeightChange:n,onKeyDown:r,forwardedRef:i}),o.createElement(dh,{...c,widthOrHeight:t,onWidthOrHeightChange:l,onKeyDown:a,property:"height",forwardedRef:s}))}let dE=n(630834);function d_(){X.Y5.triggerAction("set-tool-default")}function dy({recordingKey:e}){let t=(0,i9.J2)(Q.yFm.state().scale),n=eR.nc.user("change-scale",e=>{Q.yFm.setScale(e)}),l=(0,i9.J2)(Q.yFm.state().width);l="number"==typeof l?l:J.oV;let r=eR.nc.user("change-scale-width",e=>{Q.yFm.setWidth(e)}),a=(0,i9.J2)(Q.yFm.state().height);a="number"==typeof a?a:J.oV;let i=eR.nc.user("change-scale-height",e=>{Q.yFm.setHeight(e)}),s=(0,i9.J2)(Q.yFm.state().anchorPoint),c=eR.nc.user("change-anchor-point",e=>{Q.yFm.setAnchorPoint(e)}),{handleKeyDown:d,heightInputRef:p,scaleInputRef:u,widthInputRef:m}=function(){let e=(0,ec.d4)(e=>e.mirror.sceneGraphSelection),[t,n]=o.useState(!1),l=o.useRef(null),r=o.useRef(null),a=o.useRef(null),i=(0,nH.p8)("currentTool"),s=(0,nx.Z)(i),c=(0,nH.p8)("activeUserAction"),[d,p]=o.useState(!1);o.useEffect(()=>{let t=i===Q.NLJ.SCALE&&s!==Q.NLJ.SCALE;Object.keys(e).length>0&&t&&[Q.QOV.DEFAULT,Q.QOV.SELECTING_TEXT].includes(c)&&l.current&&(l.current.focus(),l.current.select())},[c,i,s,e]),o.useEffect(()=>{let e=()=>{l.current&&(n(!1),p(!1),l.current.focus(),l.current.select())};return cG.h.subscribeScaleToolActivated(e),()=>{cG.h.unsubscribeScaleToolActivated(e)}},[]),o.useEffect(()=>{let e=e=>{e.target!==l.current&&e.target!==r.current&&e.target!==a.current&&n(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let u=o.useCallback(e=>{let n="Escape"===e.key,l="Enter"===e.key;!t&&(l||n)&&p(!0)},[t]);return o.useEffect(()=>{d&&d_()}),{handleKeyDown:u,scaleInputRef:l,widthInputRef:r,heightInputRef:a}}();return o.createElement(eK.Zk,null,o.createElement(eK.fI,{className:dc},o.createElement(eK.xw,null,o.createElement(F.Tx,{id:"fullscreen.scale_panel.scale"})),o.createElement("span",null,o.createElement(tB.K,{onClick:d_,"aria-label":(0,F.t)("fullscreen.scale_panel.close")},o.createElement(eg.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:dE,fallbackSvg:dE}))),o.createElement(c$,{restoreFocusElements:[u.current,m.current,p.current].filter(Boolean),anchorPoint:s,onAnchorPointChange:c,disabled:!1})),o.createElement(de,{scale:t,onScaleChange:n,disabled:!1,onInputKeyDown:d,recordingKey:e,ref:u}),o.createElement(dg,{scale:t,width:l,height:a,onWidthChange:r,onHeightChange:i,onScaleChange:n,onKeyDown:d,widthInputRef:m,heightInputRef:p,disabled:!1,recordingKey:e}))}var df=n(761238);let dv="alignment_view_v4--indicator--VmKfE",db="alignment_view_v4--indicatorBaseline--4kxfb",dS="alignment_view_v4--counterCenter--MlF9q";function dw({onClick:e,onDoubleClick:t,onHover:n,...l}){let r=(0,os.rO)(l.stackPrimaryAlignItems),a="BASELINE"===l.stackCounterAlignItems,i="HORIZONTAL"===l.stackMode?"HORIZONTAL":"VERTICAL",s="WRAP"===l.stackWrap,d="HORIZONTAL"===i?"alignment_view_v4--horizontal--UiniT":"alignment_view_v4--vertical--JVrRJ",p=r?"alignment_view_v4--spaceBetween--RZOdp":"alignment_view_v4--packed--MZMpk",u=(0,J.hS)(l.stackPrimaryAlignItems)&&(0,J.hS)(l.stackCounterAlignItems),m=l.primaryHover&&l.counterHover,h=(0,o.useCallback)(e=>{let[n,l]=dR(e.target);if(r){let t=e.target.getBoundingClientRect();"HORIZONTAL"===i?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,r,i]),g=(0,o.useCallback)(e=>n(...dR(e.target)),[n]),E=(0,o.useCallback)(e=>n(null,null),[n]);return o.createElement("div",{className:c()(l.className,"alignment_view_v4--mainContainer--zUBsm",d,p,{"alignment_view_v4--baselineAlign--xLTR2":a}),tabIndex:0,onKeyDown:l.onKeyDown},o.createElement(dA,{baseline:a}),o.createElement(dI,{stackMode:i,spaceBetween:r,baselineAlign:a,onMouseMove:g,onMouseOut:E,onClick:e,onDoubleClick:h}),m&&o.createElement(dT,{hover:!0,primaryAlign:l.primaryHover,counterAlign:l.counterHover,isStackWrap:s}),u&&o.createElement(dT,{primaryAlign:l.stackPrimaryAlignItems,counterAlign:l.stackCounterAlignItems,isStackWrap:s}),a&&o.createElement(dk,{onClick:l.onRemoveBaseline}))}function dT({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:l}){return o.createElement("div",{className:c()("alignment_view_v4--indicatorContainer--ewQnB alignment_view_v4--_centered--S6qQk",t?dC[t]:void 0,n?dP[n]:void 0,{"alignment_view_v4--hover---ncmo":e})},o.createElement("div",{className:c()("alignment_view_v4--indicatorGroup--vlMlW",{"alignment_view_v4--wrap--nsYBR":l})},"BASELINE"===n?(0,os.rO)(t)?o.createElement(o.Fragment,null,o.createElement("div",{className:dv}),o.createElement("span",{className:db},"A"),o.createElement("div",{className:dv})):o.createElement("span",{className:db},"A"):l?o.createElement(o.Fragment,null,o.createElement("div",{className:dv}),o.createElement("div",{className:dv}),o.createElement("div",{className:dv}),o.createElement("div",{className:dv}),o.createElement("div",{className:dv})):o.createElement(o.Fragment,null,o.createElement("div",{className:dv}),o.createElement("div",{className:dv}),o.createElement("div",{className:dv}))))}let dP={MIN:"alignment_view_v4--counterMin--1LPg6",CENTER:dS,MAX:"alignment_view_v4--counterMax--HzBqX",BASELINE:dS},dC={MIN:"alignment_view_v4--primaryMin--DHsQj",CENTER:"alignment_view_v4--primaryCenter--ci9Aj",MAX:"alignment_view_v4--primaryMax--i8kqd",SPACE_EVENLY:"",SPACE_BETWEEN:""};function dk({onClick:e}){let t=dM(),n=dx(),l=2*t/3+2,r=t-9,a=t-5.5;return o.createElement("svg",{className:"alignment_view_v4--baselineControls--cwzcf alignment_view_v4--_centered--S6qQk",width:t,height:t,viewBox:n,fill:"none"},o.createElement("g",{className:"alignment_view_v4--baselineHovered--uY49E","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},o.createElement("rect",{x:"4.5",y:`${l}`,width:`${r}`,height:"14",rx:"2",fill:"var(--color-bg-selected-tertiary, #EDF5FA)"}),o.createElement("line",{x1:"5.5",y1:`${l}`,x2:`${a}`,y2:`${l}`,stroke:"var(--color-bg-brand-hover, #0D99FF)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1 5"}),o.createElement("line",{x1:"5.5",y1:`${l}`,x2:`${a}`,y2:`${l}`,stroke:"var(--color-bg-tertiary, rgba(0, 0, 0, 0.3))",strokeWidth:"2",strokeLinecap:"round"})))}function dI({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i}){let s=dO({stackMode:t,baselineAlign:n,spaceBetween:e});return o.createElement("div",{className:"alignment_view_v4--tooltipGrid--1PH8Z alignment_view_v4--_centered--S6qQk",onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i},s.map((n,l)=>{let r=l%3,a=Math.floor(l/3);return"HORIZONTAL"===t&&e&&(a=r,r=0),o.createElement(dN,{key:l,x:r,y:a,..."string"==typeof n?{tooltip:n}:n})}))}function dN({x:e,y:t,tooltip:n,below:l}){return o.createElement("div",{"data-x":e,"data-y":t,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":n,"data-tooltip-show-above":!l||void 0})}function dA({baseline:e}){let t=dx(),n=dM(),l=n/3,r=`${l}`,a=`${l/2}`,i=e?l:0,s=e?l:n,c=(0,o.useId)();return o.createElement("svg",{width:n,height:n,viewBox:t,fill:"currentColor"},o.createElement("defs",null,o.createElement("pattern",{id:c,width:r,height:r,patternUnits:"userSpaceOnUse"},o.createElement("circle",{cx:a,cy:a,r:"1"}))),o.createElement("rect",{width:"79",height:s,y:i,fill:`url(#${c})`}))}function dR(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}function dO({baselineAlign:e,spaceBetween:t,stackMode:n,isUi3:l}){return e&&t?l?[{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:l},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:l},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:l}]:t?"HORIZONTAL"===n?l?[(0,F.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:l?[(0,F.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}let dM=()=>(0,p.jz)("60px"),dx=()=>{let e=dM();return`0 0 ${e} ${e}`},dL="alignment_view_v4_ui3--indicatorBaseline--NUe6M",dK="alignment_view_v4_ui3--counterCenter--QC-B7";function dF({onClick:e,onDoubleClick:t,onHover:n,...l}){let r=(0,os.rO)(l.stackPrimaryAlignItems),a="BASELINE"===l.stackCounterAlignItems,i="HORIZONTAL"===l.stackMode?"HORIZONTAL":"VERTICAL",s="WRAP"===l.stackWrap,d="HORIZONTAL"===i?"alignment_view_v4_ui3--horizontal--2Shqc":"alignment_view_v4_ui3--vertical--zGQMJ",p=r?"alignment_view_v4_ui3--spaceBetween--o3EAq":"alignment_view_v4_ui3--packed--EvdQi",u=(0,J.hS)(l.stackPrimaryAlignItems)&&(0,J.hS)(l.stackCounterAlignItems),m=l.primaryHover&&l.counterHover,h=(0,o.useCallback)(e=>{let[n,l]=dW(e.target);if(r){let t=e.target.getBoundingClientRect();"HORIZONTAL"===i?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,r,i]),g=(0,o.useCallback)(e=>n(...dW(e.target)),[n]),E=(0,o.useCallback)(e=>n(null,null),[n]);return o.createElement("div",{className:c()(l.className,"alignment_view_v4_ui3--mainContainer---0NcS",d,p,{"alignment_view_v4_ui3--baselineAlign--OxyzT":a}),tabIndex:0,onKeyDown:l.onKeyDown},o.createElement(dz,null),o.createElement(dZ,{stackMode:i,spaceBetween:r,baselineAlign:a,onMouseMove:g,onMouseOut:E,onClick:e,onDoubleClick:h}),m&&o.createElement(dD,{hover:!0,primaryAlign:l.primaryHover,counterAlign:l.counterHover,isStackWrap:s}),u&&o.createElement(dD,{primaryAlign:l.stackPrimaryAlignItems,counterAlign:l.stackCounterAlignItems,isStackWrap:s}),a&&o.createElement("div",{className:"alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},o.createElement(dU,{onClick:l.onRemoveBaseline})))}function dD({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:l}){function r(){let e=(0,os.rO)(t);if("BASELINE"===n)return e?o.createElement(o.Fragment,null,o.createElement("span",{className:dL},"A"),o.createElement("span",{className:dL},"A"),o.createElement("span",{className:dL},"A")):o.createElement("span",{className:dL},"A");let r=l&&!e?5:3;return o.createElement(dH,{n:r})}return o.createElement("div",{className:c()("alignment_view_v4_ui3--indicatorContainer--napq- alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",t?dV[t]:void 0,n?dB[n]:void 0,{"alignment_view_v4_ui3--hover--ypG6x":e})},"BASELINE"===n?r():o.createElement("div",{className:"alignment_view_v4_ui3--indicatorGridCell--lp1lH"},o.createElement("div",{className:c()("alignment_view_v4_ui3--indicatorGroup--urXG2",{"alignment_view_v4_ui3--wrap--JWwtI":l})},r())))}function dH({n:e}){return o.createElement(o.Fragment,null,Array.from({length:e},(e,t)=>o.createElement("div",{key:t,className:"alignment_view_v4_ui3--indicator--82j5F"})))}let dB={MIN:"alignment_view_v4_ui3--counterMin--aOx1R",CENTER:dK,MAX:"alignment_view_v4_ui3--counterMax--cCtqr",BASELINE:dK},dV={MIN:"alignment_view_v4_ui3--primaryMin--Q8O6a",CENTER:"alignment_view_v4_ui3--primaryCenter--RzFRC",MAX:"alignment_view_v4_ui3--primaryMax--eMvqL",SPACE_EVENLY:"",SPACE_BETWEEN:""};function dU({onClick:e}){return o.createElement("button",{className:"alignment_view_v4_ui3--baselineControls--xazGW alignment_view_v4_ui3--_centered--MV2if","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},o.createElement("div",{className:"alignment_view_v4_ui3--baselineControlLine--6BBmA"}))}function dZ({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i}){let s=dO({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:(0,tS.Rt)()});return o.createElement("div",{className:"alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",onMouseMove:l,onMouseOut:r,onClick:void 0,onMouseUp:a,onDoubleClick:i},"HORIZONTAL"===t&&n&&e?o.createElement(dG,{tooltips:s}):s.map((n,l)=>{let r=l%3,a=Math.floor(l/3);return"HORIZONTAL"===t&&e&&(a=r,r=0),o.createElement(dY,{key:l,x:r,y:a,..."string"==typeof n?{tooltip:n}:n})}))}function dG({tooltips:e}){let t=(0,o.useId)(),n=e[0];return null==n?null:o.createElement(o.Fragment,null,o.createElement("div",{"data-tooltip-proxy-element-id":t}),o.createElement(dY,{id:t,x:1,y:1,..."string"==typeof n?{tooltip:n}:n}),o.createElement("div",{"data-tooltip-proxy-element-id":t}))}function dY({id:e,x:t,y:n,tooltip:l,below:r}){return o.createElement("div",{id:e,"data-x":t,"data-y":n,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":l,"data-tooltip-show-above":!r||void 0})}function dz(){return o.createElement("div",{className:"alignment_view_v4_ui3--dotGrid--N6RPe alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},Array.from({length:9},(e,t)=>o.createElement("div",{className:"alignment_view_v4_ui3--dotGridCell--r7m5y",key:t},o.createElement("div",{key:t,className:"alignment_view_v4_ui3--dot--d5NQx"}))))}function dW(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}var dX=n(358106);let dQ=["MIN","CENTER","MAX"];function d$({className:e,recordingKey:t}){let n=(0,lK.kl)("stackMode"),l=(0,lK.kl)("stackWrap"),[r,a]=(0,lK.lJ)("stackPrimaryAlignItems"),[i,s]=(0,lK.lJ)("stackCounterAlignItems"),[c,d]=(0,o.useState)(void 0),[p,u]=(0,o.useState)(void 0),m=(0,dX.sR)(),E=(0,dX.uV)(),y=(0,i8.am)(),f=(0,tS.Rt)(),v=(0,os.rO)(r),b="BASELINE"===i,S=(0,o.useCallback)((e,t)=>{if(null==e||null==t){d(void 0),u(void 0);return}let l=dj(e,t,n,v),r=dq(e,t,n,b);d(l),u(r)},[n,b,v,d,u]),w=_.rf(t,"click",(0,o.useCallback)(e=>{let t=c,n=p;e&&e.__interactionTest&&(t=e.primaryAlignItems,n=e.counterAlignItems),t&&n&&(v||a(t,ic.zk.NO),s(n),y("Autolayout alignment grid used"))},[c,p,v,s,y,a]),{recordMetadata:()=>({primaryAlignItems:c,counterAlignItems:p}),playbackMetadata:e=>({...e,__interactionTest:!0})}),{clearVariableConsumption:T}=(0,sv.O)("STACK_SPACING",Q.rXF.FLOAT),P=(0,o.useCallback)((e,t)=>{E(void 0===t||t,e,ic.zk.NO),T()},[E,T]),C=(0,o.useCallback)((e,t)=>{if(v){E(!1,"alignment double click",ic.zk.NO);let l=dj(e,t,n,!1),r=dq(e,t,n,b);d(l),u(r),a(l,ic.zk.NO),s(r),y("Autolayout spacing mode changed",{mode:l,doubleClick:!0})}else P("alignment double click"),s(dq(e,t,n,b))},[P,b,v,s,a,E,n,y]),k=(0,o.useCallback)(()=>{s("CENTER"),y("Disable baseline alignment",{source:"alignment grid"})},[s,y]),I=_.v_(t,"keydown",(0,o.useCallback)(e=>{function t(e){"HORIZONTAL"===n?a(e):s(e)}function l(e){"VERTICAL"===n?a(e):s(e)}function o(e,t){if((0,J.gl)(e))return"CENTER";let n=dQ.indexOf(e);if(-1===n)return null;let l=(0,g.qE)(n+t,0,dQ.length-1);return dQ[l]}let c="HORIZONTAL"===n?r:i,d="VERTICAL"===n?r:i;switch(e.keyCode){case h.Uz.ESCAPE:case h.Uz.ENTER:e.currentTarget.blur();break;case h.Uz.UP_ARROW:{let e=o(d,-1);e&&l(e);break}case h.Uz.DOWN_ARROW:{let e=o(d,1);e&&l(e);break}case h.Uz.LEFT_ARROW:{let e=o(c,-1);e&&t(e);break}case h.Uz.RIGHT_ARROW:{let e=o(c,1);e&&t(e);break}case h.Uz.B:"HORIZONTAL"===n&&m("BASELINE"!==i,"alignment keyboard");break;case h.Uz.X:P("alignment keyboard",!(0,os.rO)(r));break;case h.Uz.W:l("MIN");break;case h.Uz.A:t("MIN");break;case h.Uz.S:l("MAX");break;case h.Uz.D:t("MAX");break;case h.Uz.V:l("CENTER");break;case h.Uz.H:t("CENTER");break;default:(0,df.jr)(e,df.W0.YES,df.VA.YES);return}e.preventDefault()},[P,i,r,m,s,a,n])),N=f?o.createElement(dF,{className:e,stackMode:n,stackWrap:l,stackPrimaryAlignItems:r,stackCounterAlignItems:i,onHover:S,onClick:w,onDoubleClick:C,onKeyDown:I,onRemoveBaseline:k,counterHover:p,primaryHover:c}):o.createElement(dw,{className:e,stackMode:n,stackWrap:l,stackPrimaryAlignItems:r,stackCounterAlignItems:i,onHover:S,onClick:w,onDoubleClick:C,onKeyDown:I,onRemoveBaseline:k,counterHover:p,primaryHover:c});return o.createElement(tc.E,{name:"alignment_view"},N)}function dj(e,t,n,l){return l?(0,u.kc)().ce_stack_justify_space_between?"SPACE_BETWEEN":"SPACE_EVENLY":dQ["VERTICAL"===n?t:e]}function dq(e,t,n,l){return l?"BASELINE":dQ["VERTICAL"===n?e:t]}var dJ=n(627180),d0=n(187570),d5=n(346532),d1=n(194646),d7=n(91609);function d2({onClick:e,onOpen:t,modalKey:n,...l}){let r=(0,ec.wA)(),a=(0,lF.X)(),i=(0,o.useRef)(null),s=(0,tS.Rt)(),c=(null==a?void 0:a.id)===n,d=(0,nx.Z)(c),p=c?new N.Mi(a.initialX,a.initialY):null,u=(0,o.useRef)(l.onClose);u.current=l.onClose,(0,o.useEffect)(()=>{var e;d&&!c&&(null==(e=u.current)||e.call(u))},[c,d]),(0,o.useEffect)(()=>()=>{var e;return null==(e=u.current)?void 0:e.call(u)},[]);let m=(0,o.useCallback)(()=>{c&&(r(D.XE()),X.Y5.deselectProperty())},[r,c]),h=(0,o.useCallback)(()=>{if(c)return;e||null==t||t();let{top:l}=es.findDOMNode(i.current).getBoundingClientRect();r(D.u1({id:n,initialX:ef.qo,initialY:l}))},[r,c,n,e,t]);(0,o.useEffect)(()=>{null!=l.open&&(l.open?h():m())},[m,h,l.open]);let g=o.createElement(tE.YW,{ref:i,svg:l.svg,fallbackSvg:l.fallbackSvg,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":l.tooltip,onMouseMove:()=>{c&&r(d7.jD())},onMouseDown:e??(e=>{e.stopPropagation(),c?m():h()}),recordingKey:_.Pt(l,"trigger"),selected:c,className:l.buttonClassName},s?l.ui3Icon:void 0),E=l.buttonInteractableName?o.createElement(tc.E,{name:l.buttonInteractableName},g):g,y=c?o.createElement(e8.vx,{title:l.title,initialPosition:p,initialConstraints:{x:"right",y:"top"},headerSize:"small",onClose:m,recordingKey:_.Pt(l,"modal")},l.children):null,f=y&&l.modalTrackableName?o.createElement(b.p,{name:"stack_layout_details_modal"},y):y;return o.createElement(o.Fragment,null,E,f)}var d4=n(290850),d3=n(22852),d6=n(578768),d8=n(946650);let d9="stack_layout_details_preview--stroke--tWkNh",pe="stack_layout_details_preview--strokeLight--RsPk7",pt="stack_layout_details_preview--fill--V74cf",pn="stack_layout_details_preview--fillWhite--uTjlG",pl="stack_layout_details_preview--fillTertiary--xuwqQ",pr={reverseStackingOrder:function({enabled:e}){let t=[o.createElement("g",{key:"1",filter:"url(#reverse-stacking-order-filter)"},o.createElement("rect",{className:pn,x:"67",y:"40",width:"40",height:"40",rx:"20"}),o.createElement("path",{className:pt,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),o.createElement("rect",{className:d9,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),o.createElement("g",{key:"2",filter:"url(#reverse-stacking-order-filter)"},o.createElement("rect",{className:pn,x:"99",y:"40",width:"40",height:"40",rx:"20"}),o.createElement("path",{className:pt,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),o.createElement("rect",{className:d9,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),o.createElement("g",{key:"3",filter:"url(#reverse-stacking-order-filter)"},o.createElement("rect",{className:pn,x:"131",y:"40",width:"40",height:"40",rx:"20"}),o.createElement("path",{className:pt,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),o.createElement("rect",{className:d9,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"}))];return e&&t.reverse(),o.createElement("svg",{width:"240",height:"120",fill:"none"},t,o.createElement("rect",{className:pe,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),o.createElement("defs",null,o.createElement("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dx:"2"}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"}))))},alignToBaseline:function(){return o.createElement("svg",{width:240,height:120,fill:"none"},o.createElement("path",{className:c()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),o.createElement("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh"},o.createElement("path",{className:pt,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),o.createElement("rect",{className:d9,x:46.5,y:38.5,width:43,height:43,rx:1.5})),o.createElement("rect",{className:c()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",d9),x:98.5,y:38.5,width:43,height:43,rx:1.5}),o.createElement("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-"},o.createElement("path",{className:pt,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),o.createElement("rect",{className:d9,x:150.5,y:38.5,width:43,height:43,rx:1.5})),o.createElement("rect",{className:c()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",pe),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))},bordersTakeSpace:function(){return o.createElement("svg",{width:240,height:120,fill:"none"},o.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ"},o.createElement("rect",{className:pl,x:"43",y:"37",width:"48",height:"48",rx:"2"}),o.createElement("rect",{className:pn,x:"49",y:"43",width:"36",height:"36",rx:"2"})),o.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1"},o.createElement("rect",{className:pl,x:"98",y:"37",width:"99",height:"48",rx:"2"}),o.createElement("rect",{className:pn,x:"104",y:"43",width:"87",height:"36",rx:"2"})),o.createElement("rect",{className:c()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",pe),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))}};function pa({setting:e,enabled:t}){let n=e?pr[e]:null;return o.createElement("div",{className:c()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0},n?o.createElement(n,{enabled:t}):o.createElement("div",{className:"stack_layout_details_preview--previewText--0NBYb"},o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.preview"})))}var pi=n(332642),po=n(769502);let ps="seen_stack_spacing_auto_onboarding";function pc(e){let[t,n]=(0,o.useState)(!1),[l,r]=(0,o.useState)({enabled:!1}),a=(0,tS.Rt)();return o.createElement(o.Fragment,null,o.createElement(d2,{title:(0,F.t)("fullscreen.properties_panel.stack_panel.advanced_layout"),tooltip:a?(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_autoLayoutSettings"):(0,F.t)("fullscreen.properties_panel.stack_panel.advanced_layout"),modalKey:"LAYOUT_DETAILS_PICKER",buttonInteractableName:"open_stack_layout_details_modal_button",modalTrackableName:"stack_layout_details_modal",svg:i$.A,ui3Icon:o.createElement(eu.A,null),buttonClassName:po.Sj,recordingKey:e.recordingKey,onClose:()=>{setTimeout(()=>{n(!0)},250)}},o.createElement(pa,{setting:l.setting,enabled:l.enabled}),o.createElement("div",{className:pi.ne},o.createElement(pu,{updatePreview:r,recordingKey:e.recordingKey}),o.createElement(pd,{updatePreview:r,recordingKey:e.recordingKey}),o.createElement(pp,{updatePreview:r,recordingKey:e.recordingKey}))),t&&o.createElement(pg,{onDismiss:()=>n(!1)}))}function pd({updatePreview:e,recordingKey:t}){var n;let l=(0,ec.wA)(),r=(0,ll.U)(),[a,i]=(0,lK.lJ)("stackReverseZIndex"),s=(0,i8.am)(),c=(null==(n=(0,oh.Gq)())?void 0:n.getPrimaryLocale(!0))===og.Xn?120:180,d=!0===a;return o.createElement(tc.E,{name:"stacking_order_control"},o.createElement(d6.L,{label:(0,F.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:d}),onMouseLeave:()=>e({enabled:!1})},o.createElement(an.l6,{id:"reverse-stacking-order-select",dispatch:l,className:pi.Vu,inputClassName:pi.hF,chevronClassName:pi.ai,textAlign:"right",property:a,formatter:pm,onChange:e=>{i(e),s(e?"Enable reverse zIndex":"Disable reverse zIndex")},recordingKey:_.Pt(t,"reverseStackingOrder"),dropdownShown:r,dropdownAlignment:"right",dropdownWidth:c,onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t})},o.createElement(an.c$,{value:!0}),o.createElement(an.c$,{value:!1}))))}function pp({updatePreview:e,recordingKey:t}){let n=(0,lK.kl)("stackMode"),l="BASELINE"===(0,lK.kl)("stackCounterAlignItems"),r="HORIZONTAL"!==n,a=(0,dX.sR)();return o.createElement(tc.E,{name:"baseline_alignment_control"},o.createElement(d8.k,{label:(0,F.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:_.Pt(t,"alignToBaseline"),property:l,disabled:r,onChange:t=>{a(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:l})},onHover:(t,n)=>{e({setting:"ENTER"===n?"alignToBaseline":void 0,enabled:t})},"data-tooltip":r?(0,F.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":ey.Ib.TEXT}))}function pu({updatePreview:e,recordingKey:t}){let n=(0,ec.wA)(),l=(0,ll.U)(),[r,a]=(0,lK.lJ)("bordersTakeSpace"),i=(0,i8.am)(),s=!0===r;return o.createElement(tc.E,{name:"borders_take_space_control"},o.createElement(d6.L,{label:(0,F.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:s}),onMouseLeave:()=>e({enabled:!1})},o.createElement(an.l6,{id:"borders-take-space-select",dispatch:n,className:pi.Vu,inputClassName:pi.hF,chevronClassName:pi.ai,dropdownWidth:168,textAlign:"right",property:s,formatter:ph,onChange:e=>{a(e),i("change_borders_take_space",{enabled:e,source:"modal"})},recordingKey:_.Pt(t,"bordersTakeSpace"),dropdownShown:l,onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t})},o.createElement(an.c$,{value:!0}),o.createElement(an.c$,{value:!1}))))}let pm={format:e=>e?(0,F.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,F.t)("fullscreen.properties_panel.stack_panel.last_on_top")},ph={format:e=>e?(0,F.t)("fullscreen.properties_panel.stack_panel.included"):(0,F.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,F.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,F.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};function pg({onDismiss:e}){let t=(0,ec.wA)();return(0,d1.f)(ps)?null:o.createElement(d4.OA,{targetKey:"stack-spacing-input",shouldNotWrapInParagraphTag:!0,dismissModal:()=>{t(d5.b({[ps]:!0})),e()},background:"light",width:268,title:o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_title"}),secondaryCtaText:o.createElement("a",{href:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between",target:"_blank",style:{textDecoration:"none"}},o.createElement(F.Tx,{id:"general.learn_more"})),onClickSecondaryCta:at.lQ,ctaText:o.createElement(F.Tx,{id:"general.got_it"}),onClickPrimaryCta:e,arrowPosition:e8.F_.RIGHT_TITLE},o.createElement(d3.Gv,{containerClassName:pi.t7,src:"https://static.figma.com/uploads/94241d15e9d47a0c73734ae71850674f78cd4ab0"}),o.createElement("p",{className:pi.En},o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_body1",gapBetweenItems:o.createElement("strong",null,o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_items"}))})),o.createElement("p",{className:pi.En},o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_body2",auto:o.createElement("strong",null,o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto"}))})))}var pE=n(488315);function p_(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.5 7h-2a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 9.5 6h-2Zm9 1h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 13 7.5v2a1.5 1.5 0 0 0 1.5 1.5h2A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6h-2Zm1.5 7.5a.5.5 0 0 0-1 0V15h-1.5a.5.5 0 0 0 0 1H15v1.5a.5.5 0 0 0 1 0V16h1.5a.5.5 0 0 0 0-1H16v-1.5Z",clipRule:"evenodd"}))}function py(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.5 7h-2a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 9.5 6h-2Zm9 1h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 13 7.5v2a1.5 1.5 0 0 0 1.5 1.5h2A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6h-2Zm3.384 8.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function pf(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 7h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5ZM6 7.5A1.5 1.5 0 0 1 7.5 6h2A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-2A1.5 1.5 0 0 1 6 9.5v-2Zm8.5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5Zm-1.5.5A1.5 1.5 0 0 1 14.5 6h2A1.5 1.5 0 0 1 18 7.5v2a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 13 9.5v-2ZM9.5 14h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function pv(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-9-1A1.5 1.5 0 0 0 6 7.5v2A1.5 1.5 0 0 0 7.5 11h9A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6h-9Zm2 8h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function pb(e){let{propertiesPanelShouldShowRemoveAutoLayout:t}=px(),n=t?(0,F.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,F.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:l,actionEnabledUnstackSelection:r}=px(),a=t?r:l,i=(0,o.useCallback)(()=>{X.Y5.triggerActionInUserEditScope(t?"unstack-selection":"stack-selection")},[t]);return o.createElement(tE.YW,{"aria-label":n,"data-tooltip":n,"data-tooltip-type":ey.Ib.TEXT,selected:t,showTooltipWhenSelectedIsTrue:!0,disabled:!a,onClick:i,recordingKey:_.Pt(e.recordingKey,t?"removeButton":"addButton")},o.createElement(pS,null))}function pS(){let e=(0,lK.kl)("stackMode"),t=(0,lK.kl)("stackWrap"),{propertiesPanelShouldShowRemoveAutoLayout:n}=px();if(!n)return o.createElement(p_,null);if((0,J.gl)(e)||null==e||(0,J.gl)(t))return o.createElement(py,null);if("WRAP"===t)return o.createElement(pf,null);switch(e){case"NONE":case"HORIZONTAL":return o.createElement(py,null);case"VERTICAL":return o.createElement(pv,null)}}var pw=n(310515),pT=n(258890),pP=n(996620),pC=n(689606),pk=n(957069),pI=n(733982);function pN(e){return o.createElement(b.p,{name:"stack_panel"},o.createElement(pA,{...e}))}let pA=o.memo(e=>{let{version:t}=(0,em.DP)();return"ui3"===t?o.createElement(pO,{...e}):o.createElement(pR,{...e})});function pR(e){let{showMigrationUi:t,actionEnabledStackSelection:n,actionEnabledUnstackSelection:l,propertiesPanelShouldShowRemoveAutoLayout:r,wrappingEnabled:a}=px();return o.createElement(eK.Zk,null,o.createElement(ck,{title:o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout"}),addProperty:()=>{X.Y5.triggerActionInUserEditScope("stack-selection")},removeProperty:()=>{X.Y5.triggerActionInUserEditScope("unstack-selection")},contentsVisibleOrMixed:e.onlyStacksSelected,showButton:r?"-":"+",minusDisabled:!l,plusDisabled:!n,recordingKey:e.recordingKey,dataTestId:"open-stack-panel"},t?o.createElement(pK,null):o.createElement(o.Fragment,null,o.createElement(eK.fI,{className:a?po.TE:po.mm},o.createElement(pF,{recordingKey:e.recordingKey}),o.createElement("div",{className:po.T$},o.createElement(d$,{recordingKey:_.Pt(e,"alignment")})),o.createElement(pc,{recordingKey:_.Pt(e,"stackLayoutDetails")}),o.createElement(pD,{recordingKey:e.recordingKey}),a&&o.createElement(pH,{recordingKey:e.recordingKey})),o.createElement(pB,{recordingKey:e.recordingKey})),o.createElement(dJ.E,null)))}function pO(e){let t=e.onlyStacksSelected?o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout"}):o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.layout"}),n=(0,i9.J2)(Q.Ez5.propertiesPanelState().shownPropertiesPanels),l=(0,ec.d4)(e=>e.mirror.selectionProperties),r=(0,cD.aW)(n,void 0,l,void 0);return o.createElement(eK.Zk,null,o.createElement(tH.iE,{titleTx:t,icon:r?o.createElement(pb,{recordingKey:e.recordingKey}):void 0}),o.createElement(pM,{...e}))}function pM({onlyStacksSelected:e,onlyShowResizingRow:t,recordingKey:n}){let{showMigrationUi:l,wrappingEnabled:r}=px(),a=(0,o.useRef)(null),i=(0,lK.kl)("nodesAreAllInsideStacks"),s="transformPanel",c=o.createElement(o.Fragment,null,o.createElement(sD,{recordingKey:s,forwardedRef:a}),o.createElement(sb,{visible:!!(e||i),widthHeightRowRef:a})),d=o.createElement(oX,{recordingKey:s});return!e||t?o.createElement(o.Fragment,null,c,d):o.createElement(o.Fragment,null,l?o.createElement(pK,null):o.createElement(o.Fragment,null,c,o.createElement(tw.sY,{topLeftInput:o.createElement(pF,{recordingKey:n}),rightInput:o.createElement(d$,{recordingKey:_.Pt(n,"alignment")}),leftLabel:r?o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_direction"}):o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_direction_and_gap"}),rightLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_alignment"}),bottomLeftInput:r?null:o.createElement(pD,{recordingKey:n}),topIcon:o.createElement(pc,{recordingKey:_.Pt(n,"stackLayoutDetails")}),bottomIcon:null}),r?o.createElement(tw.fn,{leftInput:o.createElement(pD,{recordingKey:n}),rightInput:o.createElement(pH,{recordingKey:n}),icon:null,leftLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_gap"}),rightLabel:null}):null,o.createElement(pB,{recordingKey:n}),d),o.createElement(dJ.E,null))}function px(){return(0,ts.R)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:n,containsStacksNeedingAlignmentMigration:l,stackMode:r,stackWrap:a}}}=e;return{showMigrationUi:l,actionEnabledStackSelection:(0,ei.Yh)(t,"stack-selection"),actionEnabledUnstackSelection:(0,ei.Yh)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:n,wrappingEnabled:("HORIZONTAL"===r||(0,J.gl)(r))&&("WRAP"===a||(0,J.gl)(a))}})}let pL=!1;function pK(){let e;let t=(0,i8.am)(),[n,l]=(0,o.useState)(!1),{isOrInInstance:r,containsComponents:a}=(0,ts.R)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:n,numSelectedByType:l}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||n),containsComponents:!!l&&!!l.SYMBOL}});(0,o.useEffect)(()=>{pL||(t("stack_v2_migration_info_shown"),pL=!0)},[t]),(0,nH.f4)(()=>{l(!1)});let i=(0,o.useCallback)(()=>{let e=Q.AlE.getActiveCanvas();eR.l7.user("update-stack-to-alv3",()=>{Q.Qa7.updateStackToAutoLayoutV3(e,Q.Ez5.bigNudgeAmount())}),X.Y5.triggerAction("commit"),l(!0),t("stack_v2_migration_updated")},[t]),s=(0,o.useCallback)(e=>{X.Y5.triggerActionInUserEditScope("undo"),l(!1)},[]);if(n)return o.createElement(eK.fI,{className:po.A5},o.createElement("span",{className:po.Yv},o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout_updated"})),o.createElement("a",{className:po._V,onClick:s},o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.undo"})));let c=Q.AlE.getActiveCanvas(),d=Q.Qa7.isOrInInstanceWithDeprecatedAlignmentOverride(c);return e=r?d?(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):a?(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),o.createElement(eK.fI,{className:po.A5},o.createElement("div",{className:po.Yv},o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"}),o.createElement(M.B,{className:po.zp,svg:pI.A,"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip":ey.MW.AUTOLAYOUT_V3_MIGRATION_INFO,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})),o.createElement(e5.nR,{onClick:i,className:po.RM,type:"button",disabled:r&&!d},o.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.update"})))}function pF(e){let t=(0,lL.Zr)("unstack-selection"),n=(0,lK.kl)("stackMode"),l=(0,lK.kl)("stackWrap"),{version:r}=(0,em.DP)(),a="ui2"===r?po.N:po.O_;return o.createElement(tc.E,{name:"stack_mode_control"},o.createElement("div",{className:a,"data-onboarding-key":"stack-mode-control"},o.createElement(on.I,{property:"HORIZONTAL"===n&&"WRAP"===l?"WRAP":n,onChange:e=>{(0,d.sx)("Stack Mode Changed",{stackMode:e}),eR.l7.user("set-stack-mode",()=>Q.Qa7.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:_.Pt(e,"stackMode"),disabled:!t},o.createElement(on.Y,{svg:pP.A,value:"VERTICAL",tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.vertical_direction")}),o.createElement(on.Y,{svg:pT.A,value:"HORIZONTAL",tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.horizontal_direction")}),o.createElement(on.Y,{svg:pk.A,value:"WRAP",tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.wrap")}))))}function pD(e){let t=(0,os.Wx)(),n=(0,os.Y9)(),{version:l}=(0,em.DP)(),r="ui2"===l?po.Kz:void 0;return o.createElement(tc.E,{name:"stack_spacing_control"},o.createElement(pw.KI,{outerClassName:r,onFocus:()=>t(Q.RN9.SPACING,!0),onBlur:()=>t(Q.RN9.SPACING,!1),onScrubBegin:()=>t(Q.RN9.SPACING,!0),onScrubEnd:()=>t(Q.RN9.SPACING,!1),onMouseEnter:()=>n(Q.RN9.SPACING,!0),onMouseLeave:()=>n(Q.RN9.SPACING,!1),onNudge:()=>Q.glU.temporarilyHideOverlay(Q.hJs.SELECTION),recordingKey:_.Pt(e,"stackSpacing"),source:"panel",onboardingKey:"stack-spacing-input"}))}function pH(e){let t=(0,os.Wx)(),n=(0,os.Y9)(),{version:l}=(0,em.DP)(),r="ui3"===l?void 0:po.UN;return o.createElement(tc.E,{name:"stack_counter_spacing_input"},o.createElement(d0.q,{outerClassName:r,onFocus:()=>t(Q.RN9.COUNTER_SPACING,!0),onBlur:()=>t(Q.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t(Q.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(Q.RN9.COUNTER_SPACING,!1),onMouseEnter:()=>n(Q.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n(Q.RN9.COUNTER_SPACING,!1),onNudge:()=>Q.glU.temporarilyHideOverlay(Q.hJs.SELECTION),recordingKey:_.Pt(e,"stackCounterSpacing"),inputTestId:"stack-counter-spacing",source:"panel"}))}function pB({recordingKey:e}){let[t,n]=(0,o.useState)(!1),[l,r]=(0,o.useState)(!1),a=(0,pE.U)(),{version:i}=(0,em.DP)();(0,nH.f4)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:l,stackVerticalPadding:r,stackPaddingBottom:i}=e.mirror.selectionProperties,o=(0,J.q)(t,l),s=(0,J.q)(r,i);n((0,J.gl)(o)||(0,J.gl)(s)||a)});let s=(0,i8.am)(),c=o.createElement(ia.m,{svg:pC.A,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),onMouseDown:()=>{n(!t),Q.Qa7.setFocusStackPanelInput(Q.RN9.PADDING_ALL,!1),s(t?"Disable autolayout independent padding":"Enable autolayout independent padding")},recordingKey:_.Pt(e,"showAllPaddingControls"),toggled:t,className:po.NC,dataTestId:"stack-padding-toggle"});return o.createElement(tc.E,{name:"stack_padding_controls"},o.createElement("ui3"===i?pU:pV,{showAllPaddingControls:t,showSinglePaddingControl:l,setShowSinglePaddingControl:r,recordingKey:e,handleClick:function(e){(0,h.Fo)(e)&&r(!0)},showAllPaddingControlsToggle:c}))}function pV({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:l,handleClick:r,showAllPaddingControlsToggle:a}){return o.createElement(eK.fI,{heightMultiplier:e&&!t?2:void 0},t?o.createElement(pZ,{className:po.mR,paddingSelection:os.mx.ALL,onBlur:()=>n(!1),focusOnMount:!0,recordingKey:l}):e?o.createElement(o.Fragment,null,o.createElement(pZ,{className:c()(po.oH,po.aO),paddingSelection:os.mx.LEFT,onClick:r,recordingKey:l,inputTestId:"padding-left"}),o.createElement(pZ,{className:c()(po.oH,po.uH),paddingSelection:os.mx.RIGHT,onClick:r,recordingKey:l,inputTestId:"padding-right"}),o.createElement(pZ,{className:c()(po.T1,po.aO),paddingSelection:os.mx.TOP,onClick:r,recordingKey:l,inputTestId:"padding-top"}),o.createElement(pZ,{className:c()(po.T1,po.uH),paddingSelection:os.mx.BOTTOM,onClick:r,recordingKey:l,inputTestId:"padding-bottom"})):o.createElement(o.Fragment,null,o.createElement(pZ,{className:po.oH,paddingSelection:os.mx.HORIZONTAL,onClick:r,recordingKey:l,inputTestId:"padding-horizontal"}),o.createElement(pZ,{className:po.T1,paddingSelection:os.mx.VERTICAL,onClick:r,recordingKey:l,inputTestId:"padding-vertical"})),a)}function pU({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:l,handleClick:r,showAllPaddingControlsToggle:a}){return t?o.createElement(tw.fn,{leftInput:o.createElement(pZ,{paddingSelection:os.mx.ALL,onBlur:()=>n(!1),focusOnMount:!0,recordingKey:l}),rightInput:null,icon:a,leftLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null}):e?o.createElement(o.Fragment,null,o.createElement(tw.fn,{leftInput:o.createElement(pZ,{paddingSelection:os.mx.LEFT,onClick:r,recordingKey:l}),rightInput:o.createElement(pZ,{paddingSelection:os.mx.TOP,onClick:r,recordingKey:l}),icon:a,leftLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null}),o.createElement(tw.fn,{leftInput:o.createElement(pZ,{paddingSelection:os.mx.RIGHT,onClick:r,recordingKey:l}),rightInput:o.createElement(pZ,{paddingSelection:os.mx.BOTTOM,onClick:r,recordingKey:l}),icon:null,leftLabel:null,rightLabel:null})):o.createElement(tw.fn,{leftInput:o.createElement(pZ,{paddingSelection:os.mx.HORIZONTAL,onClick:r,recordingKey:l,inputTestId:"padding-horizontal"}),rightInput:o.createElement(pZ,{paddingSelection:os.mx.VERTICAL,onClick:r,recordingKey:l,inputTestId:"padding-vertical"}),icon:a,leftLabel:o.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null})}function pZ({className:e,paddingSelection:t,recordingKey:n,inputTestId:l,onClick:r,onBlur:a,focusOnMount:i}){let s=(0,os.Wx)(),c=(0,os.Y9)();return o.createElement(pE.s,{outerClassName:e,paddingSelection:t,focusOnMount:i,onFocus:()=>Q.Qa7.setFocusStackPanelInput(t,!0),onBlur:e=>{Q.Qa7.setFocusStackPanelInput(t,!1),null==a||a(e)},onMouseEnter:()=>c(t,!0),onMouseLeave:()=>c(t,!1),onClick:r,onScrubBegin:()=>s(t,!0),onScrubEnd:()=>s(t,!1),onNudge:()=>Q.glU.temporarilyHideOverlay(Q.hJs.SELECTION),recordingKey:_.Pt(n,"stackPadding",os.mx[t]),inputTestId:l,source:"panel"})}let pG="template-controls-picker";function pY(){let{sceneNodesToEdit:e,description:t}=(0,ts.R)(e=>({sceneNodesToEdit:(0,eO.F4)(e),description:e.mirror.selectionProperties.description})),n="string"==typeof t?t:"",l=o.useCallback(t=>{eR.l7.user("set-description",()=>{for(let n of e)n.setDescriptionRich(t)})},[e]),r=o.useCallback(()=>{X.Y5.commit()},[]);return o.createElement("div",{className:"template_controls_menu--descriptionContainer--pRK0M"},o.createElement(eD,{description:n,isViewOnly:!1,placeholder:(0,F.t)("design_systems.template_panel.template_placeholder"),onBlur:r,onSubmit:l}))}function pz(){let e=(0,ec.wA)(),t=(0,ec.d4)(e=>e.pickerShown),n=new N.Mi(null==t?void 0:t.initialX,null==t?void 0:t.initialY);return(null==t?void 0:t.id)!==pG?null:o.createElement(e8.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:n,initialWidth:320,onClose:()=>{e(D.XE())},scrollOverflow:!1,title:(0,F.t)("design_systems.template_panel.template_controls")},o.createElement(pY,null))}var pW=n(691151);let pX=o.memo(function(){let{containingTemplate:e,pickerShown:t,templateDescription:n}=(0,ts.R)(e=>({containingTemplate:(0,eM._k)(e),pickerShown:e.pickerShown,templateDescription:e.mirror.selectionProperties.description??""})),l=(0,ec.d4)(td.Dr),r=(0,ec.d4)(td.cB),a=o.useRef(null),i=(0,ec.wA)(),s=o.useCallback((e,t,n=ef.qo)=>{if(!a)return;let l=es.findDOMNode(a.current),r=(0,ef.cn)(l,n);i(D.u1({id:t,initialX:r.x,initialY:r.y})),i(B.sw()),i(D.Uv())},[i]),c=o.useCallback(e=>{(null==t?void 0:t.id)===pG?i(D.XE()):s(e,pG,320)},[t,i,s]);return e&&e.isAlive()?o.createElement(eK.Zk,{ref:a},o.createElement(eK.fI,{className:tI.LO},o.createElement(tP.R,{guid:e.guid,value:e.name,canEdit:!0,icon:o.createElement(M.B,{svg:pW.A,className:tN.Kk}),editAction:"rename-template"}),o.createElement("span",{className:tA},o.createElement(tE.YW,{className:tR,selected:(null==t?void 0:t.id)===pG,onClick:c,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.template_panel.template_controls"),svg:tM.A,recordingKey:"templateControls"}))),o.createElement(tT,{description:n}),l&&r&&o.createElement(tb,null),o.createElement(pz,null)):null});function pQ({onExpand:e}){return o.createElement(eK.Zk,{"data-testid":"toggle-simplified-panels"},o.createElement(tf.z,{onClick:e,recordingKey:"toggleSimplifiedPanels"},o.createElement(F.Tx,{id:"design_systems.component_properties.show_more_properties"})))}var p$=n(527395),pj=n(326331),pq=n(143984);function pJ(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.285 5.089a.5.5 0 0 0-.57 0l-6.5 4.5a.5.5 0 0 0 .028.84l2.5 1.5a.5.5 0 1 0 .514-.858L6.422 9.97 12 6.108l5.578 3.862-1.835 1.101a.5.5 0 1 0 .514.858l2.5-1.5a.5.5 0 0 0 .028-.84l-6.5-4.5Zm3.069 9.057-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 .708.708l2.146-2.147V18.5a.5.5 0 0 0 1 0v-5.793l2.146 2.147a.5.5 0 0 0 .708-.708Z",clipRule:"evenodd"}))}var p0=n(989368),p5=n(960889),p1=n(866263),p7=n(897442),p2=n(617067),p4=n(764942),p3=n(842700),p6=n(141205),p8=n(102346),p9=n(971566),ue=n(434807);function ut(e){var t;let n=(0,ll.B)("UI3_PROPERTIES_TOOLBAR_OVEFLOW_DROPDOWN"),l=(0,o.useMemo)(()=>{let t=e.enabledToolbarItems.map(t=>t.map(t=>t.type===p2.ZU.CUSTOM_ACTION?o.createElement(ul,{item:t,key:t.recordingKey,recordingKey:e.recordingKey}):o.createElement(un,{item:t,key:t.recordingKey,recordingKey:e.recordingKey})));return t.reduce((e,n,l)=>(e=e.concat(n),l<t.length-1&&e.push(o.createElement(eh.W.Separator,{key:`separator-${l}`})),e),[])},[e.enabledToolbarItems,e.recordingKey]),r=(0,o.useRef)(null),a=null==(t=r.current)?void 0:t.getBoundingClientRect();return a||(n.showing&&(0,y.$D)(f.e.EDITOR_USABILITY,Error("UI3ToolbarOverflowMenu: dropdownBoundingRect is null")),a=new DOMRect(0,0,0,0)),o.createElement(o.Fragment,null,o.createElement(tE.YW,{recordingKey:_.Pt(e,"toggleOverflowMenu"),selected:n.showing,ref:r,"aria-label":(0,F.t)("fullscreen.properties_panel.tooltip_moreActions"),onClick:n.toggle,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.tooltip_moreActions")},o.createElement(lM.J,null)),n.showing&&o.createElement(eb.Cf,{targetRect:a,showPoint:!1,propagateCloseClick:!1},l))}function un(e){var t,n,l;let{item:r}=e,a=(0,ec.d4)(eO.nj),i=(0,ec.d4)(e=>(0,p4.om)(r,e)),s=(0,ei.Yh)(a,r.action),c=("focus-mode-component-set-toggle"===r.action?null==(n=null==(t=(0,ue.U4)(s,i))?void 0:t.tooltipProps)?void 0:n["data-tooltip"]:null)??((0,p9.Q1)(r.action)||(0,lx.A)(r.action)),d=(0,ei.c1)(a.keyboardShortcuts,r.action),p=p6.VU.get(r.action,"toolbar");return o.createElement(ev.a,{text:c,isEnabled:s,hideCheck:!0,isChecked:!1,onClick:p,key:r.action,shortcut:d,recordingKey:_.Pt(e,r.recordingKey)},(null==(l=(0,p8.bs)(r.action))?void 0:l.ui3Icon)||o.createElement(p3.V,null))}function ul(e){let{item:t,recordingKey:n}=e;return o.createElement(ev.a,{text:t.getTitle(),isEnabled:!0,hideCheck:!0,isChecked:!1,onClick:t.onClick,key:t.recordingKey,recordingKey:_.Pt(n,t.recordingKey)},t.icon)}function ur(e){var t;let n=(0,o.useRef)(null),l=(0,ll.B)(e.flyoutConfig.dropdownKey),r=null==(t=n.current)?void 0:t.getBoundingClientRect(),a=e.flyoutConfig.actions.map(t=>o.createElement(un,{item:t,key:t.action,recordingKey:_.Pt(e.recordingKey,"flyout")}));r||(l.showing&&(0,y.$D)(f.e.EDITOR_USABILITY,Error("UI3MultiSelectFlyoutActions: dropdownBoundingRect is null")),r=new DOMRect(0,0,0,0));let i=(0,U.n6)(),s=e.flyoutConfig.actions[0];return o.createElement(o.Fragment,null,o.createElement("div",{className:"ui3_multiselect_flyout_actions--iconAndChevronContainer--zXnfO"},o.createElement(p4.QE,{key:s.recordingKey,item:s,numUnreadComments:i,recordingKey:s.recordingKey}),e.flyoutConfig.actions.length>1&&o.createElement(tE.YW,{recordingKey:_.Pt(e.recordingKey,"chevron"),className:"ui3_multiselect_flyout_actions--chevron--JPONb",selected:l.showing,ref:n,"aria-label":e.flyoutConfig.getTooltip(),onMouseDown:l.toggle,"data-tooltip-type":ey.Ib.TEXT,onClick:Y.dG,"data-tooltip":e.flyoutConfig.getTooltip()},o.createElement(nW.O,null))),l.showing&&o.createElement(eb.Cf,{targetRect:r,showPoint:!1,propagateCloseClick:!0},a))}let ua=Symbol("uniqueSymbol"),ui={dropdownKey:"component_actions",getTooltip:()=>(0,F.t)("fullscreen.selection_actions.tooltip_component_actions"),actions:[p2.$L,p2.Fx,p2.TA],flyoutRecordingKey:"createSymbolFlyout",[ua]:"UnfilteredFlyoutConfig"},uo={dropdownKey:"boolean_operations",getTooltip:()=>(0,F.t)("fullscreen.selection_actions.tooltip_boolean_operations"),actions:[p2.JR,p2.Ce,p2.hm,p2.h4,p2.zO],flyoutRecordingKey:"booleanFlyout",[ua]:"UnfilteredFlyoutConfig"};function us(){let e=(0,ec.d4)(e=>e.mirror.selectionProperties.numSelected)??0,t=uc();return e<2?[]:[ui,uo].map(t).filter(Boolean)}let uc=()=>{let e=(0,p4.z2)(),t=(0,p4.PK)();return n=>{let l=n.actions.filter(n=>e(n)&&t(n));return 0===l.length?null:{...n,actions:l,[ua]:"FilteredFlyoutConfig"}}};var ud=n(860743);function up({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t,recordingKey:n}){var l,r;let a=(0,tS.Rt)(tS.G1.READY),i=(0,i9.J2)(Q.Ez5.editorState().selectionEmpty),s=(0,p5.s)(!1),d=um(),p=us(),u=ug(),m=(0,lK.kl)("containsResponsiveSets"),h=(0,lK.kl)("containsSitesLayouts"),g=(0,$.qw)(),E=(0,o.useRef)(null),y=(0,o.useRef)(null),f=Math.max(1,Math.min(4,Math.floor((g-((null==(l=E.current)?void 0:l.clientWidth)??0)-((null==(r=y.current)?void 0:r.clientWidth)??0))/40))-p.length),v=u.length>f||d.flat().find(e=>e.type===p2.ZU.CUSTOM_ACTION),S=v?u.slice(0,f-1):u,{topLevelMode:w,editMode:T}=(0,ts.R)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),P=(0,ec.d4)(e=>{let t=e.modalShown;return(null==t?void 0:t.type)===p7.e}),C=(0,nB.q5)(),k=(0,nH.aV)(),I=(0,j.ck)(),N=T===Q.m1T.COMMENTS||T===Q.m1T.PREVIEW||T===Q.m1T.BRANCHING||w===Q.lyf.HISTORY||w===Q.lyf.PREVIEW||w===Q.lyf.DEV_HANDOFF||w===Q.lyf.BRANCHING,A=(0,p1.ow)(),R=!!(null==C?void 0:C.isTryFile)&&!P&&!k&&I,O=w===Q.lyf.DEV_HANDOFF&&s,M=(0,U.n6)(),x=uf({shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e}),{count:L,node:K}=u_();return!P&&(A||i||N||k)&&!O||A||R||0===d.length?null:o.createElement(b.p,{name:"layer_header_bar"},o.createElement(eK.Zk,{"data-testid":"property-panel-toolbar",className:c()(nE.rq,{[nE.qh]:"INSTANCE"===x})},o.createElement(tZ.D8,{"data-non-interactive":!0,recordingKey:"toolbar",className:c()(nE.mp,e1.cx.flex.alignLeft.borderBox.itemsCenter.h24.$,e1.cx.pl8.pr8.$)},o.createElement("div",{className:e1.cx.hFull.flexGrow1.flex.itemsCenter.minW0.$,"data-non-interactive":!0},a&&o.createElement(uv,{numSelectedNodesRef:E,panelTitleRef:y,selectedNodeCount:L,node:K,shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e})),!(m||h)&&o.createElement("div",{"data-non-interactive":!0,className:c()(nE.gF,{[nE.ek]:!["INSTANCE","FRAME"].includes(x)})},p.map(e=>o.createElement(tc.E,{key:e.dropdownKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`open_flyout_${(0,p0.uc)(e.dropdownKey)}`})},o.createElement(ur,{flyoutConfig:e,recordingKey:_.Pt("toolbarView",e.flyoutRecordingKey)}))),S.map(e=>e.type===p2.ZU.ACTION?o.createElement(tc.E,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,p0.uc)(e.action)}`})},o.createElement(p4.QE,{item:e,numUnreadComments:M,recordingKey:n})):o.createElement(tc.E,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,p0.uc)(e.getTitle())}`})},o.createElement(tB.K,{"data-tooltip-type":ey.Ib.TEXT,"aria-label":e.getTitle(),"data-tooltip":e.getTitle(),onClick:e.onClick,key:e.recordingKey},e.icon))),v&&o.createElement(tc.E,{name:"layer_overflow_menu_button"},o.createElement(ut,{enabledToolbarItems:d,recordingKey:_.Pt(n,"UI3ToolbarOverflowMenu")})))),o.createElement(tc.E,{name:"layer_component_panel_button"},o.createElement(uu,null))))}function uu(){let e=(0,ec.d4)(e=>(0,eC._7)(e)),{stateGroupSelectionMode:t,containingProductComponent:n}=tx(),l=(0,ec.d4)(td.Dr),r=(0,ec.d4)(td.Ct);return(0,i9.J2)(Q.Ez5.propertiesPanelState().shownPropertiesPanels)[Q.ibQ.COMPONENT_ITEM]?n||t!==Q.iCO.NON_STATE_COMPONENTS?l&&r?o.createElement("div",{"data-non-interactive":!0,className:e1.cx.pt8.pb4.$},o.createElement(tb,null)):null:e>1?o.createElement("div",{"data-non-interactive":!0,className:e1.cx.pt8.pb4.$},o.createElement(tk,{recordingKey:"createStateGroup"})):null:null}let um=()=>{let e=(0,p4.z2)(),t=(0,p4.PK)(),n=uh(),l=function(){let e=aP();if(aC((0,ec.d4)(e=>e.mirror.sceneGraphSelection))&&e)return{type:p2.ZU.CUSTOM_ACTION,onClick:()=>{q.tJ([e.guid])},icon:o.createElement(pJ,null),getTitle:()=>(0,F.t)("design_systems.component_panel.select_component"),recordingKey:"ui3_toolbar_go_to_parent",orderingKey:"goto-parent-component"}}(),r=function(){let e=(0,ec.d4)(e=>e.mirror.selectionProperties),t=(0,ec.d4)(eO.dT),{onlyInstances:n,onlyInstanceSublayers:l}=(0,aj.p)(t),r=(0,ud.f)(t);if(!((e.pasteSources||[]).length>0)&&r&&!r.disabled&&(n||l))return{type:p2.ZU.CUSTOM_ACTION,onClick:r.onMouseDown,icon:r.ui3Icon,getTitle:()=>r.dataTooltip,recordingKey:"ui3_toolbar_go_to_original_component",orderingKey:"go-to-original-component"}}();return(0,o.useMemo)(()=>(0,p2.JQ)(n,l,r).map(n=>n.filter(n=>n.type===p2.ZU.CUSTOM_ACTION||e(n)&&t(n))).filter(e=>e.length>0),[e,t,n,l,r])},uh=()=>{let e=o.useMemo(ie.$H,[]),t=(0,ec.d4)(t=>e(t,(0,eO.rT)(Object.keys(t.mirror.sceneGraphSelection),t.mirror.sceneGraph))),n=[];for(let e in t)for(let l in t[e]){let r=t[e][l];n.push({type:p2.ZU.CUSTOM_ACTION,onClick:()=>eR.l7.user("reset-prop-assignments",()=>Q.glU.resetComponentPropAssignmentForInstances(r.instanceGUIDs,l)),icon:o.createElement(p$.$,null),getTitle:()=>(0,F.t)("design_systems.instance_panel.reset_property_assignment",{assignmentName:r.name}),recordingKey:`reset_property_assignment_${r.name}`,orderingKey:"reset_property_assignment"})}return n},ug=()=>{let e=us().flatMap(e=>e.actions.map(e=>e.action)),t=um().flat().filter(eN.Vq).filter(t=>t.type===p2.ZU.CUSTOM_ACTION||!e.includes(t.action));return(0,o.useMemo)(()=>t.sort((e,t)=>uE(e)-uE(t)),[t])},uE=e=>p2.cV.indexOf(e.type===p2.ZU.ACTION?e.action:e.orderingKey);function u_(){let e=(0,e9.O1)();return e&&0!==e.length?e.length>1?e.every(e=>["FRAME","SECTION","GROUP"].includes(e.type))?{type:"MIXED_FRAME_SECTION_GROUP",count:e.length,node:null}:{type:"MIXED",count:e.length,node:null}:{type:e[0].type,count:1,node:e[0]}:{type:null,count:0,node:null}}function uy({panelTitleRef:e}){let t=(0,ec.d4)(eO.dT),n=a0(t);return o.createElement("div",{ref:e,className:e1.cx.maxWFull.$},o.createElement(tp.bj,{pickerButtonTextOverridesClassName:e1.cx.pl4.maxWFull.minW0.flexGrow1.ellipsis.noWrap.overflowHidden.$,panelTitleRef:e,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:n,recordingKey:"instance-panel-ui3-layer-header",panelTitleOverridesClassName:nE.s5,flushLeft:!0,dropdownIdPrefix:"selection-actions-instance-swap-picker",svgOverride:o.createElement("div",null,o.createElement(tV.y,null)),chevronOverride:o.createElement("div",{className:e1.cx.flexShrink0.$},o.createElement(pj.r,null))}))}function uf({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t}){let{type:n,count:l}=u_();return n?e?"INSTANCE":t&&1===l?"SYMBOL":n:null}function uv({selectedNodeCount:e,node:t,shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:l,numSelectedNodesRef:r,panelTitleRef:a}){switch(uf({shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:l})){case null:return null;case"MIXED":return o.createElement("div",{ref:r,className:e1.cx.noWrap.textBodyMediumStrong.h24.flex.itemsCenter.pl8.$},(0,F.t)("fullscreen.properties_panel.layer_header.node_type_multiple_selected",{count:e}));case"MIXED_FRAME_SECTION_GROUP":case"SECTION":case"GROUP":case"FRAME":if(t){if(t.isResponsiveSet)return o.createElement(eK.xw,null,o.createElement(F.Tx,{id:"sites.panel.toolbar_header.webpage"}));if(t.isResponsiveNode)return o.createElement(eK.xw,null,o.createElement(F.Tx,{id:"sites.panel.toolbar_header.layout"}))}return o.createElement("div",{className:e1.cx.inlineFlex.$},o.createElement(an.tV,{value:{chevron:()=>o.createElement(pj.r,{className:nE.yc})}},o.createElement(sx,{id:"selection-actions-frame-preset-dropdown",selectClassName:nE.T0,inputClassName:nE.gv,recordingKey:"transformPanel.framePresetDropdown"})));case"SYMBOL":return o.createElement(tD,{interiorSvg:!0,alwaysShowParentComponent:!0,unfocusedInputOverridesClassName:nE.I1,focusedInputOverridesClassName:nE.j6,svgOverride:o.createElement("div",null,o.createElement(pq.K,null))});case"INSTANCE":return o.createElement(uy,{panelTitleRef:a});default:return t?o.createElement(ub,{node:t}):null}}function ub({node:e}){let t=(0,o.useRef)(null),n=t.current,l=!!n&&n.offsetWidth<n.scrollWidth,[r]=(0,lK.lJ)("leftEndCap"),[a]=(0,lK.lJ)("rightEndCap"),i=function(e,t,n){switch(e.type){case"ELLIPSE":return(0,F.t)("fullscreen.properties_panel.layer_header.node_type_ellipse");case"LINE":return(0,F.t)("fullscreen.properties_panel.layer_header.node_type_line");case"REGULAR_POLYGON":return(0,F.t)("fullscreen.properties_panel.layer_header.node_type_polygon");case"RECTANGLE":case"ROUNDED_RECTANGLE":return(0,F.t)("fullscreen.properties_panel.layer_header.node_type_rectangle");case"SECTION":return(0,F.t)("fullscreen.properties_panel.layer_header.node_type_section");case"SLICE":return(0,F.t)("fullscreen.properties_panel.layer_header.node_type_slice");case"STAR":return(0,F.t)("fullscreen.properties_panel.layer_header.node_type_star");case"TEXT":return(0,F.t)("fullscreen.properties_panel.layer_header.node_type_text");case"VECTOR":if((0,ee.wQ)(t)||(0,ee.wQ)(n))return(0,F.t)("fullscreen.properties_panel.layer_header.node_type_arrow");return(0,F.t)("fullscreen.properties_panel.layer_header.node_type_vector_path");default:return e.name}}(e,(0,J.hS)(r)?r:void 0,(0,J.hS)(a)?a:void 0);return o.createElement("div",{ref:t,className:nE.aj,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":l?i:void 0},i)}var uS=n(19569),uw=n(787337);let uT=(0,p.jz)(nj.uj0),uP=e=>({[Q.FAf.DESIGN]:{label:(0,F.t)("fullscreen.properties_panel.design"),tab:Q.FAf.DESIGN,className:nE.Mf,recordingKey:"designTab",analyticsName:"design"},[Q.FAf.PROTOTYPE]:{label:(0,F.t)("fullscreen.properties_panel.prototype"),tab:Q.FAf.PROTOTYPE,className:nE.Mf,recordingKey:"prototypeTab",analyticsName:"prototype"},[Q.FAf.INSPECT]:{label:(0,F.t)("fullscreen.properties_panel.properties"),tab:Q.FAf.INSPECT,className:nE.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[Q.FAf.COMMENT]:{label:(0,F.t)("fullscreen.properties_panel.comment"),tab:Q.FAf.COMMENT,className:nE.Mf,recordingKey:"commentTab",analyticsName:"comment"},[Q.FAf.EXPORT]:{label:(0,F.t)("fullscreen.properties_panel.export"),tab:Q.FAf.EXPORT,className:nE.Mf,recordingKey:"exportTab",analyticsName:"export"},[Q.FAf.SLIDE]:{label:(0,F.t)("fullscreen.properties_panel.design"),tab:Q.FAf.SLIDE,className:nE.Mf,recordingKey:"designTab",analyticsName:"design"},[Q.FAf.SLIDE_ANIMATION]:{label:"",tab:Q.FAf.SLIDE_ANIMATION,className:nE.Mf,recordingKey:"prototypeTab",analyticsName:"prototype"},[Q.FAf.SITE]:{label:(0,F.t)("fullscreen.properties_panel.design"),tab:Q.FAf.SITE,className:nE.Mf,recordingKey:"sitesTab",analyticsName:"sites"}})[e];class uC extends _.o6{constructor(){super(...arguments),this.onMouseDown=_.cZ(this,"mousedown",()=>{if(!this.props.active){let e=uP(this.props.tab).analyticsName;(0,d.sx)("properties-panel-select-tab",{tab:e}),this.props.currentTool===Q.NLJ.SCALE&&this.props.tab===Q.FAf.PROTOTYPE&&X.Y5.triggerAction("set-tool-default"),(0,q.NT)(this.props.tab),this.props.topLevelMode===et.lyf.PREVIEW&&(this.props.tab===Q.FAf.COMMENT?X.Y5.triggerAction("set-tool-comments"):X.Y5.triggerAction("set-tool-default"))}})}render(){return o.createElement("div",{className:this.props.className,onMouseDown:this.onMouseDown,"data-label":this.props.label},this.props.label)}}uC.displayName="PropertiesTab";class uk extends _.o6{constructor(){super(...arguments),this.state={panelState:ng.GR.DEFAULT_EXPANDED,width:cD.iP},this.onMouseDown=_.cZ(this,"mousedown",()=>{X.Y5.deselectProperty(),this.props.pickerShown&&this.props.pickerShown.id.startsWith(Z.Yr)&&m.zl.get(nC.ik)||this.props.dispatch(D.XE()),this.props.dispatch((0,H.vq)()),this.props.dispatch(B.sw()),this.props.dispatch(D.Uv())}),this.onContextMenu=e=>{let t=e.target;if(t){let n=t.tagName,l=t.type;n&&"INPUT"===n.toUpperCase()&&l&&"TEXT"===l.toUpperCase()||t.isContentEditable||e.preventDefault()}},this.showCreateStyleModal=({styleType:e,inheritStyleKeyField:t,nodeId:n,rowLeft:l,rowTop:r})=>{this.props.dispatch(B.sw()),this.props.dispatch(B.Zs({rowLeft:l,rowTop:r,styleType:e,inheritStyleKeyField:t,nodeId:n}))},this._stylePreviewThumbnail=new ea.H4(()=>{var e;let t=(0,en.IW)(this.props.stylePreviewShown),n=null==(e=this.props.openFile)?void 0:e.canEdit,l=!!t||!n||this.props.appModel.isReadOnly;return o.createElement(nv,{key:"style-preview-panel",selectedStyleProperties:this.props.selectedStyleProperties,isInspectPanel:this.props.propertiesPanelTab===Q.FAf.INSPECT,stylePreviewShown:this.props.stylePreviewShown,externalStyle:t,isRenaming:this.props.library.isRenamingSelectedStyle,viewOnly:l,dispatch:this.props.dispatch,recordingKey:_.Pt(this.props,"stylePreviewPanel")})}),this.onCloseStylePreviewModal=()=>{Q.glU.selectStyle(A.n3.INVALID,A.IA.INVALID),this.props.dispatch(B.sw()),this.props.dispatch((0,V.B)())},this.renderStylePreviewModal=()=>{var e;if(!this.props.stylePreviewShown.isShown||![Q.FAf.DESIGN,Q.FAf.SITE,Q.FAf.INSPECT].includes(this.props.propertiesPanelTab))return;let t=this.props.selectedStyleProperties,n=new N.Mi(this.props.stylePreviewShown.rowLeft-ng.tA,this.props.stylePreviewShown.rowTop);if(this.props.stylePreviewShown.isCreating){let{styleType:e,inheritStyleKeyField:t,styleNameInputPrefix:l}=this.props.stylePreviewShown;return o.createElement(n_,{recordingKey:"createStyleModal",initialPosition:n,styleNameInputPrefix:l,styleType:e,inheritStyleKeyField:t})}{let l=!(0,z.eE)(this.props.stylePreviewShown.style,this.props.openFile),r=l||!(null==(e=this.props.openFile)?void 0:e.canEdit)||this.props.appModel.topLevelMode===et.lyf.BRANCHING,a=(0,K.dI)(t.guid);if(!(a&&this.props.library.local.styles[a]&&!this.props.library.local.styles[a].is_soft_deleted)&&!l||!this.props.selectedStyleProperties.guid)return;return o.createElement(nh.zK.Provider,{value:nh.zM.EDIT_STYLE},o.createElement(e8.vx,{title:this.getStylePreviewThumbnailTitle(t.styleType,r),key:(0,en.Gj)(this.props.stylePreviewShown.style),headerSize:"small",initialWidth:ng.tA,initialPosition:n,onClose:this.onCloseStylePreviewModal,recordingKey:_.Pt(this.props,"modal"),dragHeaderOnly:!0},o.createElement("div",{className:nE.FY},this._stylePreviewThumbnail.render(!0),this._externalStyleLink.render(l))))}},this._externalStyleLink=new ea.H4(()=>o.createElement(aK,{stylePreviewShown:this.props.stylePreviewShown,user:this.props.user})),this._framePresetPanel=new ea.H4(()=>o.createElement(aU,{key:"frame-presets",dispatch:this.props.dispatch,expandedFramePresetType:this.props.expandedFramePresetType,recordingKey:"framePresetPanel"})),this._pencilToolPanel=new ea.H4(()=>o.createElement(cK,{key:"pencilToolPanel",id:"pencilToolPanel",openFile:this.props.openFile,recordingKey:"pencilToolPanel"})),this._canvasBackgroundPanel=new ea.H4(()=>{let e=this.props.selectionProperties;return o.createElement(r6,{key:"canvas-background",backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,editModeType:this.props.appModel.activeCanvasEditModeType,pickerShown:this.props.pickerShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,library:this.props.library,openFile:this.props.openFile,recordingKey:"canvasBackgroundPanel",currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,defaultColor:ee.rC,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,hasExports:!!e.exportSettings&&(0,J._W)(e.exportSettings,[]).length>0})}),this._viewOnlyFlowsPanel=new ea.H4(()=>o.createElement(nS.A,{viewOnly:!0})),this._localStylesPanel=new ea.H4(e=>o.createElement(lw,{key:e,scrollContainer:this.scrollContainer,recordingKey:e})),this._transformPanel=new ea.H4(()=>{var e;return o.createElement(sM,{key:"transform",propertiesPanelState:this.state.panelState,recordingKey:"transformPanel",pickerShown:this.props.pickerShown,openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,canEditConstraints:this.props.isUI3&&this.shouldShowConstraintsResizingPanel()})}),this._vectorPanel=new ea.H4(()=>{let e=this.selectionProperties(),t=this.props.isUI3;return o.createElement(sV,{key:"vector-transform",x:e.x,y:e.y,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"vectorTransformPanel",isUI3:t})}),this._liveObjectPanel=new ea.H4(()=>o.createElement(c_.cI,{key:"live-object",recordingKey:"liveObjectPanel",pasteSources:this.props.selectionProperties.pasteSources})),this._instancePanel=new ea.H4(()=>{let e=this.props.selectionProperties;return o.createElement(a5,{key:"instance",symbolGUIDsBackingSelection:e.symbolGUIDsBackingSelection,resettableInstanceOverridesMap:e.resettableInstanceOverrides,stateGroupSelectionInfo:e.stateGroupSelectionInfo,recordingKey:"instancePanel"})}),this._constraintsResizingPanel=new ea.H4(()=>{var e;return o.createElement(ab,{key:"constraints",openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,dropdownShown:this.props.dropdownShown,recordingKey:"constraintsPanel"})}),this._interactionsPanel=new ea.H4(()=>o.createElement(cH.y7,{key:"interactions"})),this._stackPanel=new ea.H4(()=>o.createElement(pN,{key:"stack",onlyShowResizingRow:this.props.isUI3&&this.state.panelState===ng.GR.DEFAULT_SIMPLIFIED,onlyStacksSelected:this.props.shownPanels[Q.ibQ.STACK_ITEM],recordingKey:"stackPanel"})),this._removeGroupFillAndStrokePanel=new ea.H4(()=>o.createElement(cI,{key:"remove-group-fill-stroke"})),this._maskPanel=new ea.H4(()=>{let e=this.selectionProperties();return o.createElement(cb,{key:"mask",maskType:e.maskType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"maskPanel"})}),this._componentPropertiesPanel=new ea.H4(()=>o.createElement(ns,{key:"componentProperties",recordingKey:"propsPanel"})),this._componentPanel=new ea.H4(()=>o.createElement(tF,{key:"component",recordingKey:"componentPanel"})),this._templatePropertiesPanel=new ea.H4(()=>o.createElement(nw,{key:"templateProperties",recordingKey:"templatePropsPanel"})),this._templatePanel=new ea.H4(()=>o.createElement(pX,{key:"template"})),this._gridsPanel=new ea.H4(()=>o.createElement(ng.tC,{key:"grids",selectionProperties:this.props.selectionProperties})),this._layerPanel=new ea.H4(()=>{let e=this.props.selectionProperties;return this.props.isUI3?o.createElement(cg,{recordingKey:"appearancePanel"}):o.createElement(ct,{key:"layer",blendMode:e.blendMode,opacity:e.opacity,visible:e.visible,variableConsumptionInfo:e.variableConsumptionInfo,recordingKey:"layerPanel"})}),this._localVariablesPanel=new ea.H4(()=>o.createElement(lO,{key:"local-variables"})),this._typePanel=new ea.H4(()=>o.createElement(ng.gc,{key:"type",selectionProperties:this.props.selectionProperties})),this._selectionPaints=new ea.H4(()=>o.createElement(cS.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:ee.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3})),this._fillPanel=new ea.H4(()=>{let e;return this.props.selectionProperties.numSelectedByType&&(e=(0,lI.aZ)(Q.rrT.FILL,this.props.selectionProperties.numSelectedByType)),o.createElement(ng.B8,{key:"fill",selectionProperties:this.props.selectionProperties,variableScopes:e})}),this._strokePanel=new ea.H4(()=>{let e=this.props.selectionProperties;return o.createElement(cS.$p,{key:"stroke",stylePickerShown:this.props.stylePickerShown,strokePanelMode:this.props.strokePanelMode,strokePanelTerminalPointCount:this.props.strokePanelTerminalPointCount,strokePaints:e.strokePaints,borderSharedWeight:e.borderSharedWeight,strokeWeight:e.strokeWeight,strokeAlign:e.strokeAlign,strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,connectorLineStyle:e.connectorLineStyle,leftEndCap:e.leftEndCap,rightEndCap:e.rightEndCap,maxStrokeWeight:e.maxStrokeWeight,dashPattern:e.dashPattern,dashCap:e.dashCap,terminalCap:e.terminalCap,arcRadius:e.arcRadius,arcSweep:e.arcSweep,numSelectedByType:e.numSelectedByType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,pickerShown:this.props.pickerShown,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,stylePickerListLayout:this.props.stylePickerListLayout,currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:ee.Em,inheritStyleKey:e.inheritFillStyleKeyForStroke||null,inheritStyleID:e.inheritFillStyleIDForStroke||null,library:this.props.library,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,openFile:this.props.openFile,recordingKey:"strokePanel",isPanelBodyCollapsedAtom:null})}),this._effectsPanel=new ea.H4(()=>o.createElement(ng.w5,{key:"effects",selectionProperties:this.props.selectionProperties})),this._slidesShadowPanel=new ea.H4(()=>o.createElement(nI,{recordingKey:"slidesShadowPanel"})),this._exportPanelInspectTab=new ea.H4(()=>{let e=this.selectionProperties(),t=this.props.openFile,n=(0,ei.Nf)(this.props.appModel);return t&&(0,el.Pe)(t)?o.createElement(b.p,{name:"export_panel_inspect_tab"},o.createElement(eK.Zk,{className:nE.OT},o.createElement(eK.xw,{className:nE.GI},o.createElement(M.B,{className:nE.RU,svg:uw.A}),o.createElement(F.Tx,{id:"fullscreen.properties_panel.export_disabled"})),o.createElement(eK.JU,{className:nE.Nw},o.createElement(F.Tx,{id:"fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename"})))):o.createElement(aN.LI,{key:"export",title:this.isReadOnlyNonInspect()?(0,F.t)("fullscreen.properties_panel.export"):(0,F.t)("fullscreen.properties_panel.presets"),standalone:!0,openFile:t,singleNodeName:aN.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:n,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:cD.iP})}),this._exportPanel=new ea.H4(()=>{let e=this.props.selectionProperties,t=(0,ei.Nf)(this.props.appModel);return o.createElement(aN.LI,{key:"export",openFile:this.props.openFile,singleNodeName:aN.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:cD.iP})}),this._pluginPanel=new ea.H4(()=>{var e,t;let n=this.selectionProperties();return o.createElement(cF.Q,{key:"plugin",pluginRelaunchData:n.pluginRelaunchData,localPlugins:this.props.localPlugins,publishedPlugins:this.props.publishedPlugins,allSavedPlugins:this.props.allSavedPlugins.plugins,orgEntity:(0,W.Jl)(this.props),dispatch:this.props.dispatch,openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,editorType:(null==(t=this.props.openFile)?void 0:t.editorType)||null,numSelected:n.numSelected??0,recordingKey:"pluginPanel"})}),this._prototypePanel=new ea.H4(()=>o.createElement(cB.Z0,{key:"prototype",dispatch:this.props.dispatch,selectionProperties:this.selectionProperties(),appModel:this.props.appModel,pickerShown:this.props.pickerShown,dropdownShown:this.props.dropdownShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,sceneGraphSelection:this.props.sceneGraphSelection,editModeType:this.props.appModel.activeCanvasEditModeType,library:this.props.library,openFile:this.props.openFile,userFlags:this.props.userFlags,recordingKey:"prototypePanel"})),this._scalePanel=new ea.H4(()=>(0,u.kc)().ce_scale_tool_v2?o.createElement(dy,{key:"scale",recordingKey:"scalePanel"}):o.createElement(du,{key:"scale",recordingKey:"scalePanel"})),this._slidesStackPanel=new ea.H4(()=>o.createElement(nI,{onlyStacksSelected:this.props.shownPanels[Q.ibQ.STACK_ITEM],recordingKey:"slidesStackPanel"})),this._slidesFillPanel=new ea.H4(()=>o.createElement(nI,{recordingKey:"slidesFillPanel"})),this._slidesSpeakerNotesPanel=new ea.H4(()=>o.createElement(nI,null)),this._slidesTypePanel=new ea.H4(()=>o.createElement(nI,{recordingKey:"slidesTypePanel"})),this._slidesBorderPanel=new ea.H4(()=>o.createElement(nI,{recordingKey:"slidesBorderPanel"})),this._slidesCornerPanel=new ea.H4(()=>o.createElement(nI,{recordingKey:"slidesCornerPanel"})),this._slidesAnimationPanel=new ea.H4(()=>o.createElement(nI,{selection:this.props.sceneGraphSelection})),this._slidesOverlayPanel=new ea.H4(()=>o.createElement(nI,null)),this._slidesBlurPanel=new ea.H4(()=>o.createElement(nI,{recordingKey:"slidesBlurPanel"})),this._slidesSelectionPaints=new ea.H4(()=>o.createElement(cS.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:ee.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3,customColorPicker:nI})),this._sitesPositionPanel=new ea.H4(()=>o.createElement(nT.Qc,{recordingKey:"positionPanel"})),this._sitesLinkPanel=new ea.H4(()=>o.createElement(nT.rC,{key:"link"})),this._sitesPageMetadataPanel=new ea.H4(()=>o.createElement(nT.li,{key:"pageMetadata"})),this._sitesCanvasOverlayPanel=new ea.H4(()=>o.createElement(nT.rf,{key:"overlayPreview"})),this._sitesAccessibilityPanel=new ea.H4(()=>o.createElement(nT.l,{key:"accessibility"})),this._sitesHTMLWidgetPanel=new ea.H4(()=>o.createElement(nT.Mr,{key:"htmlWidget"})),this._sitesInteractionsPanel=new ea.H4(()=>o.createElement(nT.GO,{key:"interactions"})),this.isStyleSelected=()=>this.props.selectedStyleProperties&&!!this.props.selectedStyleProperties.guid,this.isLiveObjectSelected=()=>(this.props.selectionProperties.pasteSources||[]).length>0,this.selectionProperties=()=>this.isStyleSelected()?this.props.selectedStyleProperties:this.props.selectionProperties,this.shownTransformControls=()=>this.isStyleSelected()?0:0|this.props.shownTransformControls,this.shouldShowAlignControls=()=>(0,cD.d6)(this.props.shownPanels),this.shouldRenderUI3ToolbarItems=()=>this.props.isUI3,this.shouldShowConstraintsResizingPanel=()=>{let e=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&e[Q.ibQ.CONSTRAINTS_ITEM]},this.shouldShowInteractionsPanel=()=>!!this.props.selectionProperties.isValidPrototypingSourceSelected,this.isStateSelected=()=>{var e;return(null==(e=this.props.selectionProperties.stateGroupSelectionInfo)?void 0:e.mode)===Q.iCO.STATE},this.shouldShowLocalVariablesPanel=()=>{let e=(0,nN.P2)(this.props.selectedView),t=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&!this.props.appModel.isReadOnly&&0===Object.keys(this.props.sceneGraphSelection).length&&!t[Q.ibQ.FRAME_PRESETS]&&!e},this.shouldShowSelectionPaintsPanel=()=>{let e=this.props.shownPanels;return(0,cD.fI)(e,this.scaleShouldHideOtherPanels(),this.props.selectionPaints)},this.shouldShowSlidesSelectionPaintsPanel=()=>{let{numSelected:e,numSelectedByType:t}=this.props.selectionProperties;return!(1===e&&t&&t.SLIDE)&&this.shouldShowSelectionPaintsPanel()},this.shouldShowStackPanel=e=>{let t=this.props.shownPanels;return(0,cD.IY)(t,this.scaleShouldHideOtherPanels(),this.props.selectionProperties,this.isStyleSelected()?this.props.selectedStyleProperties:void 0,e)},this.scaleShouldHideOtherPanels=()=>this.props.shownPanels[Q.ibQ.SCALE_ITEM]&&!(0,u.kc)().ee_scale_tool_show_all_panels,this.shouldShowExportPanel=()=>this.props.openFile&&!(0,el.Pe)(this.props.openFile)&&!(0,j.MP)(),this.renderSimplifiedDesignPanels=()=>{let e=this.props.shownPanels;if((0,E.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)])){let e=Error("Rendering simplified design tab with no shownPropertiesPanels");(0,y.$D)(f.e.FIGJAM_CORE,e)}return o.createElement(x.i,null,0===Object.keys(this.props.sceneGraphSelection).length&&o.createElement(rH.Mw,{panelName:rH.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&o.createElement(rN,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&o.createElement(up,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._instancePanel.render(!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()),this.props.isUI3&&this._stackPanel.render(this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)),this._transformPanel.render(!0),this._scalePanel.render(e[Q.ibQ.SCALE_ITEM]),!this.props.isUI3&&this._instancePanel.render(!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()),this._constraintsResizingPanel.render(!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()),(0,er.Zd)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[Q.ibQ.LAYER_ITEM]),this.state.panelState===ng.GR.DEFAULT_SIMPLIFIED&&o.createElement(pQ,{onExpand:()=>{this.setState({panelState:ng.GR.OVERRIDDEN_EXPANDED})}}),this.state.panelState===ng.GR.OVERRIDDEN_EXPANDED&&o.createElement(o.Fragment,null,o.createElement(aI,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[Q.ibQ.TEMPLATE_ITEM]),this._componentPanel.render(e[Q.ibQ.COMPONENT_ITEM]),this._vectorPanel.render(e[Q.ibQ.VECTOR_ITEM]),!this.props.isUI3&&this._stackPanel.render(this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)),this._maskPanel.render(e[Q.ibQ.MASK_ITEM]),!this.props.isUI3&&this._gridsPanel.render(e[Q.ibQ.GRIDS_ITEM]),this._typePanel.render(e[Q.ibQ.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[Q.ibQ.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[Q.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]),this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),this._fillPanel.render(e[Q.ibQ.FILL_ITEM]),this._strokePanel.render(e[Q.ibQ.STROKE_ITEM]),!this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,er.Zd)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[Q.ibQ.EFFECTS_ITEM]),this.props.isUI3&&this._gridsPanel.render(e[Q.ibQ.GRIDS_ITEM]),this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render(e[Q.ibQ.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels())),!this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render(e[Q.ibQ.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderDesignPanels=()=>{let e=this.props.shownPanels,t=(0,nN.P2)(this.props.selectedView);((0,E.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)]))&&!window.figmaPerfTesting&&!(0,v.Lg)()&&!(0,v.nl)()&&(0,y.x1)("PropertiesPanel","Rendering design tab with no shownPropertiesPanels",{isEmpty:(0,E.Im)(e),shouldRenderInspectTab:this.shouldRenderInspectTab()});let n=!this.scaleShouldHideOtherPanels()&&0===Object.keys(this.props.sceneGraphSelection).length&&!e[Q.ibQ.FRAME_PRESETS]&&!t;return e[Q.ibQ.FRAME_PRESETS]?o.createElement(x.i,null,this._framePresetPanel.render(!0)):e[Q.ibQ.PENCIL_TOOL]?o.createElement(x.i,null,this._pencilToolPanel.render(!0)):o.createElement(x.i,null,0===Object.keys(this.props.sceneGraphSelection).length&&o.createElement(rH.Mw,{panelName:rH.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&o.createElement(rN,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&o.createElement(up,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._componentPropertiesPanel.render(this.shouldShowComponentPropertiesPanel()),this.props.isUI3&&this._componentPanel.render(e[Q.ibQ.COMPONENT_ITEM]),this.props.isUI3&&this._instancePanel.render(this.shouldShowInstancePanel()),this.props.isUI3&&this._stackPanel.render(this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)),this._transformPanel.render(this.props.isUI3&&this.shouldShowAlignControls()||e[Q.ibQ.TRANSFORM_ITEM]),this._scalePanel.render(e[Q.ibQ.SCALE_ITEM]),o.createElement(aI,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[Q.ibQ.TEMPLATE_ITEM]),this._templatePropertiesPanel.render(e[Q.ibQ.TEMPLATE_ITEM]),!this.props.isUI3&&this._componentPanel.render(e[Q.ibQ.COMPONENT_ITEM]),!this.props.isUI3&&this._componentPropertiesPanel.render(e[Q.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()),this._liveObjectPanel.render(this.isLiveObjectSelected()),!this.props.isUI3&&this._instancePanel.render(this.shouldShowInstancePanel()),this._vectorPanel.render(e[Q.ibQ.VECTOR_ITEM]),!this.props.isUI3&&this._stackPanel.render(this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)),this._constraintsResizingPanel.render(!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()),this._maskPanel.render(e[Q.ibQ.MASK_ITEM]),!this.props.isUI3&&this._gridsPanel.render(e[Q.ibQ.GRIDS_ITEM]),(0,er.Zd)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[Q.ibQ.LAYER_ITEM]),this._typePanel.render(e[Q.ibQ.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[Q.ibQ.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[Q.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]),this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),this._fillPanel.render(e[Q.ibQ.FILL_ITEM]),this._strokePanel.render(e[Q.ibQ.STROKE_ITEM]),!this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,er.Zd)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[Q.ibQ.EFFECTS_ITEM]),this._localVariablesPanel.render(this.shouldShowLocalVariablesPanel()),this._localStylesPanel.render(n,void 0,"local-styles"),this.props.isUI3&&this._gridsPanel.render(e[Q.ibQ.GRIDS_ITEM]),this.shouldShowExportPanel()&&this._exportPanel.render(e[Q.ibQ.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderSlidesPanels=()=>{let e=this.props.shownPanels;return e[Q.ibQ.PENCIL_TOOL]?o.createElement(x.i,null,this._pencilToolPanel.render(!0)):o.createElement(x.i,null,this._slidesStackPanel.render(this.shouldShowStackPanel(!1)),this._slidesTypePanel.render(e[Q.ibQ.TYPE_ITEM]),this._slidesFillPanel.render(e[Q.ibQ.FILL_ITEM]),this._slidesOverlayPanel.render(e[Q.ibQ.IMAGE_ITEM]),this._slidesBlurPanel.render(e[Q.ibQ.IMAGE_ITEM]),this._slidesBorderPanel.render(e[Q.ibQ.STROKE_ITEM]),this._slidesCornerPanel.render(e[Q.ibQ.STROKE_ITEM]),this._slidesSelectionPaints.render(this.shouldShowSlidesSelectionPaintsPanel()),this._slidesShadowPanel.render(e[Q.ibQ.EFFECTS_ITEM]),this._slidesSpeakerNotesPanel.render(e[Q.ibQ.SLIDES_SPEAKER_NOTES]))},this.renderSlidesAnimationPanels=()=>{let e=this.props.shownPanels;return o.createElement(x.i,null,this._slidesAnimationPanel.render(e[Q.ibQ.SLIDES_ANIMATION]))},this.renderSitesPanels=()=>{let e=this.props.shownPanels;return o.createElement(x.i,null,this.shouldRenderUI3ToolbarItems()&&o.createElement(up,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this._sitesCanvasOverlayPanel.render(this.shouldShowSitesCanvasOverlayPanel()),this._stackPanel.render(this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)),this._sitesPositionPanel.render(this.shouldShowSitesPositionPanel()),this._scalePanel.render(e[Q.ibQ.SCALE_ITEM]),this._instancePanel.render(!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()),this._constraintsResizingPanel.render(!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()),this._layerPanel.render(e[Q.ibQ.LAYER_ITEM]),this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),o.createElement(aI,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[Q.ibQ.TEMPLATE_ITEM]),this._componentPanel.render(e[Q.ibQ.COMPONENT_ITEM]),this._vectorPanel.render(e[Q.ibQ.VECTOR_ITEM]),this._maskPanel.render(e[Q.ibQ.MASK_ITEM]),this._typePanel.render(e[Q.ibQ.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[Q.ibQ.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[Q.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]),this._fillPanel.render(e[Q.ibQ.FILL_ITEM]),this._strokePanel.render(e[Q.ibQ.STROKE_ITEM]),(0,er.Zd)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[Q.ibQ.EFFECTS_ITEM]),this._gridsPanel.render(e[Q.ibQ.GRIDS_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()),this._sitesLinkPanel.render(this.shouldShowSitesLinkPanel()),this._sitesHTMLWidgetPanel.render(this.shouldShowSitesHTMLWidgetPanel()),this._sitesInteractionsPanel.render(this.shouldShowSitesInteractionsPanel()),this._sitesAccessibilityPanel.render(this.shouldShowSitesAccessibilityPanel()),this._sitesPageMetadataPanel.render(this.shouldShowSitesPageMetadataPanel()))},this.renderInspectionPanels=()=>{var e,t;let n=null==(e=this.props.openFile)?void 0:e.canEdit,l=this.props.selectionProperties,r=!l.prototypeStartingPointsInfo||(null==(t=l.prototypeStartingPointsInfo)?void 0:t.length)>0,a=0===Object.keys(this.props.sceneGraphSelection).length,i=a&&!n&&r;return o.createElement(G.fu,{name:eo.e0.CODE_PANEL},o.createElement(x.i,null,o.createElement(rH.Mw,{panelName:rH.ON.INSPECT}),o.createElement(r8.U,{key:"inspection-properties-panel",recordingKey:"inspectionPanel"}),this._viewOnlyFlowsPanel.render(i),this._localStylesPanel.render(a,void 0,"code-local-styles")))},this.renderPrototypePanels=()=>{let e=this.props.shownPanels;return o.createElement(x.i,null,this._framePresetPanel.render(e[Q.ibQ.FRAME_PRESETS]),this._pencilToolPanel.render(e[Q.ibQ.PENCIL_TOOL]),this._prototypePanel.render(!e[Q.ibQ.FRAME_PRESETS]&&!e[Q.ibQ.PENCIL_TOOL]))},this.shouldRenderInspectTab=()=>this.props.appModel.showUi&&!!this.props.user&&this.props.appModel.isReadOnly,this.onKeyDown=e=>{this.props.selectedStyleProperties&&(0,K.fn)(this.props.selectedStyleProperties.guid)&&!((0,u.kc)().piper_text_style_refresh&&(0,nN.P2)(this.props.selectedView)&&m.zl.get(nC.Ms))&&(e.event.keyCode===h.Uz.ESCAPE?(e.accept(),Q.glU.selectStyle(A.n3.INVALID,A.IA.INVALID)):e.event.keyCode===h.Uz.F&&Q.glU.selectStyle(A.n3.INVALID,A.IA.INVALID))},this.scrollContainer=null,this.refMainScrollContainer=e=>{this.scrollContainer=e},this.isReadOnlyNonInspect=()=>this.props.appModel.isReadOnly&&!(0,ny.$A)(this.props.selectedView),this.renderPanelContent=()=>{let e=this.props.appModel.topLevelMode,t=this.props.propertiesPanelTab,n=this.props.appModel.isReadOnly,l=e!==et.lyf.PREVIEW&&(e!==et.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==et.lyf.DEV_HANDOFF&&t===Q.FAf.DESIGN,r=e!==et.lyf.PREVIEW&&(e!==et.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==et.lyf.DEV_HANDOFF&&t===Q.FAf.SLIDE,a=e!==et.lyf.PREVIEW&&(e!==et.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==et.lyf.DEV_HANDOFF&&t===Q.FAf.SLIDE_ANIMATION&&(0,u.kc)().piper_transitions,i=e===et.lyf.LAYOUT&&!n&&t===Q.FAf.SITE,s=e!==et.lyf.PREVIEW&&e!==et.lyf.BRANCHING&&t===Q.FAf.PROTOTYPE&&!(0,er.Zd)(),c=e===et.lyf.PREVIEW&&!this.props.userStateLoaded||t===Q.FAf.INSPECT;return l||r||a||i||s||c||t===Q.FAf.EXPORT||t===Q.FAf.COMMENT||(0,y.x1)("PropertiesPanel","Rendering empty properties panels",{topLevelMode:et.lyf[e],tab:Q.FAf[t],shouldRenderInspectTab:this.shouldRenderInspectTab()}),o.createElement(o.Fragment,null,l&&(this.state.panelState===ng.GR.DEFAULT_EXPANDED?this.renderDesignPanels():this.renderSimplifiedDesignPanels()),r&&this.renderSlidesPanels(),a&&this.renderSlidesAnimationPanels(),i&&this.renderSitesPanels(),s&&this.renderPrototypePanels(),c&&this.renderInspectionPanels(),t===Q.FAf.EXPORT&&this._exportPanelInspectTab.render(!0),t===Q.FAf.COMMENT&&o.createElement(this.props.commentsPanel,null))},this.onResize=e=>{e=(0,g.qE)(e,uT+1,500),this.setState({width:e}),(0,$.UK)().propertiesPanelSplitPosition.set(e)},this.getRightPanelAnimation=(e,t)=>{if(this.props.isUI3)return;let n={ease:"easeInOut",duration:.2,delay:this.props.isCollapsed?void 0:.05};return this.props.isCollapsed?{initial:{left:`calc(${e}px + ${t})`},animate:{left:`calc(${e}px + ${t})`,display:"block",transitionEnd:{display:"none"}},transition:n}:{initial:{left:0},transition:n}}}componentDidUpdate(e,t){super.componentDidUpdate(e,t);let n=e.selectionProperties.productComponentGUIDBackingInstances,l=this.props.selectionProperties.productComponentGUIDBackingInstances;if(n!==l){let e=ng.GR.DEFAULT_EXPANDED;if(l){let t=this.props.sceneGraph.get(l);(null==t?void 0:t.simplifyInstancePanels)&&(e=ng.GR.DEFAULT_SIMPLIFIED)}this.setState({panelState:e})}}getStylePreviewThumbnailTitle(e,t){if(t)switch(e){case"FILL":return(0,F.t)("design_systems.styles.view_color_style");case"TEXT":return(0,F.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,F.t)("design_systems.styles.view_effect_style");case"GRID":return(0,F.t)("design_systems.styles.view_grid_style");default:return(0,F.t)("design_systems.styles.view_style")}else switch(e){case"FILL":return(0,F.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,F.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,F.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,F.t)("design_systems.styles.edit_grid_style");default:return(0,F.t)("design_systems.styles.edit_style")}}shouldShowSitesPositionPanel(){return(0,nP.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_POSITION_ITEM]}shouldShowSitesLinkPanel(){return(0,nP.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_LINK_ITEM]}shouldShowSitesPageMetadataPanel(){return(0,nP.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_PAGE_METADATA_ITEM]}shouldShowSitesCanvasOverlayPanel(){return(0,nP.Vj)(this.props.selectedView)&&(0,u.kc)().internal_only_debug_tools}shouldShowSitesAccessibilityPanel(){return(0,nP.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_ACCESSIBILITY_ITEM]}shouldShowSitesHTMLWidgetPanel(){return(0,nP.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_HTML_WIDGET_ITEM]}shouldShowSitesInteractionsPanel(){return(0,nP.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_INTERACTIONS_ITEM]}renderTabsHeader(e,t,n){let l=t.find(t=>t===e),r=t.map((n,r)=>{let a=uP(n),i=a.tab===e||0===r&&void 0===l,o=a.className;return i&&(o=t.length>1?nE.yR:nE.iV),{...a,className:o,active:i,topLevelMode:this.props.appModel.topLevelMode,currentTool:this.props.appModel.currentTool}}),a=this.props.appModel.isReadOnly;return!t.length||(0,er.Zd)()&&!a||1===t.length&&!this.props.isUI3?null:o.createElement(U.j9.Consumer,null,()=>{if(n)return o.createElement("div",{className:nE.A7},o.createElement("div",{className:nE.tq},r.map((e,t)=>o.createElement(uC,{key:t,...e}))),o.createElement("div",{className:nE.Ym},o.createElement(lk.HT,{recordingKey:_.Pt(this.props,"zoomMenu")}),(0,nN.P2)(this.props.selectedView)&&o.createElement(nk.tL,null)));let t=e===Q.FAf.DESIGN&&this.shouldShowAlignControls()||e===Q.FAf.COMMENT?nE.yW:nE.hv;return o.createElement("div",{className:t,"data-non-interactive":!0},r.map((e,t)=>o.createElement(uC,{key:t,...e})))})}shouldShowInstancePanel(){return this.props.shownPanels[Q.ibQ.INSTANCE_ITEM]&&!this.isLiveObjectSelected()}shouldShowComponentPropertiesPanel(){return this.props.shownPanels[Q.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}getTabs(){let{appModel:{topLevelMode:e},selectedView:t,propertiesPanelTab:n,isUI3:l}=this.props,r=l?[Q.FAf.COMMENT,Q.FAf.INSPECT]:[Q.FAf.COMMENT,Q.FAf.INSPECT,Q.FAf.EXPORT];switch(e){case et.lyf.LAYOUT:if(this.isReadOnlyNonInspect())return r;if(n===Q.FAf.COMMENT)return[Q.FAf.COMMENT];if((0,nP.Vj)(t))return[Q.FAf.SITE];if((0,nN.P2)(t)){if((0,u.kc)().piper_transitions)return[Q.FAf.SLIDE,Q.FAf.SLIDE_ANIMATION];return[Q.FAf.SLIDE]}return this.shouldRenderInspectTab()?[Q.FAf.DESIGN,Q.FAf.PROTOTYPE,Q.FAf.INSPECT]:[Q.FAf.DESIGN,Q.FAf.PROTOTYPE];case et.lyf.PREVIEW:case et.lyf.DEV_HANDOFF:return r;case et.lyf.BRANCHING:return[Q.FAf.INSPECT];default:return[Q.FAf.DESIGN,Q.FAf.PROTOTYPE,Q.FAf.INSPECT]}}renderLoading(e){return o.createElement(nR.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:this.onKeyDown},o.createElement(R.V,{className:nE.Lp},o.createElement(O.P,{ref:this.refMainScrollContainer,className:c()(nE.ux,nE.KE,Z.Dm,{[nE.eu]:e}),width:cD.iP,hideScrollbar:!0,scrollingDisabled:!0},o.createElement("div",{className:nE.eh,"data-non-interactive":!0},o.createElement(nb.B,null))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal()))}render(){var e;if(this.props.isLoading)return this.renderLoading(this.props.shouldAnimateLoadingState);let t=this.props.selectedStyleProperties&&(0,K.fn)(this.props.selectedStyleProperties.guid),n=!!(this.props.dropdownShown||(null==(e=this.props.pickerShown)?void 0:e.modal)),l=this.props.propertiesPanelTab,r=l===Q.FAf.COMMENT,a=!this.isReadOnlyNonInspect(),i=(0,nN.P2)(this.props.selectedView),s=!t||!n,d=!r&&s,m=(0,Y.ft)(),h=o.createElement("div",{className:r&&a&&!i?nE.By:nE.eh,onMouseDown:m?void 0:this.onMouseDown,onPointerDown:m?this.onMouseDown:void 0,"data-non-interactive":!0},o.createElement(U.j9.Consumer,null,()=>this.renderPanelContent())),g=this.props.isUI3,E=g?this.state.width:cD.iP+1,_=g?`${(0,p.jz)(nj.M$q)}px`:"var(--spacer-2)",y=this.props.appModel.topLevelMode===et.lyf.HISTORY,f=g&&this.props.isCollapsed;return o.createElement(k,{name:"properties_panel",trackingEnabled:(0,u.kc)().trackable_properties||i&&(0,u.kc)().piper,alsoTrack:()=>{let e=l===Q.FAf.DESIGN?"design_view":"slide_view";return{pageId:(0,ei.Nf)(this.props.appModel),selectedNodeIds:Object.keys(this.props.sceneGraphSelection),panelMode:i?e:void 0}}},o.createElement(nR.vL,{name:"propertiesPanel",focusOnMount:!r,handleKeyDown:this.onKeyDown},o.createElement(nh.lk.Provider,{value:this.showCreateStyleModal},o.createElement(R.V,{className:c()(nE.Lp,{[nE.R]:!this.props.appModel.showUi,[nE.dn]:f}),style:{width:E}},this.props.shouldShowBackgroundGradient&&o.createElement(L.T,{side:"right"}),o.createElement(uS.X,null,o.createElement(cV.l,{className:c()(nE.ux,Z.Dm,{[nE.ew]:this.props.rulersVisible}),onContextMenu:this.onContextMenu,"data-onboarding-key":"properties-panel",size:E,onResize:this.onResize,side:"left",animation:this.getRightPanelAnimation(E,_),"data-cancel-insertable-resource-drag-and-drop":!0},o.createElement("div",{className:c()(nE.KE,{[nE.Pp]:f,[nE.Pp]:f&&!this.props.inUI3CollapsedSidebarPillBackgroundLab,[nE.tM]:f&&(this.props.inUI3CollapsedSidebarPillBackgroundLab||this.props.showVoiceWidget)})},this.props.isUI3&&o.createElement(cU.q,{openFile:this.props.openFile,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,isIntegration:(0,j.ck)(),selectedView:this.props.selectedView,recordingKey:this.props.recordingKey}),!f&&y&&o.createElement(nA.yU,{recordingKey:"versionHistoryView",isUI3:g}),!f&&!y&&this.renderTabsHeader(l,this.getTabs(),this.props.isUI3),!f&&!y&&(r?h:o.createElement("div",{className:nE.gq},o.createElement(O.P,{enableOverscroll:!0,key:this.props.propertiesPanelTab,ref:this.refMainScrollContainer,className:nE.jG,containerId:ng.rp,hideScrollbar:!d,onContextMenu:this.onContextMenu,scrollingDisabled:r||(t?n:!!this.props.dropdownShown)},h))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal())))))))}}uk.displayName="PropertiesPanel"},89662:(e,t,n)=>{"use strict";n.d(t,{Di:()=>N,H7:()=>I,JQ:()=>A,Uq:()=>T,VL:()=>k,d0:()=>P});var l=n(411855),r=n(109388),a=n(188507),i=n(272078),o=n(402791),s=n(983245),c=n(639061),d=n(965528),p=n(648626),u=n(22310),m=n(487337),h=n(194646),g=n(482402),E=n(531885),_=n(731939),y=n(216953),f=n(206936),v=n(428748),b=n(836454);let S="https://static.figma.com/uploads/85018c5142c2dc9201c4cab76c1d81b85b0b6181",w="https://static.figma.com/uploads/7797fe8870261875ba0109c61c2297005d9ff6f1";function T(e){let t=l.useRef(null),[n,a]=l.useState(void 0),i=()=>{if(t.current)return t.current.scrollWidth-t.current.clientWidth},o=l.useCallback(e=>{var n;let l;l=void 0!==e?e:null==(n=t.current)?void 0:n.scrollLeft;let r=i();void 0!==l&&void 0!==r&&(l<=0?a("beginning"):l>=r?a("end"):a(void 0))},[]);return l.useEffect(()=>{let e=()=>o();return window.addEventListener("wheel",e),o(),()=>window.removeEventListener("wheel",e)},[o]),{currentViewRef:t,atScrollLimit:n,handleScroll:n=>{var l;let a=r.findDOMNode(t.current),i=null==(l=t.current)?void 0:l.scrollLeft;if(!a||void 0===i)return;"backward"===n&&0===i&&(null==e||e());let s="forward"===n?700:-700;a.scroll({left:i+s,behavior:"smooth"}),o(i+s)}}}function P(e){let t,n;return void 0===e?(t=(0,o.t)("rcs.product_and_template_picker.what_would_you_like_to_do_first"),n=(0,o.t)("rcs.product_and_template_picker.we_can_help_you_get_started_faster")):"design"===e?(t=(0,o.t)("rcs.product_and_template_picker.start_from_presets_and_templates"),n=(0,o.t)("rcs.product_and_template_picker.start_from_presets_or_templates_from_our_community")):(t=(0,o.t)("rcs.product_and_template_picker.save_time_with_ready_made_templates"),n=(0,o.t)("rcs.product_and_template_picker.start_from_templates_made_by_figma_and_our_community")),{titleText:t,subtitleText:n}}let C={design:{type:"blank",editorType:g._Y.DESIGN,svg:b.A},whiteboard:{type:"blank",editorType:g._Y.WHITEBOARD,svg:b.A},iphone:{type:"preset",framePreset:p.$W["iPhone 13 & 14"],img:{src:S,width:52,height:106},backgroundColor:"#CFE2FF"},android:{type:"preset",framePreset:p.$W["Android Large"],img:{src:S,width:52,height:106},backgroundColor:"#b6f0c6"},desktop:{type:"preset",framePreset:p.$W.Desktop,img:{src:w,width:99,height:72},backgroundColor:"#F5EAC1"},wireframe:{type:"preset",framePreset:p.$W.Wireframe,img:{src:w,width:99,height:72},backgroundColor:"#F5EAC1"}};function k(e){let t=[];return t.push(C[e]),"design"===e&&(t.push(C.iphone),t.push(C.desktop)),t}function I(e,t,n){let l=[];return e&&e.forEach(e=>{t[e]&&l.push({type:"hubFile",editorType:n,hubFile:t[e]})}),l}function N(e,t,n){if(!e)return null;let l=Object.keys(t.folders).filter(n=>t.folders[n].team_id===e.id),r="design"===n?f.sK.ADD_DESIGN_FILE:f.sK.ADD_FIGJAM_FILE;return 1===l.length&&(0,_.canCreateFile)(l[0],t,n)&&(0,f.rR)(e,{type:r})?l[0]:null}function A(){let e=(0,a.Pj)(),t=(0,a.d4)(e=>(0,E.R$)(e.fileByKey,(0,_.getPermissionsState)(e),["exp_tooltips_plus_onboarding","exp_cursor_bot_onboarding"])),n=(0,h.f)("has_tooltips_plus_no_basics_file");return l.useCallback(l=>{let r=()=>{let t=(0,f.FQ)(a),n=(0,m.xA)(a,v.ai.NEW_TAB,null,{from:v.f6.FILE_BROWSER_NUX,selectedView:a.selectedView});n.editorType=g._Y.DESIGN,n.folder_id=N(t,a,n.editorType),n.openNewFileIn=(0,i.oJ)(l)?v.ai.NEW_TAB:v.ai.SAME_TAB,n.callback=e=>{(0,u.Cu)({fileKey:e,experiment:"exp_tooltips_plus_onboarding"},"Failed to open captive file")},e.dispatch(d.uM(n))},a=e.getState();if(n)r();else if(t){if((0,i.oJ)(l)){let n=(0,y.xS)(a,{view:"fullscreen",fileKey:t,editorType:g._Y.DESIGN});e.dispatch(c.V3({url:n}))}else e.dispatch(s.$T({view:"fullscreen",fileKey:t,editorType:g._Y.DESIGN}))}else r()},[e,t,n])}},927658:(e,t,n)=>{var l=n(33132)(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});e.exports=l},727928:()=>{!function(e){var t=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};e.languages.dart=e.languages.extend("clike",{"class-name":[l,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:l.inside}],keyword:t,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),e.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.dart}}},string:/[\s\S]+/}},string:void 0}),e.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),e.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":l,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(Prism)}}]);

//# debugId=29ca0426-2df9-5378-9f48-0f2b7439a4f0

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/40294bf0de2fb1a80adcb6fde3cafd65063cecb1/properties_panel-08d0313534c808a0.min.js.map