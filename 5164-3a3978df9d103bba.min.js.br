"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f50d04ce-8af7-58a1-9e9f-1272e5756596")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[5164],{821150:(e,t,n)=>{n.d(t,{$9:()=>s,BZ:()=>i,Gv:()=>p,Lq:()=>I,PE:()=>r,Pj:()=>g,SI:()=>m,_Z:()=>a,hj:()=>v,ig:()=>d,mj:()=>u,ow:()=>l,s1:()=>y,uO:()=>o,vL:()=>c});let i="styles_properties_form--styleNameAndDescriptionContainer--L2pn-",l="styles_properties_form--styleDescriptionLabel--ErQ6b",r="styles_properties_form--styleDescriptionContainer--NtXrJ",a="styles_properties_form--textInput--rWj8- raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",o="styles_properties_form--expandingTextInput--E7usn",s="styles_properties_form--textPreviewContainer---jjb4 styles_properties_form--previewContainer--SH1Yk",d="styles_properties_form--gridAndEffectPreviewContainer--9q2FM styles_properties_form--previewContainer--SH1Yk",u="styles_properties_form--loadedFillPreviewContainer--36WiC styles_properties_form--fillPreviewSize--GiUdz",c="styles_properties_form--loadingFillPreviewContainer--WPdS6 styles_properties_form--fillPreviewSize--GiUdz",p="styles_properties_form--stylePreview--tJF78",g="styles_properties_form--textStylePreview--Jp6WQ",m="styles_properties_form--textStylePreviewInverted--GeC3b",v="styles_properties_form--fillStylePreview--xOVAg styles_properties_form--fillPreviewSize--GiUdz",I="styles_properties_form--loading--0A0hy",y="styles_properties_form--isLoaded--2czdf"},285975:(e,t,n)=>{n.d(t,{H:()=>i});let i=n(411855).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},796087:(e,t,n)=>{n.d(t,{n:()=>y});var i=n(169614),l=n(796695),r=n(656927),a=n(402791),o=n(379648),s=n(573760),d=n(688745),u=n(775259),c=n(747936),p=n(784839),g=n(348883),m=n(933255);let v=e=>e===c.L.BrowseResourceTypes.FILES?"/api/feed/files":e===c.L.BrowseResourceTypes.PLUGINS?"/api/feed/plugins":e===c.L.BrowseResourceTypes.WIDGETS?"/api/feed/widgets":"/api/feed/mixed",I="community_search_duration";function y(){let e={editor_type:u.k.Editors.ALL,following:!1,price:g.C.ALL,tags:[],pagination:null,sort_by:"popular",query:"",category:null,creators:d.Z.ALL,capability_type:void 0};function t(e,t,n,i){let l={sort_by:n.sort_by,editor_type:n.editor_type,query:n.query,price:n.price,creators:n.creators,session_id:e,query_id:t,resource_type:i.resourceType},{limit:r,isPreview:a}=i;return r&&!isNaN(r)&&(l.max_num_results=r),a&&(l.limit_associations=!0),p.$W.getCommunityResources(l)}let n={sort:t=>(e.sort_by=t,n),filter:t=>(t.sort_by&&(e.sort_by=t.sort_by||m.e.Shared.POPULAR),"editor_type"in t&&t.editor_type&&(e.editor_type=t.editor_type),"following"in t&&t.following&&(e.following=t.following),"price"in t&&t.price&&(e.price=t.price),"creators"in t&&t.creators&&(e.creators=t.creators),"tags"in t&&t.tags&&(e.tags=t.tags),"pagination"in t&&t.pagination&&(e.pagination=t.pagination),"category"in t&&t.category&&(e.category=t.category),"capability_type"in t&&t.capability_type&&(e.capability_type=t.capability_type),"query"in t&&t.query&&(e.query=t.query),n),browse:function(t,n){let i=v(t),l=function(e){let t={sort_by:e.sort_by,tags:e.tags,pagination:e.pagination,editor_type:e.editor_type||u.k.Editors.ALL,category:e.category,price:e.price,creators:e.creators};return e.following&&(t.following=e.following),e.price&&(t.price=e.price),e.editor_type&&(t.editor_type=e.editor_type),e.creators&&(t.creators=e.creators),e.capability_type&&(t.capability_type=e.capability_type),t}(e);return i+=`?${new URLSearchParams(l).toString()}&include_tags=true&include_versions=true`,n&&(i+=`&page_size=${n}`),(0,r.k9)(i)},searchResourcesAndProfiles:n=>(r,d)=>{var u;let c=new l.jk(I,{});c.start();let g=(null==(u=d().search)?void 0:u.sessionId)||"unattributed",m=(0,o.M)();return Promise.all([t(g,m,e,n),function(e,t,n,i){let{profileLimit:l}=i,r={query:n.query,sessionId:e,queryId:t,maxNumResults:l||50};return p.$W.getHubProfiles(r)}(g,m,e,n)]).then(t=>{"unattributed"!==g&&r(o.N.incrementQueryCount());let l=c.stop();return(0,i.sx)(I,{elapsedMs:l,resourceResultCount:t[0].data.meta.results.length,profileResultCount:t[1].data.meta.results.length,query:e.query,isPreview:!!n.isPreview},{forwardToDatadog:!0}),t}).catch(e=>(r(s.F.enqueue({message:e.message||(0,a.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3})),Promise.reject(e)))},searchResources:(n={resourceType:"mixed"})=>(i,l)=>{var r;let d=(null==(r=l().search)?void 0:r.sessionId)||"unattributed";return t(d,(0,o.M)(),e,n).then(e=>("unattributed"!==d&&i(o.N.incrementQueryCount()),e)).catch(e=>(i(s.F.enqueue({message:e.message||(0,a.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3})),Promise.reject(e)))}};return n}},600605:(e,t,n)=>{n.d(t,{Ko:()=>f,aM:()=>w,iO:()=>b});var i=n(411855),l=n(188507),r=n(38580);if(443==n.j)var a=n(646240);var o=n(402791),s=n(452555),d=n(147944),u=n(287243),c=n(664080),p=n(829879),g=n(368480),m=n(689199),v=n(721401),I=n(796206),y=n(120550),E=n(949322),_=n(490956);let w=(0,r.eU)(!1),f=(0,r.eU)(!1);function b(e){let t=(0,l.wA)(),n=(0,g.LR)(),r=(0,a.Xr)(f),b=(0,a.Xr)(w),{uniqueId:C}=(0,u.e)({overlay:E.aM2,priority:v.N.OVERRIDING_MODAL});return(0,d.E)(C,"CTA Clicked",t=>{var n;(null==(n=null==t?void 0:t.properties)?void 0:n.trackingContext)==="Editor > universal-insert > plugin > Recents and saved > From Community"&&e.onNext()}),(0,d.E)(C,m.Wo,()=>{e.onNext()}),i.useEffect(()=>(r(!0),b(!0),()=>{b(!1)}),[r,b]),i.useEffect(()=>{(0,p.wr)(),c.glU.triggerAction("component-insert",null),t(s.En({initialX:0,initialY:0,initialFdResourceTab:I.s.PLUGIN}))},[t]),i.createElement("div",{"data-testid":"tooltips-plus-plugins-step","data-does-not-dismiss-modal":!0},i.createElement(_.VF,{dismissModal:()=>{e.onClose(),n()},disableHighlight:!0,hideCloseButton:e.hideCloseButton,targetKey:"community_feed_header",title:i.createElement(o.Tx,{id:"tooltips_plus_onboarding.plugin_step.title"}),trackingContextName:"Tooltips+ Plugin Step",lowerLeftText:i.createElement(_.uY,{currentStepNum:e.currentStepNum,totalNumSteps:e.totalNumSteps,useLoadingBar:e.useLoadingBar}),onPrimaryCtaClick:()=>{e.onNext(),n()},onSecondaryCtaClick:()=>{e.onPrevious(),n()},pointsTo:"designPanel",arrowPosition:y.F_.LEFT_TITLE},i.createElement(o.Tx,{id:"tooltips_plus_onboarding.plugin_step.text"})))}},651505:(e,t,n)=>{let i;n.d(t,{_W:()=>g,nN:()=>p});var l=n(411855),r=n(629019),a=n.n(r),o=n(402791),s=n(516752),d=n(579038),u=n(158678),c=n(179494),p=((i=p||{}).DETAIL="detail",i.TILE="title",i.FIGJAM_PLUGIN_ROW="figjam_plugin_row",i);function g(e){let{isSavedForUser:t,save:n,unsave:i}=(0,u.QK)(e.resourceId,e.resourceType);return l.createElement(m,{onClick:e=>{t?i():n(),e.stopPropagation()},isSaved:t,parentView:e.parentView,isFauxFocused:e.isFauxFocused})}function m(e){let t="title"===e.parentView?a()(c.YB,{[c.Xb]:!e.isSaved,[c.ez]:e.isSaved||!!e.isFauxFocused}):"figjam_plugin_row"===e.parentView?a()([c.k7,c._P],{[c.Xb]:!e.isSaved,[c.ez]:e.isSaved}):c.k7,{SaveIcon:n,SaveIconFilled:i}=l.useMemo(()=>"title"===e.parentView?{SaveIcon:s.TI,SaveIconFilled:s.rc}:{SaveIcon:s.Jv,SaveIconFilled:s.$O},[e.parentView]);return l.createElement("button",{className:t,onClick:e.onClick,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":e.isSaved?(0,o.t)("community.saves.remove_from_saves"):(0,o.t)("community.saves.save")},l.createElement("div",null,e.isSaved?l.createElement(i,null):l.createElement(n,null)))}},158678:(e,t,n)=>{n.d(t,{Bj:()=>m,QK:()=>g,Vw:()=>v});var i=n(411855),l=n(188507),r=n(1705),a=n(119892),o=n(220485),s=n(204927),d=n(368480),u=n(533965),c=n(776871),p=n(736176);function g(e,t){var n,a;let c=(0,o.Be)(),g=t===p.vt.PLUGIN?c.plugins[e]:c.widgets[e],m=(0,s.xp)(e),v=(0,s.aQ)(e),I=(0,l.d4)(t=>t.publishedPlugins[e]?m:v),y=(0,l.d4)(e=>e.currentUserOrgId),E=(0,r.Rs)(u.BB3,{orgId:y}),_=i.useMemo(()=>{var t,n,i;return null==(i=null==(n=null==(t=E.data)?void 0:t.currentUser)?void 0:n.installedPlugins.find(t=>t.pluginId===e))?void 0:i.id},[null==(a=null==(n=E.data)?void 0:n.currentUser)?void 0:a.installedPlugins,e]),{unsave:w,save:f}=(0,d._i)(e,t,I,_);return{unsave:w,save:f,isSavedForUser:!!(g&&"user"===g.installed_by),isSavedForOrg:!!(g&&"org"===g.installed_by),version:g}}function m(e){let t=!!e&&"user"===e.installed_by,n=!!e&&"org"===e.installed_by,{save:l,unsave:r}=(0,d._i)(e.plugin_id,p.vt.PLUGIN),a=i.useCallback((e,i)=>{n||(t?r(i):l(e,i))},[n,t,r,l]);return{isSavedForUser:t,isSavedForOrg:n,onSaveClick:a}}function v(e){let t=(0,l.wA)(),n=(0,l.d4)(t=>t.communityHub.categories?t.communityHub.categories[e]:[]),r=a.et.loadingKeyForPayload({categoryType:e}),o=(0,c.oh)(r),s=(0,c.mC)(r);return i.useEffect(()=>{o||s||t(a.et({categoryType:e}))}),{categories:n,isLoading:o,hasResolved:s}}},140586:(e,t,n)=>{let i;n.d(t,{Cg:()=>eh,GJ:()=>e$,R7:()=>ev,dr:()=>eG,ff:()=>eb,tO:()=>eV,yG:()=>ez});var l=n(411855),r=n(188507),a=n(629019),o=n.n(a),s=n(42821),d=n(732326);if(443==n.j)var u=n(159849);var c=n(695614),p=n(931538),g=n(304913),m=n(738957),v=n(487644),I=n(995225),y=n(959875),E=n(402791),_=n(43594),w=n(162122),f=n(584284),b=n(352600),C=n(680897),T=n(406125),h=n(117276),R=n(803077),N=n(983245),P=n(346532),F=n(165077),k=n(704268),B=n(220485),S=n(22310),A=n(204927),x=n(148886),D=n(797811),L=n(141106),O=n(113420),M=n(801199),U=n(482402),j=n(633470),V=n(736176),W=n(944725),G=n(579038),z=n(459911),$=n(673327),H=n(831050),Y=n(684136),q=n(114241),Z=n(631044),J=n(98140),K=n(797795),Q=n(600605),X=n(493334);if(443==n.j)var ee=n(250853);var et=n(132708),en=n(541983),ei=n(651505),el=n(761938),er=n(819076),ea=n(534733),eo=n(796206),es=n(179494),ed=n(292164),eu=n(362679),ec=n(13556);if(443==n.j)var ep=n(665150);if(443==n.j)var eg=n(111431);var em=n(237494),ev=((i=ev||{}).COMMUNITY="community",i.RECENT="recent",i.DEVELOPMENT="development",i.DEVELOPMENT_MISSING_LOCAL="development_missing_local",i.ORG_PRIVATE="org_private",i.SAVED="saved",i.INVITED="invited",i);function eI(e){var t,n;let i=(0,r.d4)(e=>e.orgById);if(e.resource.is_private){let r=(null==(t=e.resource)?void 0:t.org_id)&&(null==(n=i[e.resource.org_id])?void 0:n.name);return l.createElement(v.B,{svg:em.A,className:es.kQ,"data-tooltip-type":G.Ib.TEXT,"data-tooltip":r?(0,E.t)("community.plugins.private_for_plugin_org_name",{orgName:r}):(0,E.t)("community.plugins.private_for_plugin_org")})}return l.createElement(l.Fragment,null)}let ey=l.createContext(null);function eE(){return(0,c.sR)(l.useContext(ey),"Must be wrapped within <FdBrowseWidgetTileContext.Provider>")}let e_=l.createContext(null);function ew(){return(0,c.sR)(l.useContext(e_),"Must be wrapped within <FdBrowsePluginTileContext.Provider>")}function ef(e,t,n){let i=l.useRef(null),r=l.useCallback(()=>{i.current&&i.current.click()},[i]),{setKeyboardNavigationElement:a,isFauxFocused:o,keyboardNavigationItem:s}=(0,m.M3)({path:t||[0],fauxClick:r,id:e}),d=n&&t&&t.length>=2&&t[0]===ea.B6&&0===t[1];return l.useEffect(()=>{d&&(null==s||s.fauxFocus())},[d,s]),{setKeyboardNavigationElement:a,isFauxFocused:o,keyboardNavigationButtonRef:i}}function eb({resourceId:e,type:t,keyboardNavigationPath:n,shouldFocusFirstItem:i}){let r;let{activeTab:a,viewResource:o}=(0,ea.IT)(),s=(0,B.$1)(),d="development"===t?Object.values(s).find(t=>String(t.localFileId)===e):null,u=null==d?void 0:d.plugin_id,c=l.useCallback(()=>o({id:u??e}),[e,o,u]),p=l.useMemo(()=>a===eo.s.WIDGET?{viewWidgetDetails:c,keyboardNavigationPath:n,shouldFocusFirstItem:i}:{viewPluginDetails:c,keyboardNavigationPath:n,shouldFocusFirstItem:i},[a,n,c,i]);if(a===eo.s.WIDGET){switch(t){case"community":r=l.createElement(eM,{widgetId:e});break;case"recent":r=l.createElement(eA,{widgetId:e,type:"recent"});break;case"development":r=l.createElement(eL,{localFileId:e});break;case"development_missing_local":r=l.createElement(eL,{widgetId:e});break;case"org_private":r=l.createElement(eD,{widgetId:e});break;case"saved":r=l.createElement(ex,{widgetId:e,type:"saved"});break;case"invited":r=l.createElement(eO,{widgetId:e});break;default:return null}return l.createElement(ey.Provider,{value:p},r)}switch(t){case"community":r=l.createElement(eT,{pluginId:e});break;case"recent":r=l.createElement(eC,{pluginId:e});break;case"development":r=l.createElement(eF,{localFileId:e});break;case"development_missing_local":r=l.createElement(eF,{pluginId:e});break;case"org_private":r=l.createElement(ek,{pluginId:e});break;case"saved":r=l.createElement(eN,{pluginId:e,type:"saved"});break;case"invited":r=l.createElement(eR,{pluginId:e});break;default:return null}return l.createElement(e_.Provider,{value:p},r)}function eC({pluginId:e}){let t=(0,B.b4)()[e],n=(0,B.cW)()[e],i=(0,A.tw)(n);return t?(0,W.ZQ)(t)?l.createElement(eF,{localFileId:t.localFileId.toString(),isRecentTile:!0}):i?null:l.createElement(eN,{pluginId:t.plugin_id,type:"recent"}):null}function eT(e){let t=(0,B.cW)()[e.pluginId];if(e.plugin&&(t=e.plugin),!t)return null;let n=(0,j.uF)(t),{description:i,tagline:r}=n,a=(0,ea.fO)(t),o=l.createElement(l.Fragment,null,l.createElement("div",{className:es.y7},(0,R.G8)({tagline:r,description:i},p.$J)),l.createElement("div",{className:es.Yl},a));return l.createElement(eS,{pluginVersion:n,subheader:o,pluginId:e.pluginId,primaryCTAButton:e.ctaButton,alwaysShowPrimaryCTA:e.alwaysShowCta,isDevModeWizard:e.isDevModeWizard,onClick:e.onClick,isCommunityPreview:!0})}function eh({plugin:e,ctaButton:t,onClick:n}){let i={viewPluginDetails:u.lQ,keyboardNavigationPath:void 0,shouldFocusFirstItem:void 0};return l.createElement(e_.Provider,{value:i},l.createElement(eT,{pluginId:e.id,plugin:e,ctaButton:t,alwaysShowCta:!0,isDevModeWizard:!0,onClick:n}))}function eR(e){let t=(0,B.cW)()[e.pluginId],n=(0,r.wA)(),i=l.useCallback(()=>{n(N.oB())},[n]);if(!t)return null;let a=(0,j.uF)(t),{description:o,tagline:s}=a,d=l.createElement(l.Fragment,null,l.createElement("div",{className:es.Pg},(0,R.G8)({tagline:s,description:o},p.$J)),l.createElement("div",{className:es.Yl},(0,ea.fO)(t)));return l.createElement(l.Fragment,null,l.createElement(eS,{pluginVersion:a,subheader:d,pluginId:e.pluginId,onClick:i,showEditorTypeIcon:!0,isNotification:!0,metadataOverrideNode:l.createElement(en.PE,{resource:t})}))}let eN=l.memo(function(e){let t=(0,B.Be)(),n=t.plugins[e.pluginId]||t.orgPlugins[e.pluginId],i=(0,B.b4)()[e.pluginId],r=(0,B.cW)()[e.pluginId],a=l.useMemo(()=>"recent"===e.type?i:"org_private"===e.type?(0,j.uF)(r):n,[n,e.type,r,i]),o=(0,O.U)(),s=(null==o?void 0:o.type)===er._n&&o.data.pluginId===e.pluginId&&o.data.targetRect&&o.data.viewType===e.type,d=ez(e.pluginId,e.type);return l.createElement(eP,{pluginId:e.pluginId,type:e.type,dropdownIsShown:s,runOptionsDropdownIsShown:d,version:a})}),eP=l.memo(function(e){var t;let{dropdownIsShown:n,version:i}=e,a=(0,r.wA)(),{viewPluginDetails:o}=ew(),s=l.useCallback(t=>{t.stopPropagation(),n?a(N.oB()):a(N.j7({type:er._n,data:{pluginId:e.pluginId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[n,a,e.pluginId,e.type]),d=(0,k.dR)(e.pluginId,"universal-insert"),u=(0,k.Gt)(e.pluginId,"universal-insert"),c=(0,k.t0)(e.pluginId,u,d),p=c.length>0,g=e.runOptionsDropdownIsShown&&p,m=l.useRef(null),{validatePublishedPluginInOrgAllowlist:v,isPluginBlockedByAllowlist:I}=(0,B.j1)(e.pluginId),y=(0,k.RK)(e.pluginId),E=l.useCallback(t=>{if(null==t||t.stopPropagation(),v()){if(p){g?a(N.oB()):a(eG({pluginId:e.pluginId,tileType:e.type}));return}y?u():d(),a(P.b({seen_published_plugin_onboarding_modal:!0})),a(P.b({seen_development_plugin_onboarding_modal:!0}))}},[v,p,y,a,g,e.pluginId,e.type,u,d]),_=null==(t=m.current)?void 0:t.getBoundingClientRect();if(!i)return null;let w=!!(g&&_)||n,f=l.createElement(ei._W,{resourceId:e.pluginId,resourceType:V.vt.PLUGIN,parentView:ei.nN.TILE,isFauxFocused:w});return l.createElement("div",null,l.createElement(eS,{pluginVersion:i,pluginId:e.pluginId,onOptionsClick:s,optionsButtonIsActive:n,onClick:E,showOnClickDropdownChevron:p,secondaryIcon:l.createElement(eI,{resource:i}),primaryCTAButton:f,isFauxFocused:w,visuallyDisabled:I}),l.createElement("div",{ref:m}),g&&_&&l.createElement(J.j,{showPoint:!1,lean:"center",items:c,onSelectItem:e=>{e.callback&&e.callback("",null,a)},parentRect:_,dispatch:a}),n&&l.createElement(er.EJ,{viewResource:o,plugin:i}))});function eF(e){var t;let n=(0,r.wA)(),i=(0,B.nl)({allowNonVsCodePluginsInVsCode:!0}),a=e.localFileId?i[e.localFileId]:void 0,o=a?a.plugin_id:e.pluginId,s=(0,B.kd)({includePendingPublishers:!1}).find(e=>e.id===o),d=s?(0,j.uF)(s):void 0,u=(0,O.U)(),{viewPluginDetails:c}=ew(),p=(null==u?void 0:u.type)===er.lD&&(null==u?void 0:u.data.localFileId)===e.localFileId&&(null==u?void 0:u.data.pluginId)===o,g=l.useCallback(t=>{if(t.stopPropagation(),p)n(N.oB());else{let i=t.currentTarget.getBoundingClientRect();n(N.j7({type:er.lD,data:{localFileId:e.localFileId,pluginId:o,targetRect:i}}))}},[n,e.localFileId,o,p]),m=(0,k.Gt)(o,"universal-insert"),I=(0,k.dR)(o,"universal-insert"),y=(0,k.t0)(o,m,I),_=y.length>0,w=l.useRef(null),b=null==(t=w.current)?void 0:t.getBoundingClientRect(),C=ez(o,e.isRecentTile?"recent_development":"development")&&_,T=l.useCallback(()=>{if(_){C?n(N.oB()):o&&n(eG({pluginId:o,tileType:e.isRecentTile?"recent_development":"development"}));return}I()},[_,I,C,n,o,e.isRecentTile]);if(!a&&!s)return null;let h=l.createElement(et.A,{localResource:a,publishedResource:s}),P=s&&(0,R.AC)(s),F=s&&(null==d?void 0:d.redirect_icon_url),S=s&&!P?s.roles.is_public?ep.A:em.A:void 0,A=l.createElement(f.Ex,{height:"16"},l.createElement("span",null,l.createElement(E.Tx,{id:"universal_insert.development"})));return l.createElement(l.Fragment,null,l.createElement(eS,{pluginVersion:d,localPlugin:a,subheader:h,icon:F?void 0:l.createElement(v.B,{svg:eg.A,className:es.Bx}),secondaryIcon:A,pluginId:o,onOptionsClick:g,onClick:T,optionsButtonIsActive:p,showOnClickDropdownChevron:_,showEditorTypeIcon:!1,publishingStatusIcon:S,inReview:P}),l.createElement("div",{ref:w}),C&&b&&l.createElement(J.j,{showPoint:!1,lean:"center",items:y,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:b,dispatch:n}),p&&(a?l.createElement(er.T9,{localResource:a,viewResource:c}):l.createElement(er.T9,{publishedResource:s,viewResource:c})))}function ek(e){return(0,B.cW)()[e.pluginId]?l.createElement(eN,{pluginId:e.pluginId,type:"org_private"}):null}function eB({pluginId:e,name:t,icon:n,iconUrl:i}){let[r,a]=l.useState(!!n);return l.createElement("div",{className:o()(r?es.lP:es.vt)},n||l.createElement($.V,{plugin:{name:t,plugin_id:e,redirect_icon_url:i??""},loading:"lazy",alt:`${t} icon`,onLoad:()=>a(!0)}))}function eS(e){var t,n,i,r;let a;let s=(null==(t=e.pluginVersion)?void 0:t.name)??(null==(n=e.localPlugin)?void 0:n.name)??"",u=null==(i=e.pluginVersion)?void 0:i.redirect_icon_url,{isPluginSetToAutoRun:c}=(0,z.bE)(e.pluginVersion??null),p=e.localPlugin?e.localPlugin.manifest.editorType:null==(r=e.pluginVersion)?void 0:r.manifest.editorType,g=!e.subheader,{viewPluginDetails:m,keyboardNavigationPath:T,shouldFocusFirstItem:h}=ew(),{setKeyboardNavigationElement:R,isFauxFocused:N,keyboardNavigationButtonRef:P}=ef(`plugin_${s}`,T,!!h),k=(0,F.j6)(),D=(0,d.md)(Q.aM),L=(0,A.ul)(e.pluginId),O=Object.values((0,B.$1)()).find(t=>String(t.plugin_id)===e.pluginId),U=(0,j.uF)(L),V=(0,j.pk)(U),W=(0,A.EO)(L)&&!O,$=(0,A.OY)(L),H=(0,A.gn)(L)&&!O,Y=(0,M.sZ)(),J=(0,B.ll)(),ee=!O&&(0,x.BF)({org:Y,extensionVersion:U??e.pluginVersion,isWidget:!1,allowlistedExtensions:J}),et=e.isCommunityPreview&&!ee&&!e.isDevModeWizard,en=W&&!$?l.createElement(eH,{plugin:L,hideFreeTrialBadge:!0}):H?l.createElement(X.ur,null):et?l.createElement(eV,{pluginId:e.pluginId,buttonRef:P}):void 0,ei=(0,b.QP)({resource:L,height:"16",validBadges:[b.op.FREEMUM,b.op.OFF_PLATFORM,b.op.PURCHASED]});l.useEffect(()=>{D&&e.pluginId&&(0,S.qD)({name:(k.name||"")+" > plugin tile view",pluginId:e.pluginId})},[D,e.pluginId,k.name]);let el=e.metadataOverrideNode??l.createElement(l.Fragment,null,l.createElement("div",{className:es.FV},l.createElement(w.Y,{spacing:4},l.createElement("div",{className:o()(es.B6,{[y.cx.colorTextDisabled.$]:e.visuallyDisabled})},s),c&&l.createElement(f.Ex,{height:"16"},(0,E.t)("universal_insert.auto_run")),e.inReview&&l.createElement(C.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,ei&&!H&&l.createElement("div",{className:es.UK},ei),e.publishingStatusIcon&&l.createElement("div",{className:y.cx.colorIcon.$},l.createElement(I.t,{svg:e.publishingStatusIcon})),e.showOnClickDropdownChevron&&l.createElement(v.B,{svg:ed.A,className:es.o2})),e.subheader&&l.createElement("div",{className:es.ZK},e.subheader)),en&&l.createElement("div",{className:es.D1},en),e.onOptionsClick&&l.createElement(K.K0,{svg:eu.A,fallbackSvg:ec.A,className:e.optionsButtonIsActive?es.F$:es.D1,onClick:e.onOptionsClick,"data-tooltip-type":G.Ib.TEXT,"data-tooltip":(0,E.t)("universal_insert.more_options")}),e.primaryCTAButton&&l.createElement("div",{style:_.sx.add({alignSelf:"center"}).$},e.primaryCTAButton)),er=function(e,t){if((0,Z.ks)());else if(e&&t)return!0;return!1}(e.showEditorTypeIcon,p),ea=(0,Z.ks)();a=er?l.createElement(q.li.IconAndBadgeContainer,null,l.createElement(eB,{pluginId:e.pluginId,name:s,iconUrl:u,icon:e.icon}),l.createElement(q.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},l.createElement(q.dn,{editorType:p,is16x16:!0}))):ea&&V?l.createElement(q.li.IconAndBadgeContainer,null,l.createElement(eB,{pluginId:e.pluginId,name:s,icon:e.icon,iconUrl:u}),l.createElement(q.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},l.createElement(q.cC,null))):l.createElement(eB,{pluginId:e.pluginId,name:s,icon:e.icon,iconUrl:u});let eo=()=>{if((0,S.Cu)({trackingContext:k.name,pluginId:e.pluginId}),W&&!$||ee){m();return}if(e.onClick){e.onClick();return}m()};return l.createElement("div",{className:o()(g?es.$C:es.MJ,N||e.isFauxFocused?es.c6:void 0,e.isDevModeWizard?es.NH:void 0),onClick:eo,role:"button",tabIndex:0,ref:T?R:void 0},l.createElement("button",{onClick:e=>{e.stopPropagation(),eo()},ref:et?void 0:P,"data-testid":"plugin-tile-button"}),l.createElement("div",{className:es.ot},e.isNotification&&l.createElement("div",{className:es.Vx}),a),el)}function eA(e){let t=(0,B.YO)()[e.widgetId],n=(0,B.ZT)()[e.widgetId],i=(0,A.tw)(n);return t?(0,W.ZQ)(t)?l.createElement(eL,{localFileId:t.localFileId.toString(),isRecentTile:!0}):i?null:l.createElement(ex,{widgetId:e.widgetId,type:"recent"}):null}function ex(e){var t;let n=(0,r.wA)(),{viewWidgetDetails:i}=eE(),a=(0,B.ZT)()[e.widgetId],o=(0,B.Be)().widgets[e.widgetId],d=(0,B.YO)()[e.widgetId],u="recent"===e.type?d:"org_private"===e.type?(0,j.uF)(a):o,c=(0,O.U)(),p=(null==c?void 0:c.type)===er._n&&c.data.widgetId===e.widgetId&&c.data.targetRect&&c.data.viewType===e.type,g=(0,B.Ud)(e.widgetId),m=l.useRef(null),v=(0,B.WK)(e.widgetId),I=s.eD&&!!g&&!v,y=!!v||I,E=(0,O.U)(),_=l.useRef(null),w=(null==c?void 0:c.type)===el.cH&&c.data.widgetId===e.widgetId,{isWidgetBlockedByAllowlist:f}=(0,B.Ys)(e.widgetId),b=l.useCallback(t=>{if(y){if(t.preventDefault(),t.stopPropagation(),w)n(N.oB());else{let i=t.currentTarget.getBoundingClientRect();n(N.j7({type:el.cH,data:{targetRect:i,widgetId:e.widgetId}}))}}},[n,e.widgetId,w,y]),C=l.useCallback(()=>{(0,L.j)({pluginID:e.widgetId,widgetName:u.name,pluginVersionID:u.id,triggeredFrom:"universal-insert"})},[u,e.widgetId]),T=l.useCallback(e=>{y?b(e):D.l7.user("insert-published-widget",()=>{C()})},[C,b,y]),h=l.useCallback(t=>{t.stopPropagation(),p?n(N.oB()):n(N.j7({type:er._n,data:{widgetId:e.widgetId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[p,n,e.widgetId,e.type]);if(!u)return null;if((0,W.ZQ)(u))return l.createElement(eL,{localFileId:u.localFileId.toString()});let R=null==(t=_.current)?void 0:t.getBoundingClientRect(),P=!!(E&&R)||p,F=l.createElement(ei._W,{resourceId:e.widgetId,resourceType:V.vt.WIDGET,parentView:ei.nN.TILE,isFauxFocused:P});return l.createElement("div",null,l.createElement(ej,{widget:u,localWidget:v,subheader:(0,ea.CF)(u),iconUrl:u.redirect_snapshot_url??void 0,widgetId:e.widgetId,useHorizontalLayout:!0,optionsButtonIsActive:p,onOptionsClick:h,onClick:T,secondaryIcon:l.createElement(eI,{resource:u}),primaryCTAButton:F,isFauxFocused:P,visuallyDisabled:f}),l.createElement("div",{ref:m}),E&&R&&l.createElement(er.NR,{targetRect:R,widgetId:e.widgetId,lean:"center"}),p&&l.createElement(er.EJ,{viewResource:i,plugin:u}))}function eD(e){return(0,B.ZT)()[e.widgetId]?l.createElement(ex,{widgetId:e.widgetId,type:"org_private"}):null}function eL(e){let t=(0,r.wA)(),n=(0,B.yQ)(),i=l.useMemo(()=>e.localFileId?n[e.localFileId]:void 0,[n,e.localFileId]),a=(0,B.jg)(),o=i?i.plugin_id:e.widgetId,s=(0,B.bh)({includePendingPublishers:!1}),d=l.useMemo(()=>Object.values(s).find(e=>e.id===o),[s,o]),u=l.useMemo(()=>d&&d.current_plugin_version_id?d.versions[d.current_plugin_version_id]:void 0,[d]),c=(0,O.U)(),{viewWidgetDetails:p}=eE(),g=(null==c?void 0:c.type)===Y.jZ.DEVELOPMENT_WIDGET_DROPDOWN&&(null==c?void 0:c.data.isRecentTile)===e.isRecentTile&&(null==c?void 0:c.data.localFileId)===e.localFileId&&(null==c?void 0:c.data.pluginId)===o&&(null==c?void 0:c.data.targetRect),m=l.useCallback(n=>{if(n.stopPropagation(),g)t(N.oB());else{let i=n.currentTarget.getBoundingClientRect();t(N.j7({type:Y.jZ.DEVELOPMENT_WIDGET_DROPDOWN,data:{localFileId:e.localFileId,pluginId:o,isRecentTile:e.isRecentTile,targetRect:i}}))}},[t,e.localFileId,o,e.isRecentTile,g]),v=l.useCallback(()=>{i&&(0,L.j)({pluginID:i.plugin_id,widgetName:i.name,pluginVersionID:"",triggeredFrom:"universal-insert"})},[i]);if(!i&&!d)return null;let I=l.createElement(et.A,{localResource:i,publishedResource:d}),y=d&&(0,R.AC)(d),E=d&&(0,j.uF)(d).redirect_snapshot_url||e.localFileId&&a[e.localFileId]&&a[e.localFileId].metadata.widgetSnapshotImageSrc||ee.J,_=d&&!y?d.roles.is_public?ep.A:em.A:void 0;return l.createElement(l.Fragment,null,l.createElement(ej,{widget:u,localWidget:i,subheader:I,iconUrl:E,widgetId:o,onClick:()=>v(),onOptionsClick:m,optionsButtonIsActive:g,useHorizontalLayout:!0,showEditorTypeIcon:!1,publishingStatusIcon:_,inReview:y}),g&&(i?l.createElement(er.T9,{localResource:i,viewResource:p}):l.createElement(er.T9,{publishedResource:d,viewResource:p})))}function eO(e){let{widgetId:t}=e,n=(0,B.ZT)()[t]??null;if(!n)return null;let i=(0,j.uF)(n),{redirect_snapshot_url:r,manifest:a}=i;return l.createElement(ej,{widget:i,iconUrl:r??void 0,widgetId:n.id,onClick:e=>e.stopPropagation(),useHorizontalLayout:!0,showEditorTypeIcon:!0,editorType:a.editorType,isNotification:!0,metadataOverrideNode:l.createElement(en.PE,{resource:n})})}function eM(e){let t=(0,A.J$)(e.widgetId);if(!t)return null;let n=(0,j.uF)(t),i=(0,ea.fO)(t),r=l.createElement(l.Fragment,null,l.createElement("div",{className:es.rz},(0,R.G8)(n,p.$J)),l.createElement("div",{className:es.Yl},i));return l.createElement(ej,{widget:n,subheader:r,iconUrl:n.redirect_snapshot_url??void 0,widgetId:e.widgetId})}function eU({useHorizontalLayout:e=!1,onIconClick:t,disabled:n,iconUrl:i="",widget:a,publishedWidget:o,keyboardNavigationButtonRef:s}){let d=l.useMemo(()=>e?[b.op.PRICE]:[b.op.PURCHASED,b.op.OFF_PLATFORM,b.op.FREEMUM,b.op.PRICE],[e]),u=(0,r.d4)(e=>e.authedActiveCommunityProfile);return l.createElement("div",{className:e?es.Zv:es.Cq,onClick:t,role:"button",tabIndex:0},n?l.createElement(H.z,{src:i,context:U._Y.DESIGN}):l.createElement(H._,{widget:a,src:i,analytics:{triggeredFrom:"universal-insert"},keyboardNavigationButtonRef:s,context:U._Y.DESIGN}),l.createElement("div",{className:es.VJ},(0,b.$3)({resource:o,authedActiveCommunityProfile:u,validBadges:d,height:e?"16":"24"})))}let ej=l.memo(function(e){let t=e.localWidget??e.widget??j.lT,{viewWidgetDetails:n,keyboardNavigationPath:i,shouldFocusFirstItem:r}=eE(),{setKeyboardNavigationElement:a,isFauxFocused:s,keyboardNavigationButtonRef:d}=ef(`widget_${t.name}`,i,!!r),u=(0,B.ZT)()[e.widgetId],c=(0,A.EO)(u),p=(0,A.gn)(u),g=u?(0,j.uF)(u):null,m=t.name;(null==g?void 0:g.name)&&(null==g?void 0:g.name)!==""&&(m=null==g?void 0:g.name);let v=(0,M.sZ)(),f=(0,B.U6)(),b=!e.localWidget&&(0,x.BF)({org:v,extensionVersion:g??e.widget,isWidget:!0,allowlistedExtensions:f}),T=!!(c||b),h=(0,F.j6)(),R=T?void 0:e=>e.stopPropagation(),N=e.metadataOverrideNode??l.createElement(l.Fragment,null,l.createElement("div",{className:es.QF},l.createElement("div",{className:es.JW},l.createElement(w.Y,{spacing:4,verticalAlignItems:"center"},l.createElement("div",{className:o()(es.Y2,{[y.cx.colorTextDisabled.$]:e.visuallyDisabled})},m),e.inReview&&l.createElement(C.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,e.publishingStatusIcon&&l.createElement("div",{className:y.cx.colorIcon.$},l.createElement(I.t,{svg:e.publishingStatusIcon})),p&&l.createElement("div",{className:es.Y9},l.createElement(X.xY,null)))),l.createElement("div",{className:es.ML},e.subheader)),e.onOptionsClick&&l.createElement(K.K0,{svg:eu.A,fallbackSvg:ec.A,className:e.optionsButtonIsActive?es.F$:es.D1,onClick:e.onOptionsClick,"data-tooltip-type":G.Ib.TEXT,"data-tooltip":(0,E.t)("universal_insert.more_options")}),e.primaryCTAButton&&l.createElement("div",{style:_.sx.add({alignSelf:"center"}).$},e.primaryCTAButton));return l.createElement("div",{className:o()(e.useHorizontalLayout?es.Gy:es.BG,s?es.c6:void 0),onClick:t=>{(0,S.Cu)({trackingContext:h.name,widgetId:e.widgetId}),T?n():e.onClick?e.onClick(t):n()},role:"button",tabIndex:0,ref:i?a:void 0,"data-testid":"widget-tile"},l.createElement("div",{className:es.ot},e.isNotification&&l.createElement("div",{className:es.Vx}),e.showEditorTypeIcon?l.createElement(q.li.IconAndBadgeContainer,null,l.createElement(eU,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:R,disabled:T,iconUrl:e.iconUrl,widget:t,publishedWidget:u,keyboardNavigationButtonRef:d}),l.createElement(q.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"widget"},l.createElement(q.dn,{editorType:e.editorType,is16x16:!0}))):l.createElement(eU,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:R,disabled:T,iconUrl:e.iconUrl,widget:t,publishedWidget:u,keyboardNavigationButtonRef:d})),N)});function eV(e){var t;let n=(0,r.wA)(),i=l.useRef(null),a=(0,O.U)(),o=(0,B.JI)(),s=(0,Z.ks)(),d=(0,k.dR)(e.pluginId,"universal-insert"),u=(0,k.Gt)(e.pluginId,"universal-insert"),c=(0,k.t0)(e.pluginId,u,d),p=c.length>0,m=ez(e.pluginId,"community"),I=p&&(null==a?void 0:a.type)===e.dropdownShownType&&(null==a?void 0:a.data.pluginId)===e.pluginId,y=m||I,{validatePublishedPluginInOrgAllowlist:_}=(0,B.j1)(e.pluginId),w=(0,k.RK)(e.pluginId),f=l.useCallback(t=>{if(t.stopPropagation(),_()){if(p){y?n(N.oB()):(e.dropdownShownType&&n(N.j7({type:e.dropdownShownType,data:{pluginId:e.pluginId}})),n(eG({pluginId:e.pluginId,tileType:"community"})));return}w?u():d(),n(P.b({seen_published_plugin_onboarding_modal:!0})),n(P.b({seen_development_plugin_onboarding_modal:!0}))}},[_,p,w,n,y,e.dropdownShownType,e.pluginId,u,d]);if(s&&!o)return null;let b=null==(t=i.current)?void 0:t.getBoundingClientRect(),C=e.usePrimaryButtonStyles?l.createElement(g.$$,{onClick:f,className:es.lI},l.createElement(E.Tx,{id:"universal_insert.run"}),p&&l.createElement(v.B,{svg:ed.A,className:es.sI})):l.createElement("button",{className:es.lO,onClick:f,ref:e.buttonRef},l.createElement(E.Tx,{id:"universal_insert.run"}),p&&l.createElement(v.B,{svg:ed.A,className:es.zZ}));return l.createElement("div",{className:e.usePrimaryButtonStyles?es.od:void 0,"data-testid":"run-plugin-button"},l.createElement("div",{ref:i},C),y&&b&&l.createElement(J.j,{showPoint:!1,items:c,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:b,dispatch:n,lean:"left"}))}let eW="DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU";function eG(e){return N.j7({type:eW,data:e})}function ez(e,t){let n=(0,O.U)();return(null==n?void 0:n.type)===eW&&n.data.pluginId===e&&t===n.data.tileType}function e$(e){var t;let n=(0,r.wA)(),i=(0,B.ZT)()[e.widgetId],a=(0,B.WK)(e.widgetId),o=(0,B.Ud)(e.widgetId),d=s.eD&&!!o&&!a,u=!!a||d,c=(0,O.U)(),p=(null==c?void 0:c.type)===el.cH&&c.data.widgetId===e.widgetId,m=l.useRef(null),I=l.useCallback(t=>{if(u){if(t.preventDefault(),t.stopPropagation(),p)n(N.oB());else{let i=t.currentTarget.getBoundingClientRect();n(N.j7({type:el.cH,data:{targetRect:i,widgetId:e.widgetId}}))}}},[n,e.widgetId,p,u]),y=l.useCallback(()=>{let e=(0,j.uF)(i);(0,L.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:e.id,triggeredFrom:"universal-insert"})},[i]),_=l.useCallback(e=>{u?I(e):D.l7.user("insert-published-widget",()=>{y()})},[y,I,u]);if(!i)return null;let w=l.createElement(g.$$,{onClick:_,className:es.lI},l.createElement(E.Tx,{id:"universal_insert.add"}),u&&l.createElement(v.B,{svg:ed.A,className:es.sI})),f=null==(t=m.current)?void 0:t.getBoundingClientRect();return l.createElement("div",{className:es.od},l.createElement("div",{ref:m},w),p&&f&&l.createElement(er.NR,{targetRect:f,widgetId:e.widgetId}))}function eH(e){let t=(0,A.lt)(e.plugin);return e.plugin.monetized_resource_metadata?l.createElement("div",{className:es.y2},l.createElement("div",{className:es.lO},(0,h.bV)(e.plugin.monetized_resource_metadata)),!e.hideFreeTrialBadge&&(0,h.Lt)({resource:e.plugin,payment:t})&&l.createElement(T.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})):null}},239338:(e,t,n)=>{function i(){return null}n.d(t,{GO:()=>p,H5:()=>l,Mr:()=>y,Qc:()=>o,go:()=>a,j8:()=>g,jK:()=>I,kD:()=>r,l:()=>c,li:()=>u,mh:()=>v,oT:()=>m,rC:()=>s,rf:()=>d});let l=i,r=i,a=i,o=i,s=i,d=i,u=i,c=i,p=i,g=i,m=i,v=i,I=i,y=i}}]);

//# debugId=f50d04ce-8af7-58a1-9e9f-1272e5756596

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/3c0315ec50feec81ec3f541ff0162be9793b14bd/5164-3a3978df9d103bba.min.js.map